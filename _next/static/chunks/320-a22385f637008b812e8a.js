(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[320],{80721:function(e,n,r){"use strict";var t=r(85893),i=r(27261),a=r(29163),s=r(30454);function o(){var e=(0,i.Z)(["\n  margin-top: ",";\n"]);return o=function(){return e},e}function c(){var e=(0,i.Z)(["\n  &&& {\n    margin-left: 20px;\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,i.Z)(["\n  & li {\n    margin: 0;\n  }\n"]);return d=function(){return e},e}function u(){var e=(0,i.Z)(["\n  text-transform: uppercase;\n  margin-bottom: 0;\n  font-size: ",";\n"]);return u=function(){return e},e}var l=a.default.h2(u(),s.CA),h=a.default.ul(d()),f=a.default.li(c()),p=a.default.div(o(),s.SI);n.Z=function(){return(0,t.jsxs)(p,{children:[(0,t.jsx)(l,{children:"Requirements"}),(0,t.jsxs)(h,{children:[(0,t.jsx)("li",{children:"Keep your email address active, and if you are not using your realm, clean it up"}),(0,t.jsxs)("li",{children:["If you are not using your realm/client app configuration"," ",(0,t.jsx)("a",{href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"ask us"})," for help"]})]}),(0,t.jsx)(l,{children:"We're a Community"}),(0,t.jsxs)(h,{children:[(0,t.jsxs)("li",{children:["As part of a community, we can solve things together and quickly. Please join the"," ",(0,t.jsx)("a",{href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel on Rocket.Chat"})]}),(0,t.jsxs)("li",{children:["Please follow the BC Government digital standards (",(0,t.jsx)("a",{href:"https://digital.gov.bc.ca/resources/digital-principles",target:"_blank",rel:"noreferrer",children:"link"}),")"]}),(0,t.jsx)("li",{children:"Coordinate load testing with the Pathfinder SSO Team, and please only use the Test environment"}),(0,t.jsxs)("li",{children:["The SSO Service is multitenancy; meaning you share with others, so please coordinate"," ",(0,t.jsx)("a",{href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"with us"}),":",(0,t.jsx)(f,{children:"if you predict moderate or high loads"}),"OR",(0,t.jsx)(f,{children:"if you need to conduct load testing in TEST only"})]})]}),(0,t.jsx)(l,{children:"What's included in the service"}),(0,t.jsx)(h,{children:(0,t.jsx)("li",{children:"The Standard realm is configured to meet the general needs of the community. Currently, custom configurations, such as scopes or flows, are not available"})}),(0,t.jsx)(l,{children:"Understanding the service level"}),(0,t.jsxs)(h,{children:[(0,t.jsx)("li",{children:'We are working towards enterprise service levels and in the interim the SSO Pathfinder service level is "best-effort" during business hours (Monday to Friday, 9am to 5pm), and after-hours resolution time is not guaranteed'}),(0,t.jsx)("strong",{children:'Please take this into account if you have a "critical" application'}),(0,t.jsx)("li",{children:"From time to time, we may contact you to confirm if your configuration is needed"})]})]})}},59320:function(e,n,r){"use strict";r.d(n,{Z:function(){return je}});var t=r(85893),i=r(809),a=r.n(i),s=r(39227),o=r(92447),c=r(26265),d=r(27261),u=r(67294),l=r(29163);function h(){var e=(0,d.Z)(["\n  font-weight: lighter;\n  color: #003366;\n"]);return h=function(){return e},e}var f=l.default.h1(h()),p=r(31607),v=r(17625),x=r(51436),m=r(96486);function j(){var e=(0,d.Z)(["\n  width: 30px;\n"]);return j=function(){return e},e}function g(){var e=(0,d.Z)(["\n  display: flex;\n  & p {\n    padding-left: 15px;\n  }\n"]);return g=function(){return e},e}var b=l.default.div(g()),y=l.default.span(j());function w(e){var n=e.formStage,r=e.id,i=e.saveMessage,a=e.saving,s=(0,m.padStart)(String(r),8,"0"),o=["".concat(r?"Req ID: ".concat(s," - "):"","Enter requester information"),"Req ID: ".concat(s," - Choose providers and provide URIs"),"Req ID: ".concat(s," - Terms and Conditions"),"Req ID: ".concat(s," - Review and Submit")];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f,{children:o[n]}),(a||i)&&(0,t.jsxs)(b,{children:[(0,t.jsx)(y,{children:a?(0,t.jsx)(p.Z,{type:"TailSpin",color:"#000",height:18,width:50,visible:!0,label:"request-saving"}):(0,t.jsx)(v.G,{style:{color:"#006fc4"},icon:null!==i&&void 0!==i&&i.error?x.eHv:x.LEp,title:"request-saved"})}),(0,t.jsx)("p",{children:null===i||void 0===i?void 0:i.content})]})]})}function S(){var e=(0,d.Z)(["\n  width: 100px;\n  margin: 0;\n"]);return S=function(){return e},e}function k(){var e=(0,d.Z)(["\n  height: 40px;\n  width: 40px;\n  text-align: center;\n  line-height: 40px;\n  border-radius: 40px;\n  border: 1px solid #b9d8f0;\n  background-color: white;\n  font-weight: bold;\n"]);return k=function(){return e},e}function Z(){var e=(0,d.Z)(["\n  height: 60px;\n  width: 200px;\n  background-color: #ebf7ff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 5px;\n  padding: 20px;\n  cursor: pointer;\n  margin: 3px 0;\n  font-weight: ",";\n  color: ",";\n  background-color: ",";\n  border: ",";\n"]);return Z=function(){return e},e}var P=l.default.div(Z(),(function(e){return e.active&&"bold"}),(function(e){return e.active||e.visited?"#003366":"#B0D4ED"}),(function(e){return e.active||e.visited?"#BCE4FF":"#F5FBFF"}),(function(e){return e.active||e.visited?"1px solid #006fc4":"1px solid #B9D8F0"})),q=l.default.div(k()),C=l.default.p(S());function O(e){var n=e.stageNumber,r=e.title,i=e.active,a=e.visited,s=e.handleClick,o=e.hasError;return(0,t.jsxs)(P,{active:i||!1,visited:a||!1,onClick:s,children:[(0,t.jsx)(q,{children:o?(0,t.jsx)(v.G,{icon:x.eHv,color:"red",title:"Some additional fields require your attention."}):n}),(0,t.jsx)(C,{children:r})]})}var F=r(64735);function R(){var e=(0,d.Z)(["\n  width: 824px;\n  max-width: 100%;\n"]);return R=function(){return e},e}var T=[{title:"Requester Info",number:0},{title:"Providers and URIs",number:1},{title:"Terms and conditions",number:2},{title:"Review & Submit",number:3}],D=l.default.div(R());function N(e){var n=e.currentStage,r=e.setFormStage,i=e.errors,a=e.creatingNewForm,s=e.visited;return(0,t.jsx)(D,{children:(0,t.jsx)(F.ZP,{cols:4,children:(0,t.jsx)(F.ZP.Row,{collapse:"992",gutter:[],children:T.map((function(e){return(0,t.jsx)(F.ZP.Col,{children:(0,t.jsx)(O,{title:e.title,stageNumber:e.number+1,active:e.number===n,hasError:!!i[e.number],visited:s[e.number],handleClick:function(){return function(e){a()||r(e)}(e.number)}},e.number)},e.title)}))})})})}var E=r(17849);function I(e){e.id;var n=e.classNames,r=(e.label,e.help),i=(e.required,e.description),a=e.errors,s=e.children;return(0,t.jsxs)("div",{className:n,children:[i,s,a,r]})}var U=r(60873);function B(){var e=(0,d.Z)(["\n  font-weight: bold;\n  font-size: 1rem;\n  margin: 0;\n"]);return B=function(){return e},e}var G=l.default.legend(B());function L(e){e.id;var n=e.classNames,r=e.label,i=e.help,a=(e.required,e.errors),s=e.children,o=e.schema,c=o.tooltipTitle,d=o.tooltipContent,u=o.hide,l=void 0===u?250:u,h=o.description;return(0,t.jsxs)("div",{className:n,children:[(0,t.jsxs)(G,{children:[r,"\xa0",(0,t.jsx)(U.Z,{tooltipTitle:c,tooltipContent:d,hide:l})]}),h,s,a,i]})}var W=function(e){return{identityProviders:{"ui:widget":"checkboxes","ui:disabled":"true","ui:help":"Currently we only support the onestopauth realm and IDPs cant be changed."},environments:{"ui:widget":"checkboxes"},projectLead:{"ui:widget":"radio","ui:readonly":e},newToSso:{"ui:widget":"radio","ui:FieldTemplate":L},preferredEmail:{"ui:FieldTemplate":I},publicAccess:{"ui:widget":"radio","ui:FieldTemplate":L},projectName:{"ui:FieldTemplate":I,"ui:placeholder":"Project Name"},realm:{"ui:widget":"radio","ui:FieldTemplate":L,"ui:enumDisabled":["bceidbasic","bceidbusiness","bceidboth"],"ui:default":"onestopauth"}}},A=r(25463),z=r(69696),_=r(4826),H=r(6645),M=r(3083),V=r(15616),$=r(11163),K=r(30454),Y=r(25879);function J(){var e=(0,d.Z)(["\n  list-style: none;\n  margin: 0;\n  & li {\n    margin: 0;\n  }\n"]);return J=function(){return e},e}function Q(){var e=(0,d.Z)(["\n  font-weight: 600;\n"]);return Q=function(){return e},e}function X(){var e=(0,d.Z)(["\n  margin: 20px 0;\n  max-width: 500px;\n  background-color: #e3e3e3;\n  height: 2px !important;\n"]);return X=function(){return e},e}function ee(){var e=(0,d.Z)(["\n  margin-top: ",";\n  font-size: unset;\n  & tr {\n    display: flex;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    & > td {\n      border: none;\n      padding: 0 5px 0 0;\n    }\n  }\n"]);return ee=function(){return e},e}var ne=l.default.table(ee(),K.SI),re=l.default.hr(X()),te=l.default.span(Q()),ie=l.default.ul(J()),ae=function(e){return void 0===e?"":e?"Yes":"No"},se=function(e){return(0,t.jsx)(ie,{children:null===e||void 0===e?void 0:e.map((function(e){return(0,t.jsx)("li",{children:e})}))})};var oe=(0,Y.l)((function(e){var n=e.formData,r=e.setErrors,i=(e.errors,e.visited),s=e.alert,c=(0,u.useState)(!1),d=c[0],l=c[1],h=(0,$.useRouter)(),f=function(){var e=(0,o.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=(0,V.G$)(n,i),!(Object.keys(t).length>0)){e.next=5;break}return s.show({variant:"danger",fadeOut:1e4,closable:!0,content:"There were errors with your submission. Please see the navigation tabs above for the form pages with errors."}),e.abrupt("return",r(t));case 5:return l(!0),e.next=8,(0,H.WN)(n,!0);case 8:l(!1),s.show({variant:"success",fadeOut:1e4,closable:!0,content:"Request ID:".concat((0,m.padStart)(String(n.id),8,"0")," is successfully submitted!")}),h.push({pathname:"/my-requests",query:{id:n.id}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ne,{children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Are you the product owner or project admin/team lead?"}),(0,t.jsx)("td",{children:(0,t.jsx)(te,{children:ae(null===n||void 0===n?void 0:n.projectLead)})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Have you requested an SSO access before?"}),(0,t.jsx)("td",{children:(0,t.jsx)(te,{children:ae(null===n||void 0===n?void 0:n.newToSso)})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Client Type:"}),(0,t.jsx)("td",{children:(0,t.jsx)(te,{children:null!==n&&void 0!==n&&n.publicAccess?"Public":"Confidential"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Project Name:"}),(0,t.jsx)("td",{children:(0,t.jsx)(te,{children:null===n||void 0===n?void 0:n.projectName})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Preferred email address:"}),(0,t.jsx)("td",{children:(0,t.jsx)(te,{children:null===n||void 0===n?void 0:n.preferredEmail})})]})]})}),(0,t.jsx)(re,{}),(0,t.jsx)(ne,{children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Identity providers required:"}),(0,t.jsx)("td",{children:(0,t.jsx)(te,{children:se((0,V.LF)(null===n||void 0===n?void 0:n.realm))})})]}),(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:"Dev redirect URIs:"})}),(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:(0,t.jsx)(te,{children:se(null===n||void 0===n?void 0:n.devValidRedirectUris)})})}),(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:"Test redirect URIs:"})}),(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:(0,t.jsx)(te,{children:se(null===n||void 0===n?void 0:n.testValidRedirectUris)})})}),(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:"Prod redirect URIs:"})}),(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:(0,t.jsx)(te,{children:se(null===n||void 0===n?void 0:n.prodValidRedirectUris)})})})]})}),(0,t.jsx)(A.Z,{text:{continue:"Submit",back:"Cancel"},show:!0,loading:d,handleSubmit:f,handleBackClick:function(){h.push("/my-requests")}})]})})),ce=r(80721),de=r(8366),ue=r(94679);function le(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function he(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?le(Object(r),!0).forEach((function(n){(0,c.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function fe(){var e=(0,d.Z)(["\n  display: block;\n  margin: 10px;\n  margin-left: auto;\n"]);return fe=function(){return e},e}function pe(){var e=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n\n  & .pg-modal-main {\n    max-width: 600px;\n    margin: auto;\n  }\n"]);return pe=function(){return e},e}var ve=(0,l.default)(z.ZP)(pe()),xe=(0,l.default)(_.ZP)(fe()),me=function(e,n){var r,t=null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data,i={pathname:"/application-error"};t&&(i.query={error:t}),n.push(i)};var je=(0,Y.l)((function(e){var n=e.currentUser,r=void 0===n?{}:n,i=e.request,c=e.alert,d=(0,u.useState)(i||{}),l=d[0],h=d[1],f=(0,u.useState)(i?1:0),p=f[0],m=f[1],j=(0,u.useState)(!1),g=j[0],b=j[1],y=(0,u.useState)(void 0),S=y[0],k=y[1],Z=(0,u.useState)(!1),P=Z[0],q=Z[1],C=(0,u.useState)({}),O=C[0],F=C[1],R=(0,u.useState)(i?{0:!0}:{}),T=R[0],D=R[1],I=(0,$.useRouter)();(0,u.useEffect)((function(){l.preferredEmail||h(he(he({},l),{},{preferredEmail:r.email||""}))}),[r]);var U=function(e){T[p]=!0,3===e&&(T[0]=!0,T[1]=!0,T[2]=!0);var n=(0,V.G$)(l,T);F(n),m(e),D(T),c.hide()},B=function(){return I.route.endsWith("/request")},G=W(!B()),L=function(){var e=(0,o.Z)(a().mark((function e(){var n,r,t,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),e.prev=1,!B()){e.next=19;break}return e.next=5,(0,H.hG)(l);case 5:if(n=e.sent,r=(0,s.Z)(n,2),t=r[0],i=r[1],o=(t||{}).id,!i&&o){e.next=14;break}return me(i,I),b(!1),e.abrupt("return");case 14:return e.next=16,I.push({pathname:"/request/".concat(o)});case 16:h(he(he({},l),{},{id:o})),e.next=22;break;case 19:return e.next=21,(0,H.WN)(l);case 21:_();case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.error(e.t0);case 27:b(!1);case 28:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==p){e.next=5;break}if(!B()){e.next=5;break}return T[p]=!0,D(T),e.abrupt("return");case 5:U(p+1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,o.Z)(a().mark((function e(n,r){var t,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B()){e.next=2;break}return e.abrupt("return");case 2:if(!i){e.next=12;break}return q(!0),e.next=6,(0,H.WN)(he(he({},l),{},{id:i.id}));case 6:t=e.sent,o=(0,s.Z)(t,2),o[0],(c=o[1])?me(c,I):k({content:"Last saved at ".concat((new Date).toLocaleString()),error:!1}),q(!1);case 12:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w,{formStage:p,id:l.id,saveMessage:S,saving:P}),(0,t.jsx)(N,{currentStage:p,setFormStage:U,errors:O,creatingNewForm:B,visited:T}),2===p&&(0,t.jsx)(ce.Z,{}),[0,1,2].includes(p)?(0,t.jsx)(E.Z,{schema:de.Z[p],uiSchema:G,onChange:function(e){h(e.formData),!1===e.formData.projectLead&&(window.location.hash="modal")},onSubmit:L,formData:l,ArrayFieldTemplate:M.Z,onBlur:K,liveValidate:T[p],validate:ue.M,children:(0,t.jsx)(A.Z,{formSubmission:0===p,text:{continue:"Next",back:"Cancel"},show:0!==p||l.projectLead,loading:g,handleSubmit:_,handleBackClick:function(){I.push("/my-requests")}})}):(0,t.jsx)(oe,{formData:l,setErrors:F,errors:O,visited:T}),0===p&&(0,t.jsxs)(ve,{id:"modal",children:[(0,t.jsx)(z.ZP.Header,{children:(0,t.jsx)(v.G,{icon:x.sqG,size:"2x",title:"Information"})}),(0,t.jsxs)(z.ZP.Content,{children:["We can only process access requests submittted by"," ",(0,t.jsx)("strong",{children:"product owners, project admin or team leads"}),". If you are not acting in one of these roles, please get in touch with these individuals in your organization to make the request for you.",(0,t.jsx)(xe,{onClick:function(){I.push("my-requests")},children:"Okay"})]})]})]})}))}}]);