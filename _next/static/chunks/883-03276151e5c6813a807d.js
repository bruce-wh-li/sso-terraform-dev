(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[883],{92665:function(e,t,n){"use strict";var r=n(85893),i=n(27261),o=n(6434),a=n(29163),s=n(30454);function c(){var e=(0,i.Z)(["\n  margin-top: 10px;\n"]);return c=function(){return e},e}function l(){var e=(0,i.Z)(["\n  list-style: none;\n  margin: 0;\n  & li {\n    margin: 0;\n  }\n"]);return l=function(){return e},e}function d(){var e=(0,i.Z)(["\n  font-weight: 600;\n"]);return d=function(){return e},e}function u(){var e=(0,i.Z)(["\n  margin: 20px 0;\n  max-width: 500px;\n  background-color: #e3e3e3;\n  height: 2px !important;\n"]);return u=function(){return e},e}function h(){var e=(0,i.Z)(["\n  margin-top: ",";\n  font-size: unset;\n  & tr {\n    display: flex;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    & > td {\n      border: none;\n      padding: 0 5px 0 0;\n    }\n  }\n"]);return h=function(){return e},e}var f=a.default.table(h(),s.SI),p=a.default.hr(u()),m=a.default.span(d()),v=a.default.ul(l()),x=a.default.h2(c()),j=function(e){return void 0===e?"":e?"Yes":"No"},g=function(e){var t=e.list,n=e.title;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:n}),1===(null===t||void 0===t?void 0:t.length)&&(0,r.jsx)(m,{children:(0,r.jsx)("span",{children:t[0]},t[0])})]}),(null===t||void 0===t?void 0:t.length)>1&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{children:(0,r.jsx)(m,{children:(0,r.jsx)(v,{children:null===t||void 0===t?void 0:t.map((function(e){return(0,r.jsx)("li",{children:e},e)}))})})})})]})},b=function(e){return!!e&&(1!==e.length||""!==e[0])};t.Z=function(e){var t=e.request,n=e.hasBceid;return t?(0,r.jsxs)(r.Fragment,{children:[n&&(0,r.jsx)(x,{children:"Provided by SSO Pathfinder team: access to dev and/or test\xa0"}),(0,r.jsx)(f,{children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Are you the product owner or project admin/team lead?"}),(0,r.jsx)("td",{children:(0,r.jsx)(m,{children:j(null===t||void 0===t?void 0:t.projectLead)})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Have you requested an SSO access before?"}),(0,r.jsx)("td",{children:(0,r.jsx)(m,{children:j(null===t||void 0===t?void 0:t.newToSso)})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Client Type:"}),(0,r.jsx)("td",{children:(0,r.jsx)(m,{children:null!==t&&void 0!==t&&t.publicAccess?"Public":"Confidential"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Project Name:"}),(0,r.jsx)("td",{children:(0,r.jsx)(m,{children:null===t||void 0===t?void 0:t.projectName})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Default email address:"}),(0,r.jsx)("td",{children:(0,r.jsx)(m,{children:null===t||void 0===t?void 0:t.preferredEmail})})]}),(0,r.jsx)(g,{list:null===t||void 0===t?void 0:t.additionalEmails,title:"Additional Emails:"})]})}),(0,r.jsx)(p,{}),(0,r.jsx)(f,{children:(0,r.jsxs)("tbody",{children:[(0,r.jsx)(g,{list:(0,o.LF)(null===t||void 0===t?void 0:t.realm),title:"Identity Providers Required:"}),b(null===t||void 0===t?void 0:t.devValidRedirectUris)&&(0,r.jsx)(g,{list:null===t||void 0===t?void 0:t.devValidRedirectUris,title:"Dev Redirect URIs:"}),b(null===t||void 0===t?void 0:t.testValidRedirectUris)&&(0,r.jsx)(g,{list:null===t||void 0===t?void 0:t.testValidRedirectUris,title:"Test Redirect URIs:"}),b(null===t||void 0===t?void 0:t.prodValidRedirectUris)&&(0,r.jsx)(g,{list:null===t||void 0===t?void 0:t.prodValidRedirectUris,title:"Prod Redirect URIs:"})]})})]}):null}},80721:function(e,t,n){"use strict";var r=n(85893),i=n(27261),o=n(29163),a=n(30454),s=n(74150);function c(){var e=(0,i.Z)(["\n  margin-top: ",";\n"]);return c=function(){return e},e}function l(){var e=(0,i.Z)(["\n  &&& {\n    margin-left: 20px;\n  }\n"]);return l=function(){return e},e}function d(){var e=(0,i.Z)(["\n  & li {\n    margin: 0;\n  }\n"]);return d=function(){return e},e}function u(){var e=(0,i.Z)(["\n  text-transform: uppercase;\n  margin-bottom: 0;\n  font-size: ",";\n"]);return u=function(){return e},e}var h=o.default.h2(u(),a.CA),f=o.default.ul(d()),p=o.default.li(l()),m=o.default.div(c(),a.SI);t.Z=function(){return(0,r.jsxs)(m,{children:[(0,r.jsx)(h,{children:"Requirements"}),(0,r.jsxs)(f,{children:[(0,r.jsx)("li",{children:"Keep your email address active, and if you are not using your integration, clean it up"}),(0,r.jsxs)("li",{children:["If you are not using your client app configuration"," ",(0,r.jsx)(s.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"ask us"})," ","for help"]})]}),(0,r.jsx)(h,{children:"We're a Community"}),(0,r.jsxs)(f,{children:[(0,r.jsxs)("li",{children:["As part of a community, we can solve things together and quickly. Please join the"," ",(0,r.jsx)(s.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel on Rocket.Chat"})]}),(0,r.jsxs)("li",{children:["Please follow the",(0,r.jsx)(s.ZP,{external:!0,href:"https://digital.gov.bc.ca/resources/digital-principles",target:"_blank",rel:"noreferrer",children:"BC Government digital standards"})]}),(0,r.jsx)("li",{children:"Coordinate load testing with the Pathfinder SSO Team, and please only use the Test environment"}),(0,r.jsxs)("li",{children:["The SSO Service is multitenancy; meaning you share with others, so please coordinate with us (",(0,r.jsx)(s.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel on Rocket.Chat"})," ","or email at ",(0,r.jsx)(s.ZP,{href:"mailto:bcgov.sso@gov.bc.ca",children:"bcgov.sso@gov.bc.ca"}),") :",(0,r.jsxs)("ul",{children:[(0,r.jsxs)(p,{children:["if you predict moderate or high loads",(0,r.jsx)("br",{}),"OR",(0,r.jsx)("br",{})]}),(0,r.jsx)(p,{children:"if you need to conduct load testing in TEST only"})]})]})]}),(0,r.jsx)(h,{children:"What's included in the service"}),(0,r.jsx)(f,{children:(0,r.jsx)("li",{children:"The Standard realm is configured to meet the general needs of the community. Currently, custom configurations, such as scopes or flows, are not available"})}),(0,r.jsx)(h,{children:"Understanding the service level"}),(0,r.jsxs)(f,{children:[(0,r.jsxs)("li",{children:['We are working towards enterprise service levels and in the interim the SSO Pathfinder service level is "best-effort" during business hours (Monday to Friday, 9am to 5pm), and after-hours resolution time is not guaranteed.',(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:'Please take this into account if you have a "critical" application'})})]}),(0,r.jsx)("li",{children:"From time to time, we may contact you to confirm if your configuration is needed"})]})]})}},60883:function(e,t,n){"use strict";n.d(t,{Z:function(){return be}});var r=n(85893),i=n(809),o=n.n(i),a=n(39227),s=n(92447),c=n(26265),l=n(27261),d=n(67294),u=n(29163);function h(){var e=(0,l.Z)(["\n  font-weight: lighter;\n  color: #003366;\n"]);return h=function(){return e},e}var f=u.default.h1(h()),p=n(96486);function m(e){var t=e.formStage,n=e.id,i=(0,p.padStart)(String(n),8,"0"),o=["".concat(n?"Req ID: ".concat(i," - "):"","Enter requester information"),"Req ID: ".concat(i," - Choose providers and provide URIs"),"Req ID: ".concat(i," - Terms and Conditions"),"Req ID: ".concat(i," - Review and Submit")];return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f,{children:o[t]})})}var v=n(17625),x=n(51436);function j(){var e=(0,l.Z)(["\n  width: 100px;\n  margin: 0;\n"]);return j=function(){return e},e}function g(){var e=(0,l.Z)(["\n  height: 40px;\n  width: 40px;\n  text-align: center;\n  line-height: 40px;\n  border-radius: 40px;\n  border: 1px solid #b9d8f0;\n  background-color: white;\n  font-weight: bold;\n"]);return g=function(){return e},e}function b(){var e=(0,l.Z)(["\n  height: 60px;\n  width: 200px;\n  background-color: #ebf7ff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 5px;\n  padding: 20px;\n  cursor: pointer;\n  margin: 3px 0;\n  font-weight: ",";\n  color: ",";\n  background-color: ",";\n  border: ",";\n"]);return b=function(){return e},e}var y=u.default.div(b(),(function(e){return e.active&&"bold"}),(function(e){return e.active||e.visited?"#003366":"#B0D4ED"}),(function(e){return e.active||e.visited?"#BCE4FF":"#F5FBFF"}),(function(e){return e.active||e.visited?"1px solid #006fc4":"1px solid #B9D8F0"})),w=u.default.div(g()),S=u.default.p(j());function Z(e){var t=e.stageNumber,n=e.title,i=e.active,o=e.visited,a=e.handleClick,s=e.hasError;return(0,r.jsxs)(y,{active:i||!1,visited:o||!1,onClick:a,children:[(0,r.jsx)(w,{children:s?(0,r.jsx)(v.G,{icon:x.eHv,color:"red",title:"Some additional fields require your attention."}):t}),(0,r.jsx)(S,{children:n})]})}var O=n(64735);function P(){var e=(0,l.Z)(["\n  width: 824px;\n  max-width: 100%;\n"]);return P=function(){return e},e}var k=u.default.div(P());function C(e){var t=e.currentStage,n=e.setFormStage,i=e.errors,o=e.creatingNewForm,a=e.visited,s=e.stages;return(0,r.jsx)(k,{children:(0,r.jsx)(O.ZP,{cols:4,children:(0,r.jsx)(O.ZP.Row,{collapse:"992",gutter:[],children:null===s||void 0===s?void 0:s.map((function(e){return(0,r.jsx)(O.ZP.Col,{children:(0,r.jsx)(Z,{title:e.title,stageNumber:e.number+1,active:e.number===t,hasError:!!i[e.number],visited:a[e.number],handleClick:function(){return function(e){o()||n(e)}(e.number)}},e.number)},e.title)}))})})})}var D=n(17849);function E(e){e.id;var t=e.classNames,n=(e.label,e.help),i=(e.required,e.description),o=e.errors,a=e.children;return(0,r.jsxs)("div",{className:t,children:[i,a,o,n]})}var T=n(60873);function F(){var e=(0,l.Z)(["\n  font-weight: bold;\n  font-size: 1rem;\n  margin: 0;\n"]);return F=function(){return e},e}var q=u.default.legend(F());function I(e){e.id;var t=e.classNames,n=e.label,i=e.help,o=(e.required,e.errors),a=e.children,s=e.schema,c=s.tooltipTitle,l=s.tooltipContent,d=s.hide,u=void 0===d?250:d,h=s.description;return(0,r.jsxs)("div",{className:t,children:[(0,r.jsxs)(q,{children:[n,"\xa0",l&&(0,r.jsx)(T.Z,{tooltipTitle:c,tooltipContent:l,hide:u})]}),h,a,o,i]})}var R=function(e){return{identityProviders:{"ui:widget":"checkboxes","ui:disabled":"true","ui:help":"Currently we only support the onestopauth realm and IDPs cant be changed."},projectLead:{"ui:widget":"radio","ui:readonly":e},newToSso:{"ui:widget":"radio","ui:FieldTemplate":I},preferredEmail:{"ui:FieldTemplate":E,"ui:readonly":!0},publicAccess:{"ui:widget":"radio","ui:FieldTemplate":I},projectName:{"ui:FieldTemplate":E,"ui:placeholder":"Project Name"},realm:{"ui:widget":"radio","ui:FieldTemplate":I,"ui:default":"onestopauth"},environments:{"ui:FieldTemplate":I},bceidTo:{"ui:FieldTemplate":E,"ui:readonly":!0},bceidCc:{"ui:FieldTemplate":E},bceidBody:{"ui:widget":"textarea"}}},N=n(1993),A=n(98806),B=n(69696),L=n(4826),U=n(6645),W=n(3083),G=n(11163),V=n(6434),z=n(30454),H=n(25879),M=n(74150),_=n(82401),Y=n(92665),$=n(31607),J={type:"object",required:["comment"],properties:{comment:{type:"string",title:"Comment",fullWidth:!0,rows:4}}},K={comment:{"ui:FieldTemplate":E,"ui:widget":"textarea"}},Q={type:"object",properties:{projectLead:{type:"boolean",title:"Are you the product owner or project admin/team lead?"}},required:["projectLead","projectName","preferredEmail","newToSso"],dependencies:{projectLead:{oneOf:[{properties:{projectLead:{enum:[!1]}}},{properties:{projectLead:{enum:[!0]},newToSso:{type:"boolean",title:"Have you requested an SSO integration before?",tooltipContent:'<p>If new to SSO, please visit <a style="color: #0000EE" href="https://github.com/bcgov/ocp-sso/wiki/Using-Your-SSO-Client" target="blank">github</a> for more information</p>',hide:2e3},projectName:{type:"string",title:"What Project is this integration for?",maxLength:50},preferredEmail:{type:"string",title:"Default Email Address",format:"email",maxLength:250},additionalEmails:{type:["array","null"],title:"Additional Emails",items:{type:"string",maxLength:250,format:"email"},additionalItems:{type:"string",maxLength:250,format:"email"},deletableIndex:0,maxItems:2,addItemText:"Add Email Address"}}}]}}},X=n(28835),ee=[Q,X.ZP,{type:"object",required:["agreeWithTerms"],properties:{agreeWithTerms:{type:"boolean",title:"I agree to the Terms and Conditions",default:null,enum:[null,!0]}}}],te=[Q,X.ZP,J],ne={type:"object",required:["realm","publicAccess"],properties:{bceidTo:{type:"string",title:"To"},bceidCc:{type:"string",title:"CC"},bceidBody:{type:"string",description:"Please complete the information below for access to the prod environment. You will receive an email from IDIM with 2-3 business days, once they receive the information.",title:"Email Body Text",rows:10,fullWidth:!0}}};function re(e){var t=e.bceidEmailDetails,n=e.setBceidEmailDetails,i=R(!0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:"Provided by BCeID team: access to prod\xa0"}),(0,r.jsx)("p",{children:"The email below will be provided to the BCeID team. They will reach out to you to complete the request for prod."}),(0,r.jsx)(D.Z,{schema:ne,uiSchema:i,formData:t,onChange:function(e){n(e.formData)},children:(0,r.jsx)(r.Fragment,{})})]})}var ie=n(57120);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(){var e=(0,l.Z)(["\n  margin: 10px;\n"]);return se=function(){return e},e}function ce(){var e=(0,l.Z)(["\n  display: block;\n  margin: 10px;\n  min-width: ",";\n"]);return ce=function(){return e},e}function le(){var e=(0,l.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n"]);return le=function(){return e},e}var de=u.default.div(le()),ue=(0,u.default)(L.ZP)(ce(),z.I2),he=(0,u.default)(_.Z)(se());var fe=(0,H.l)((function(e){var t=e.formData,n=e.setFormData,i=e.setErrors,c=e.alert,l=e.isAdmin,u=(0,d.useState)(!1),h=u[0],f=u[1],m=(0,d.useState)({}),j=m[0],g=m[1],b=(0,G.useRouter)(),y=(0,V.Jx)(t.realm);(0,d.useEffect)((function(){var e=t.additionalEmails,n=[t.preferredEmail];Array.isArray(e)&&(n=n.concat(e));var r=n.join(", ");g({bceidTo:"bcgov.sso@gov.bc.ca, IDIM.Consulting@gov.bc.ca",bceidCc:r,bceidBody:ie.w})}),[t]);var w=function(){var e=(0,s.Z)(o().mark((function e(){var n,r,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),n=y?ae(ae({},t),{},{bceidEmailDetails:j}):t,e.next=5,(0,U.WN)(n,!0);case 5:r=e.sent,i=(0,a.Z)(r,2),s=i[1],f(!1),s?c.show({variant:"danger",fadeOut:1e4,closable:!0,content:(0,V.nU)(s).message}):(c.show({variant:"success",fadeOut:1e4,closable:!0,content:"Request ID:".concat((0,p.padStart)(String(t.id),8,"0")," is successfully submitted!")}),b.push({pathname:l?"/admin-dashboard":"/my-requests",query:{id:t.id}})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),S=l?"Cancel":"Save and Close",Z=l?"Update":"Submit";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Y.Z,{request:t,hasBceid:y||!1}),l&&(0,r.jsx)(D.Z,{schema:J,uiSchema:K,liveValidate:!0,onChange:function(e){n(e.formData)},formData:t,children:(0,r.jsx)(r.Fragment,{})}),y&&(0,r.jsx)(re,{bceidEmailDetails:j,setBceidEmailDetails:g}),(0,r.jsx)(N.Z,{text:{continue:Z,back:S},show:!0,handleSubmit:function(){var e=l?te:ee,n=(0,V.G$)(t,e);if(Object.keys(n).length>0)return c.show({variant:"danger",fadeOut:1e4,closable:!0,content:"There were errors with your submission. Please see the navigation tabs above for the form pages with errors."}),i(n);window.location.hash="confirmation-modal"},handleBackClick:function(){var e=l?"/admin-dashboard":"/my-requests";b.push(e)}}),(0,r.jsxs)(A.Z,{id:"confirmation-modal",children:[(0,r.jsx)(B.ZP.Header,{children:(0,r.jsx)(v.G,{icon:x.sqG,size:"2x",title:"Information"})}),(0,r.jsxs)(B.ZP.Content,{children:[(0,r.jsx)("p",{children:"Are you sure you're ready to submit your request?"}),!l&&(0,r.jsxs)("p",{children:["If you need to change anything after submitting your request, please contact our"," ",(0,r.jsx)(M.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel"})," ","or email ",(0,r.jsx)(M.ZP,{href:"mailto:bcgov.sso@gov.bc.ca",children:"bcgov.sso@gov.bc.ca"})]}),(0,r.jsxs)(de,{children:[(0,r.jsx)(he,{onClick:function(){return window.location.hash="#"},children:"Cancel"}),(0,r.jsx)(ue,{onClick:w,children:h?(0,r.jsx)($.Z,{type:"Grid",color:"#FFF",height:20,width:20}):"Submit"})]})]})]})]})})),pe=n(80721),me=n(94679);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(){var e=(0,l.Z)(["\n  display: block;\n  margin: 10px;\n  margin-left: auto;\n"]);return je=function(){return e},e}var ge=(0,u.default)(L.ZP)(je());var be=(0,H.l)((function(e){var t,n=e.currentUser,i=void 0===n?{}:n,c=e.request,l=e.alert,u=e.isAdmin,h=(0,d.useState)(c||{}),f=h[0],p=h[1],j=(0,d.useState)(c?1:0),g=j[0],b=j[1],y=(0,d.useState)(!1),w=y[0],S=y[1],Z=(0,d.useState)(void 0),O=Z[0],P=Z[1],k=(0,d.useState)(!1),E=k[0],T=k[1],F=(0,d.useState)({}),q=F[0],I=F[1],L=(0,d.useState)(c?{0:!0}:{}),z=L[0],H=L[1],M=(0,G.useRouter)(),_=u?te:ee,Y=u?ie.hO:ie.w3,$=(null===(t=Y.find((function(e){return e.number===g})))||void 0===t?void 0:t.title)||"";(0,d.useEffect)((function(){f.preferredEmail||p(xe(xe({},f),{},{preferredEmail:i.email||""}))}),[i]);var J=function(e){z[g]=!0,3===e&&(z[0]=!0,z[1]=!0,z[2]=!0);var t=(0,V.G$)(f,_,z);I(t),b(e),H(z),l.hide()},K=function(){return M.route.endsWith("/request")},Q=R(!K()),X=function(){var e=(0,s.Z)(o().mark((function e(){var t,n,r,i,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(!0),e.prev=1,!K()){e.next=19;break}return e.next=5,(0,U.hG)(f);case 5:if(t=e.sent,n=(0,a.Z)(t,2),r=n[0],i=n[1],s=(r||{}).id,!i&&s){e.next=13;break}return S(!1),e.abrupt("return");case 13:return c=u?"/admin-dashboard":"/request/".concat(s),e.next=16,M.push({pathname:c});case 16:p(xe(xe({},f),{},{id:s})),e.next=22;break;case 19:return e.next=21,(0,U.WN)(f);case 21:ne();case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.error(e.t0);case 27:S(!1);case 28:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==g){e.next=5;break}if(!K()){e.next=5;break}return z[g]=!0,H(z),e.abrupt("return");case 5:J(g+1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,s.Z)(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K()&&!u){e.next=2;break}return e.abrupt("return");case 2:if(!c){e.next=11;break}return T(!0),e.next=6,(0,U.WN)(xe(xe({},f),{},{id:c.id}));case 6:r=e.sent,i=(0,a.Z)(r,2),i[1]||P({content:"Last saved at ".concat((new Date).toLocaleString()),error:!1}),T(!1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=c?"Save and Close":"Cancel";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{formStage:g,id:f.id}),(0,r.jsx)(C,{currentStage:g,setFormStage:J,errors:q,creatingNewForm:K,visited:z,stages:Y}),"Terms and conditions"===$&&(0,r.jsx)(pe.Z,{}),ie.Hg.includes($)&&(0,r.jsx)(fe,{formData:f,setErrors:I,errors:q,visited:z,saving:E,saveMessage:O,isAdmin:u,setFormData:p}),ie.al.includes($)&&(0,r.jsx)(D.Z,{schema:_[g]||{},uiSchema:Q,onChange:function(e){p(e.formData),!1===e.formData.projectLead&&(window.location.hash="modal")},onSubmit:X,formData:f,ArrayFieldTemplate:W.Z,onBlur:re,liveValidate:z[g]||u,validate:me.M,children:(0,r.jsx)(N.Z,{formSubmission:0===g,text:{continue:"Next",back:oe},show:!u&&(0!==g||f.projectLead),loading:w,handleSubmit:ne,handleBackClick:function(){var e=u?"/admin-dashboard":"/my-requests";M.push({pathname:e})},saving:E,saveMessage:O})}),"Requester Info"===$&&(0,r.jsxs)(A.Z,{id:"modal",children:[(0,r.jsx)(B.ZP.Header,{children:(0,r.jsx)(v.G,{icon:x.sqG,size:"2x",title:"Information"})}),(0,r.jsxs)(B.ZP.Content,{children:["We can only process access requests submitted by"," ",(0,r.jsx)("strong",{children:"product owners, project admin or team leads"}),". If you are not acting in one of these roles, please get in touch with these individuals in your organization to make the request for you.",(0,r.jsx)(ge,{onClick:function(){M.push("/my-requests")},children:"Okay"})]})]})]})}))}}]);