(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{35611:function(e,t,n){"use strict";t.ZP=void 0;var r=n(96282),a=n(69829),i={shared:{label:"\n      display: block;\n      margin-bottom: 0.2777em;\n    ",wrapper:"\n      position: relative;\n      display: flex;\n      background: #fff;\n      overflow: hidden;\n      border: 2px solid #606060;\n      border-radius: 0;\n      padding: 0.3em 0;\n\n      &:after {\n        content: ' ';\n        background-image: "+(0,a.toSvgUrl)(a.ChevronDown)+";\n        background-size: contain;\n        background-repeat: no-repeat;\n        position: absolute;\n        right: 0.2em;\n        width: 1.2em;\n        height: 100%;\n        text-align: center;\n        cursor: pointer;\n        pointer-events: none;\n        -webkit-transition: .25s all ease;\n        -o-transition: .25s all ease;\n        transition: .25s all ease;\n      }\n\n      &:focus-within  {\n        outline: 4px solid #3B99FC;\n        outline-offset: 1px;\n      }\n\n      &:hover::after {}\n  ",input:"\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      -ms-appearance: none;\n      appearance: none;\n      outline: 0;\n      box-shadow: none;\n      border: 0 !important;\n      background: #fff;\n      background-image: none;\n      display: inline-block;\n      flex: 1;\n      padding: 0 .5em;\n      color: #000;\n      cursor: pointer;\n\n      &::-ms-expand {\n        display: none;\n      }\n    "},size:{small:{container:"\n        font-size: 0.8rem;\n      "},medium:{container:"\n        font-size: 1rem;\n      "},large:{container:"\n        font-size: 1.2rem;\n      "}},rounded:{wrapper:"\n      border-radius: 0.25em;\n    "}};var l=(0,r.applyTheme)(i,{defaultProps:{size:"medium",rounded:!0,required:!1},staticProps:["fullWidth"],includeWrapper:!0});t.ZP=l},96282:function(e,t,n){"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.applyTheme=void 0;var a=r(n(22122)),i=r(n(19756)),l=r(n(67294)),s=r(n(86010)),o=n(80927),u=function(e,t){var n=(0,o.processStyle)(e),r=(0,o.createStyleBuilder)(n,t),u=t.as||{},c=r(u.container||"div","container"),d=r("label","label"),p=t.includeWrapper?r(u.wrapper||"div","wrapper"):null,f=r("select","input"),h=(0,o.createBootstrap)(n,"select");return function(e){var t=h(e),n=t.id,r=t.name,o=t.label,u=t.ariaLabel,x=t.styleProps,v=t.children,m=t.className,g=t.rest,j=g.style,b=g.labelStyle,S=g.inputStyle,E=g.wrapperStyle,y=(0,i.default)(g,["style","labelStyle","inputStyle","wrapperStyle"]),P=l.default.createElement(f,(0,a.default)({"aria-label":u},y,{id:n,name:r,style:S,className:"pg-select-input"}),v);return l.default.createElement(c,(0,a.default)({},x,{style:j,className:(0,s.default)("pg-select",m)}),o&&l.default.createElement(d,(0,a.default)({htmlFor:n},x,{style:b,className:"pg-select-label"}),o),p?l.default.createElement(p,(0,a.default)({},x,{style:E,className:"pg-select-wrapper"}),P):P)}};t.applyTheme=u;var c=u({},{staticProps:["fullWidth"]});t.default=c},91745:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Se}});var r=n(85893),a=n(809),i=n.n(a),l=n(39227),s=n(92447),o=n(27261),u=n(67294),c=n(11163),d=n(96486),p=n(31607),f=n(29163),h=n(17625),x=n(51436),v=n(64735),m=n(40602),g=n(11915),j=n(4826),b=n(35611),S=n(22122),E=n(19756),y=n(94184),P=n.n(y),w=n(76792),C=n(84873),Z=["active","disabled","className","style","activeLabel","children"],k=["children"],N=u.forwardRef((function(e,t){var n=e.active,r=e.disabled,a=e.className,i=e.style,l=e.activeLabel,s=e.children,o=(0,E.default)(e,Z),c=n||r?"span":C.Z;return u.createElement("li",{ref:t,style:i,className:P()(a,"page-item",{active:n,disabled:r})},u.createElement(c,(0,S.default)({className:"page-link",disabled:r},o),s,n&&l&&u.createElement("span",{className:"sr-only"},l)))}));N.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},N.displayName="PageItem";var _=N;function F(e,t,n){function r(e){var r=e.children,a=(0,E.default)(e,k);return u.createElement(N,a,u.createElement("span",{"aria-hidden":"true"},r||t),u.createElement("span",{className:"sr-only"},n))}return void 0===n&&(n=e),r.displayName=e,r}var R=F("First","\xab"),A=F("Prev","\u2039","Previous"),U=F("Ellipsis","\u2026","More"),I=F("Next","\u203a"),T=F("Last","\xbb"),L=["bsPrefix","className","children","size"],q=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.children,i=e.size,l=(0,E.default)(e,L),s=(0,w.vE)(n,"pagination");return u.createElement("ul",(0,S.default)({ref:t},l,{className:P()(r,s,i&&s+"-"+i)}),a)}));q.First=R,q.Prev=A,q.Ellipsis=U,q.Item=_,q.Next=I,q.Last=T;var D=q,z=n(23451);function Q(){var e=(0,o.Z)(["\n  min-height: 30px;\n  border-bottom: 1px solid #707070;\n  margin-bottom: 5px;\n  padding-bottom: 5px;\n  overflow: wrap;\n"]);return Q=function(){return e},e}var W=f.default.div(Q());function M(){var e=(0,o.Z)(["\n  padding-left: 5px;\n  line-height: 40px;\n"]);return M=function(){return e},e}function O(){var e=(0,o.Z)(["\n  margin: 0 !important;\n  & li {\n    margin: 0 !important;\n  }\n"]);return O=function(){return e},e}var K=(0,f.default)(D)(O()),B=f.default.span(M()),G=function(e){return(0,r.jsx)(r.Fragment,{children:e.map((function(e){return(0,r.jsx)("option",{value:e.value,children:e.text},e.value)}))})},X=function(e){for(var t=e.rowCount,n=e.limit,a=e.page,i=e.onPage,l=e.onPrev,s=e.onNext,o=parseInt(String((t-1)/n+1)),u=[(0,r.jsx)(D.Item,{disabled:1===a,onClick:function(){return l()},children:"Previous"},"prev")],c=function(e){u.push((0,r.jsx)(D.Item,{active:e===a,onClick:function(){return i(e)},children:e},e)),o===e&&u.push((0,r.jsx)(D.Item,{disabled:a===e,onClick:function(){return s()},children:"Next"},"next"))},d=1;d<=o;d++)c(d);return(0,r.jsx)(r.Fragment,{children:u})},Y=function(e){var t=e.rowCount,n=e.limit,a=e.page,i=e.onPrev,l=e.onNext,s=parseInt(String((t-1)/n+1)),o=parseInt(String((a-1)*n+1)),u=o+n-1;return u>t&&(u=t),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.Item,{disabled:1===a,onClick:function(){return i(a-1)},children:"Previous"},"prev"),(0,r.jsx)(D.Item,{disabled:a===s,onClick:function(){return l(a+1)},children:"Next"},"next"),(0,r.jsx)(B,{children:"".concat(o,"-").concat(u," of ").concat(t)})]})};var H=function(e){var t=e.headers,n=e.children,a=e.onSearch,i=void 0===a?d.noop:a,l=e.onFilter,s=void 0===l?d.noop:l,o=e.onFilter2,c=void 0===o?d.noop:o,p=e.onLimit,f=void 0===p?d.noop:p,h=e.onPage,x=e.onPrev,m=void 0===x?d.noop:x,S=e.onNext,E=void 0===S?d.noop:S,y=e.filterItems,P=e.filterItems2,w=e.pageLimits,C=e.searchKey,Z=void 0===C?"":C,k=e.page,N=void 0===k?1:k,_=e.limit,F=void 0===_?10:_,R=e.rowCount,A=void 0===R?10:R,U=e.filter,I=void 0===U?"":U,T=e.filter2,L=void 0===T?"":T;console.log("page",N);var q=(0,u.useState)(Z),D=q[0],Q=q[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W,{children:(0,r.jsx)(v.ZP,{cols:12,children:(0,r.jsxs)(v.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsxs)(v.ZP.Col,{span:5,children:[(0,r.jsx)(g.ZP,{type:"text",size:"small",placeholder:"Search...",style:{display:"inline-block"},value:D,onChange:function(e){Q(e.target.value)}}),(0,r.jsx)(j.ZP,{type:"button",size:"small",onClick:function(){i(D)},children:"Search"})]}),(0,r.jsxs)(v.ZP.Col,{span:7,style:{textAlign:"right"},children:[y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Status: "}),(0,r.jsx)(b.ZP,{style:{display:"inline-block",width:"160px"},value:I,onChange:function(e){s(e.target.value)},children:G(y)})]}),"\xa0\xa0",P&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(b.ZP,{style:{display:"inline-block",width:"160px"},value:L,onChange:function(e){c(e.target.value)},children:G(P)})})]})]})})}),(0,r.jsxs)(z.Z,{children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:t.map((function(e,t){return(0,r.jsx)("th",{style:e.style||{},children:e.name},t)}))})}),(0,r.jsx)("tbody",{children:n})]}),w&&(0,r.jsx)(v.ZP,{cols:12,children:(0,r.jsxs)(v.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsx)(v.ZP.Col,{span:8,children:(0,r.jsx)(K,{children:h?(0,r.jsx)(X,{rowCount:A,limit:F,page:N,onPage:h}):(0,r.jsx)(Y,{rowCount:A,limit:F,page:N,onPrev:m,onNext:E})})}),(0,r.jsx)(v.ZP.Col,{span:4,style:{textAlign:"right"},children:(0,r.jsx)(b.ZP,{style:{display:"inline-block",width:"160px"},value:String(F),onChange:function(e){f(Number(e.target.value))},children:G(w)})})]})})]})},J=n(6645),$=n(61408),V=n(98806),ee=n(69696),te=n(82401),ne=n(70513),re=function(){var e=(0,s.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.e.post("events",t).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",[n,null]);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ae=n(30454);function ie(){var e=(0,o.Z)(["\n  max-height: calc(100vh - 250px);\n  overflow: auto;\n"]);return ie=function(){return e},e}function le(){var e=(0,o.Z)(["\n  text-align: center;\n"]);return le=function(){return e},e}function se(){var e=(0,o.Z)(["\n  color: #777777;\n  font-size: ",";\n  font-weight: bold;\n  margin-bottom: 0;\n"]);return se=function(){return e},e}var oe=f.default.h3(se(),ae.CA),ue=f.default.div(le()),ce=f.default.div(ie()),de=[{value:"all",text:"All Events"},{value:"request-pr-success",text:"REQUEST_PR_SUCCESS"},{value:"request-pr-failure",text:"REQUEST_PR_FAILURE"},{value:"request-plan-success",text:"REQUEST_PLAN_SUCCESS"},{value:"request-plan-failure",text:"REQUEST_PLAN_FAILURE"},{value:"request-apply-success",text:"REQUEST_APPLY_SUCCESS"},{value:"request-apply-failure",text:"REQUEST_APPLY_FAILURE"},{value:"request-create-success",text:"REQUEST_CREATE_SUCCESS"},{value:"request-create-failure",text:"REQUEST_CREATE_FAILURE"},{value:"request-update-success",text:"REQUEST_UPDATE_SUCCESS"},{value:"request-update-failure",text:"REQUEST_UPDATE_FAILURE"},{value:"request-delete-success",text:"REQUEST_DELETE_SUCCESS"},{value:"request-delete-failure",text:"REQUEST_DELETE_FAILURE"},{value:"email-submission-failure",text:"EMAIL_SUBMISSION_FAILURE"}];function pe(e){var t=e.requestId,n=(0,u.useState)("all"),a=n[0],o=n[1],c=(0,u.useState)([]),d=c[0],f=c[1],h=(0,u.useState)(!1),x=h[0],m=h[1],g=(0,u.useState)(!1),j=g[0],S=g[1],E=function(){var e=(0,s.Z)(i().mark((function e(){var n,r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,re({requestId:t,eventCode:a});case 3:n=e.sent,r=(0,l.Z)(n,2),s=r[0],r[1]?S(!0):s&&f(s.rows),m(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){E()}),[t,a]);var y;return j?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W,{children:(0,r.jsx)(v.ZP,{cols:12,children:(0,r.jsxs)(v.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsx)(v.ZP.Col,{span:5,children:(0,r.jsx)(oe,{children:"Events"})}),(0,r.jsx)(v.ZP.Col,{span:7,style:{textAlign:"right"},children:(0,r.jsx)(b.ZP,{style:{display:"inline-block",width:"250px"},value:a,onChange:function(e){o(e.target.value)},children:(y=de,(0,r.jsx)(r.Fragment,{children:y.map((function(e){return(0,r.jsx)("option",{value:e.value,children:e.text},e.value)}))}))})})]})})}),x?(0,r.jsx)(ue,{children:(0,r.jsx)(p.Z,{type:"Grid",color:"#000",height:45,width:45,visible:x})}):(0,r.jsx)(ce,{children:d&&0!==d.length?d.map((function(e){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Event Code: "}),e.eventCode]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Time: "}),(t=e.createdAt,new Date(t).toLocaleString())]}),e.details&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:(0,r.jsx)("strong",{children:"Details"})}),(0,r.jsx)("pre",{children:(0,r.jsx)("code",{children:JSON.stringify(e.details||{},void 0,2)})})]}),(0,r.jsx)("hr",{})]},e.id);var t})):(0,r.jsx)("div",{children:"No events found"})})]})}function fe(){var e=(0,o.Z)(["\n  padding-right: 10px;\n"]);return fe=function(){return e},e}function he(){var e=(0,o.Z)(["\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n  & button {\n    min-width: 150px;\n    margin-right: 20px;\n    display: inline-block;\n  }\n"]);return he=function(){return e},e}var xe=[{value:"all",text:"All"},{value:"draft",text:"Draft"},{value:"submitted",text:"Submitted"},{value:"pr",text:"PR"},{value:"prFailed",text:"PR Failed"},{value:"planned",text:"Planned"},{value:"planFailed",text:"Plan Failed"},{value:"approved",text:"Approved"},{value:"applied",text:"Applied"},{value:"applyFailed",text:"Apply Failed"}],ve=[{value:"all",text:"All"},{value:"active",text:"Active"},{value:"archived",text:"Deleted"}],me=[{value:5,text:"5 per page"},{value:10,text:"10 per page"},{value:15,text:"15 per page"},{value:30,text:"30 per page"},{value:50,text:"50 per page"},{value:100,text:"100 per page"}],ge=[{maxWidth:1280,marginTop:10},{maxWidth:1400,width:1200,marginTop:20},{maxWidth:1700,width:1300,marginTop:20},{width:1600,marginTop:20}],je=f.default.div(he()),be=(0,f.default)(h.G)(fe());function Se(e){e.currentUser;var t=(0,c.useRouter)(),n=(0,u.useState)(!1),a=n[0],o=n[1],f=(0,u.useState)(!1),h=f[0],g=f[1],b=(0,u.useState)(!1),S=b[0],E=b[1],y=(0,u.useState)(!1),P=y[0],w=y[1],C=(0,u.useState)([]),Z=C[0],k=C[1],N=(0,u.useState)(""),_=N[0],F=N[1],R=(0,u.useState)(0),A=R[0],U=R[1],I=(0,u.useState)(5),T=I[0],L=I[1],q=(0,u.useState)(1),D=q[0],z=q[1],Q=(0,u.useState)("all"),W=Q[0],M=Q[1],O=(0,u.useState)("active"),K=O[0],B=O[1],G=(0,u.useState)(void 0),X=G[0],Y=G[1],ne=function(){var e=(0,s.Z)(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,(0,J.zD)({searchField:["id","projectName"],searchKey:_,order:[["createdAt","desc"]],limit:T,page:D,status:W,archiveStatus:K});case 3:t=e.sent,n=(0,l.Z)(t,2),r=n[0],n[1]?E(!0):r&&(k(r.rows),U(r.count)),o(!1),Y(void 0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if((0,u.useEffect)((function(){ne()}),[_,T,D,W,K]),a)return(0,r.jsx)(m.Z,{rules:ge,style:{textAlign:"center"},children:(0,r.jsx)(p.Z,{type:"Grid",color:"#000",height:45,width:45,visible:!0})});if(S)return null;var re=function(e){return["applied"].includes((null===e||void 0===e?void 0:e.status)||"")},ie=function(e){return!["pr","planned","submitted"].includes((null===e||void 0===e?void 0:e.status)||"")},le=function(){var e=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id&&ie(t)){e.next=2;break}return e.abrupt("return");case 2:Y(t.id),window.location.hash="delete-modal";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie){e.next=2;break}return e.abrupt("return");case 2:return g(!0),e.next=5,(0,J.Jl)(X);case 5:return g(!1),e.next=8,ne();case 8:window.location.hash="#";case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)(m.Z,{rules:ge,children:[(0,r.jsx)(v.ZP,{cols:10,children:(0,r.jsxs)(v.ZP.Row,{collapse:"800",gutter:[15,2],children:[(0,r.jsx)(v.ZP.Col,{span:6,children:(0,r.jsx)(H,{headers:[{name:"Request ID"},{name:"Project Name"},{name:"Request Status"},{name:"File Status"},{name:"Actions",style:{textAlign:"center",minWidth:"140px"}}],filterItems:xe,filterItems2:ve,pageLimits:me,searchKey:_,limit:T,page:D,rowCount:A,filter:W,filter2:K,onSearch:function(e){F(e),z(1)},onFilter:function(e){M(e),z(1)},onFilter2:function(e){B(e),z(1)},onLimit:function(e){z(1),L(e)},onPrev:z,onNext:z,children:Z.length>0?Z.map((function(e){return(0,r.jsxs)("tr",{className:X===e.id?"active":"",onClick:function(){Y(e.id),w(!1)},children:[(0,r.jsx)("td",{children:(0,d.padStart)(String(e.id),8,"0")}),(0,r.jsx)("td",{children:e.projectName}),(0,r.jsx)("td",{children:(0,d.startCase)(e.status)}),(0,r.jsx)("td",{children:e.archived?"Deleted":"Active"}),(0,r.jsx)("td",{children:(0,r.jsxs)($.W2,{children:[(0,r.jsx)($.Kk,{icon:x.Mdf,role:"button","aria-label":"edit",onClick:function(t){t.stopPropagation(),Y(e.id),w(!0)},title:"Edit"}),(0,r.jsx)($.MO,{}),(0,r.jsx)($.Kk,{disabled:!re(e),icon:x.Xcf,role:"button","aria-label":"edit",onClick:function(){return function(e){e.id&&re(e)&&t.push("/edit-request?id=".concat(e.id))}(e)},title:"Edit"}),(0,r.jsx)($.MO,{}),(0,r.jsx)($.Kk,{icon:x.$aW,role:"button","aria-label":"delete",onClick:function(){return le(e)},disabled:!ie(e),activeColor:ae.Uo,title:"Delete"})]})})]},e.id)})):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,children:"No clients found."})})})}),(0,r.jsx)(v.ZP.Col,{span:4,children:P&&X&&(0,r.jsx)(pe,{requestId:X})})]})}),(0,r.jsxs)(V.Z,{id:"delete-modal",children:[(0,r.jsxs)(ee.ZP.Header,{children:[(0,r.jsx)(be,{icon:x.eHv,title:"Information",size:"2x",style:{paddingRight:"10px"}}),"Confirm Deletion"]}),(0,r.jsxs)(ee.ZP.Content,{children:["You are about to delete this integration request. This action cannot be undone.",(0,r.jsxs)(je,{children:[(0,r.jsx)(te.Z,{variant:"secondary",onClick:function(){return window.location.hash="#"},children:"Cancel"}),(0,r.jsx)(j.ZP,{onClick:se,children:h?(0,r.jsx)(p.Z,{type:"Grid",color:"#FFF",height:18,width:50,visible:!0}):"Delete"})]})]})]})]})}},83636:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin-dashboard",function(){return n(91745)}])}},function(e){e.O(0,[546,962,277,466,774,888,179],(function(){return t=83636,e(e.s=t);var t}));var t=e.O();_N_E=t}]);