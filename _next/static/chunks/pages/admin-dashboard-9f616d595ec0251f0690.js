(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{23451:function(e,t,n){"use strict";var r=n(27261);function a(){var e=(0,r.Z)(["\n  width: 100%;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  text-align: left;\n  border-collapse: separate;\n  border-spacing: 0 5px;\n\n  & thead {\n    font-size: 12px;\n    color: #777777;\n  }\n\n  & tbody {\n    font-size: 16px;\n\n    tr {\n      height: 60px;\n      background-color: #f8f8f8;\n      &:hover {\n        background-color: #fff7d5;\n      }\n      &.active {\n        background-color: #ffed9f;\n      }\n    }\n  }\n\n  th:first-child,\n  td:first-child {\n    padding-left: 1em;\n  }\n\n  & th,\n  & td {\n    border: none;\n  }\n"]);return a=function(){return e},e}var u=n(29163).default.table(a());t.Z=u},6279:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(85893),a=n(809),u=n.n(a),i=n(39227),c=n(92447),s=n(67294),l=n(96486),o=n(31607),p=n(64735),d=n(40602),h=n(27261),f=n(29163),v=n(11915),x=n(4826),g=n(35611),m=n(38966),j=n(23451);function w(){var e=(0,h.Z)(["\n  margin: 0 !important;\n  & li {\n    margin: 0 !important;\n  }\n"]);return w=function(){return e},e}var b=(0,f.default)(m.Z)(w()),Z=function(e,t){return(0,r.jsx)(r.Fragment,{children:e.map((function(e){return(0,r.jsx)("option",{value:e.value,selected:e.value===t,children:e.text},e.value)}))})},y=function(e){for(var t=e.rowCount,n=e.limit,a=e.page,u=e.onPage,i=(t-1)/n+1,c=[],s=function(e){c.push((0,r.jsx)(m.Z.Item,{active:e===a,onClick:function(){return u(e)},children:e},e))},l=1;l<=i;l++)s(l);return(0,r.jsx)(r.Fragment,{children:c})};var P=function(e){var t=e.headers,n=e.children,a=e.onSearch,u=void 0===a?l.noop:a,i=e.onFilter,c=void 0===i?l.noop:i,o=e.onFilter2,d=void 0===o?l.noop:o,h=e.onLimit,f=void 0===h?l.noop:h,m=e.onPage,w=void 0===m?l.noop:m,P=e.filterItems,k=e.filterItems2,S=e.pageLimits,C=e.searchKey,F=void 0===C?"":C,_=e.page,A=void 0===_?1:_,N=e.limit,q=void 0===N?10:N,I=e.rowCount,z=void 0===I?10:I,B=e.filter,E=void 0===B?"":B,R=e.filter2,T=void 0===R?"":R,U=(0,s.useState)(F),D=U[0],L=U[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.ZP,{cols:12,children:(0,r.jsxs)(p.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsxs)(p.ZP.Col,{span:5,children:[(0,r.jsx)(v.ZP,{type:"text",size:"small",placeholder:"Search...",style:{display:"inline-block"},value:D,onChange:function(e){L(e.target.value)}}),(0,r.jsx)(x.ZP,{type:"button",size:"small",onClick:function(){u(D)},children:"Search"})]}),(0,r.jsxs)(p.ZP.Col,{span:7,style:{textAlign:"right"},children:[P&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Status: "}),(0,r.jsx)(g.ZP,{style:{display:"inline-block",width:"160px"},onChange:function(e){c(e.target.value)},children:Z(P,E)})]}),"\xa0\xa0",k&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(g.ZP,{style:{display:"inline-block",width:"160px"},onChange:function(e){d(e.target.value)},children:Z(k,T)})})]})]})}),(0,r.jsxs)(j.Z,{children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:t.map((function(e,t){return(0,r.jsx)("th",{children:e},t)}))})}),(0,r.jsx)("tbody",{children:n})]}),S&&(0,r.jsx)(p.ZP,{cols:12,children:(0,r.jsxs)(p.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsx)(p.ZP.Col,{span:8,children:(0,r.jsx)(b,{children:(0,r.jsx)(y,{rowCount:z,limit:q,page:A,onPage:w})})}),(0,r.jsx)(p.ZP.Col,{span:4,style:{textAlign:"right"},children:(0,r.jsx)(g.ZP,{style:{display:"inline-block",width:"160px"},onChange:function(e){f(Number(e.target.value))},children:Z(S,q)})})]})})]})},k=n(6645),S=[{value:"all",text:"All"},{value:"draft",text:"Draft"},{value:"submitted",text:"Submitted"},{value:"pr",text:"PR"},{value:"prFailed",text:"PR Failed"},{value:"planned",text:"Planned"},{value:"planFailed",text:"Plan Failed"},{value:"approved",text:"Approved"},{value:"applied",text:"Applied"},{value:"applyFailed",text:"Apply Failed"}],C=[{value:"all",text:"All"},{value:"active",text:"Active"},{value:"archived",text:"Deleted"}],F=[{value:5,text:"5 per page"},{value:10,text:"10 per page"},{value:15,text:"15 per page"},{value:30,text:"30 per page"},{value:50,text:"50 per page"},{value:100,text:"100 per page"}],_=[{maxWidth:1280,marginTop:10},{maxWidth:1400,width:1200,marginTop:20},{maxWidth:1700,width:1300,marginTop:20},{width:1600,marginTop:20}];function A(e){e.currentUser;var t=(0,s.useState)(!1),n=t[0],a=t[1],h=(0,s.useState)(!1),f=h[0],v=h[1],x=(0,s.useState)([]),g=x[0],m=x[1],j=(0,s.useState)(""),w=j[0],b=j[1],Z=(0,s.useState)(0),y=Z[0],A=Z[1],N=(0,s.useState)(5),q=N[0],I=N[1],z=(0,s.useState)(1),B=z[0],E=z[1],R=(0,s.useState)("all"),T=R[0],U=R[1],D=(0,s.useState)("active"),L=D[0],W=D[1];return(0,s.useEffect)((function(){(function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,(0,k.zD)({searchField:["projectName"],searchKey:w,order:[["createdAt","desc"]],limit:q,page:B,status:T,archiveStatus:L});case 3:t=e.sent,n=(0,i.Z)(t,2),r=n[0],n[1]?v(!0):r&&(m(r.rows),A(r.count)),a(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[w,q,B,T,L]),n?(0,r.jsx)(d.Z,{rules:_,style:{textAlign:"center"},children:(0,r.jsx)(o.Z,{type:"Grid",color:"#000",height:45,width:45,visible:!0})}):f?null:(0,r.jsx)(d.Z,{rules:_,children:(0,r.jsx)(p.ZP,{cols:10,children:(0,r.jsxs)(p.ZP.Row,{collapse:"800",gutter:[15,2],children:[(0,r.jsx)(p.ZP.Col,{span:6,children:(0,r.jsx)(P,{headers:["Request ID","Project Name","Status"],filterItems:S,filterItems2:C,pageLimits:F,searchKey:w,limit:q,page:B,rowCount:y,filter:T,filter2:L,onSearch:function(e){b(e),E(1)},onFilter:function(e){U(e),E(1)},onFilter2:function(e){W(e),E(1)},onLimit:I,onPage:E,children:g.length>0?g.map((function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,l.padStart)(String(e.id),8,"0")}),(0,r.jsx)("td",{children:e.projectName}),(0,r.jsx)("td",{children:(0,l.startCase)(e.status)})]},e.id)})):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,children:"No clients found."})})})}),(0,r.jsx)(p.ZP.Col,{span:4})]})})})}},6645:function(e,t,n){"use strict";n.d(t,{hG:function(){return o},A_:function(){return p},XJ:function(){return d},zD:function(){return h},WN:function(){return f},Jl:function(){return v}});var r=n(809),a=n.n(r),u=n(92447),i=n(70513),c=n(96486),s=n(15616),l=function(e){return console.error(e),[null,e]},o=function(){var e=(0,u.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.e.post("requests",t).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",[(0,s.UB)(n),null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",l(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,u.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.e.post("request",{requestId:t}).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",[(0,s.UB)(n),null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",l(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,u.Z)(a().mark((function e(){var t,n,r,u=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:"active",n={params:{include:t}},e.prev=2,e.next=5,i.e.get("requests",n).then((function(e){return e.data}));case 5:return r=e.sent,r=(0,c.orderBy)(r,["createdAt"],["desc"]),e.abrupt("return",[r.map(s.UB),null]);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",l(e.t0));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,u.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.e.post("requests-all",t).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",[{count:n.count,rows:n.rows.map(s.UB)},null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",l(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,u.Z)(a().mark((function e(t){var n,r,u,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],e.prev=1,r="requests",n&&(r="".concat(r,"?submit=true"),t.environments=["dev","test","prod"]),e.next=6,i.e.put(r,t).then((function(e){return e.data}));case 6:return u=e.sent,e.abrupt("return",[(0,s.UB)(u),null]);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",l(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,u.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.e.delete("requests",{params:{id:t}}).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",[n,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",l(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},83636:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin-dashboard",function(){return n(6279)}])}},function(e){e.O(0,[196,774,888,179],(function(){return t=83636,e(e.s=t);var t}));var t=e.O();_N_E=t}]);