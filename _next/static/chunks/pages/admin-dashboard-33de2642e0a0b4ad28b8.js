(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{23451:function(e,t,n){"use strict";var r=n(27261);function a(){var e=(0,r.Z)(["\n  width: 100%;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  text-align: left;\n  border-collapse: separate;\n  border-spacing: 0 5px;\n\n  & thead {\n    font-size: 12px;\n    color: #777777;\n  }\n\n  & tbody {\n    font-size: 16px;\n\n    tr {\n      height: 60px;\n      background-color: #f8f8f8;\n      &:hover {\n        background-color: #fff7d5;\n      }\n      &.active {\n        background-color: #ffed9f;\n      }\n    }\n  }\n\n  th:first-child,\n  td:first-child {\n    padding-left: 1em;\n  }\n\n  & th,\n  & td {\n    border: none;\n  }\n"]);return a=function(){return e},e}var u=n(29163).default.table(a());t.Z=u},6279:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var r=n(85893),a=n(809),u=n.n(a),i=n(39227),c=n(92447),o=n(67294),s=n(96486),l=n(31607),p=n(40602),d=n(27261),f=n(29163),h=n(11915),v=n(4826),x=n(35611),g=n(64735),j=n(38966),m=n(23451);function b(){var e=(0,d.Z)(["\n  margin: 0 !important;\n  & li {\n    margin: 0 !important;\n  }\n"]);return b=function(){return e},e}var w=(0,f.default)(j.Z)(b()),y=function(e,t){return(0,r.jsx)(r.Fragment,{children:e.map((function(e){return(0,r.jsx)("option",{value:e.value,selected:e.value===t,children:e.text},e.value)}))})},P=function(e){for(var t=e.rowCount,n=e.limit,a=e.page,u=e.onPage,i=(t-1)/n+1,c=[],o=function(e){c.push((0,r.jsx)(j.Z.Item,{active:e===a,onClick:function(){return u(e)},children:e},e))},s=1;s<=i;s++)o(s);return(0,r.jsx)(r.Fragment,{children:c})};var Z=function(e){var t=e.headers,n=e.children,a=e.onSearch,u=void 0===a?s.noop:a,i=e.onFilter,c=void 0===i?s.noop:i,l=e.onFilter2,p=void 0===l?s.noop:l,d=e.onLimit,f=void 0===d?s.noop:d,j=e.onPage,b=void 0===j?s.noop:j,Z=e.filterItems,S=e.filterItems2,k=e.pageLimits,O=e.searchKey,C=void 0===O?"":O,F=e.page,A=void 0===F?1:F,_=e.limit,N=void 0===_?10:_,D=e.rowCount,I=void 0===D?10:D,q=e.filter,E=void 0===q?"":q,z=e.filter2,B=void 0===z?"":z,U=(0,o.useState)(C),R=U[0],L=U[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.ZP,{cols:12,children:(0,r.jsxs)(g.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsxs)(g.ZP.Col,{span:6,children:[(0,r.jsx)(h.ZP,{type:"text",size:"small",placeholder:"Search...",style:{display:"inline-block"},value:R,onChange:function(e){L(e.target.value)}}),(0,r.jsx)(v.ZP,{type:"button",size:"small",onClick:function(){u(R)},children:"Search"})]}),(0,r.jsxs)(g.ZP.Col,{span:6,style:{textAlign:"right"},children:[Z&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Status: "}),(0,r.jsx)(x.ZP,{style:{display:"inline-block",width:"200px"},onChange:function(e){c(e.target.value)},children:y(Z,E)})]}),"\xa0\xa0",S&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Active: "}),(0,r.jsx)(x.ZP,{style:{display:"inline-block",width:"200px"},onChange:function(e){p(e.target.value)},children:y(S,B)})]})]})]})}),(0,r.jsxs)(m.Z,{children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:t.map((function(e,t){return(0,r.jsx)("th",{children:e},t)}))})}),(0,r.jsx)("tbody",{children:n})]}),k&&(0,r.jsx)(g.ZP,{cols:12,children:(0,r.jsxs)(g.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsx)(g.ZP.Col,{span:8,children:(0,r.jsx)(w,{children:(0,r.jsx)(P,{rowCount:I,limit:N,page:A,onPage:b})})}),(0,r.jsx)(g.ZP.Col,{span:4,style:{textAlign:"right"},children:(0,r.jsx)(x.ZP,{style:{display:"inline-block",width:"200px"},onChange:function(e){f(Number(e.target.value))},children:y(k,N)})})]})})]})},S=n(6645),k=[{value:"all",text:"All"},{value:"draft",text:"Draft"},{value:"submitted",text:"Submitted"},{value:"pr",text:"PR"},{value:"prFailed",text:"PR Failed"},{value:"planned",text:"Planned"},{value:"planFailed",text:"Plan Failed"},{value:"approved",text:"Approved"},{value:"applied",text:"Applied"},{value:"applyFailed",text:"Apply Failed"}],O=[{value:"all",text:"All"},{value:"active",text:"Active"},{value:"archived",text:"Deleted"}],C=[{value:5,text:"5 per page"},{value:10,text:"10 per page"},{value:15,text:"15 per page"},{value:30,text:"30 per page"},{value:50,text:"50 per page"},{value:100,text:"100 per page"}];function F(e){e.currentUser;var t=(0,o.useState)(!1),n=t[0],a=t[1],d=(0,o.useState)(!1),f=d[0],h=d[1],v=(0,o.useState)([]),x=v[0],g=v[1],j=(0,o.useState)(""),m=j[0],b=j[1],w=(0,o.useState)(0),y=w[0],P=w[1],F=(0,o.useState)(5),A=F[0],_=F[1],N=(0,o.useState)(1),D=N[0],I=N[1],q=(0,o.useState)("all"),E=q[0],z=q[1],B=(0,o.useState)("active"),U=B[0],R=B[1];return(0,o.useEffect)((function(){(function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,(0,S.zD)({searchField:["projectName"],searchKey:m,order:[["createdAt","desc"]],limit:A,page:D,status:E,archiveStatus:U});case 3:t=e.sent,n=(0,i.Z)(t,2),r=n[0],n[1]?h(!0):r&&(g(r.rows),P(r.count)),a(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[m,A,D,E,U]),n?(0,r.jsx)(p.Z,{rules:p.I,style:{textAlign:"center"},children:(0,r.jsx)(l.Z,{type:"Grid",color:"#000",height:45,width:45,visible:!0})}):f?null:(0,r.jsx)(p.Z,{rules:p.I,children:(0,r.jsx)(Z,{headers:["Request ID","Project Name","Status"],filterItems:k,filterItems2:O,pageLimits:C,searchKey:m,limit:A,page:D,rowCount:y,filter:E,filter2:U,onSearch:function(e){b(e),I(1)},onFilter:function(e){z(e),I(1)},onFilter2:function(e){R(e),I(1)},onLimit:_,onPage:I,children:x.length>0?x.map((function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,s.padStart)(String(e.id),8,"0")}),(0,r.jsx)("td",{children:e.projectName}),(0,r.jsx)("td",{children:(0,s.startCase)(e.status)})]},e.id)})):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,children:"No clients found."})})})})}},6645:function(e,t,n){"use strict";n.d(t,{hG:function(){return h},A_:function(){return v},XJ:function(){return x},zD:function(){return g},WN:function(){return j},Jl:function(){return m}});var r=n(26265),a=n(809),u=n.n(a),i=n(92447),c=n(70513),o=n(9186),s=n(96486),l=n(15616);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){return console.error(e),[null,e]},h=function(){var e=(0,i.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,o.g)(),e.prev=1,e.next=4,c.e.post("requests",t,n).then((function(e){return e.data}));case 4:return r=e.sent,e.abrupt("return",[(0,l.UB)(r),null]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",f(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,o.g)(),e.prev=1,e.next=4,c.e.post("request",{requestId:t},n).then((function(e){return e.data}));case 4:return r=e.sent,e.abrupt("return",[(0,l.UB)(r),null]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",f(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,i.Z)(u().mark((function e(){var t,n,r,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"active",n=d(d({},(0,o.g)()),{},{params:{include:t}}),e.prev=2,e.next=5,c.e.get("requests",n).then((function(e){return e.data}));case 5:return r=e.sent,r=(0,s.orderBy)(r,["createdAt"],["desc"]),e.abrupt("return",[r.map(l.UB),null]);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",f(e.t0));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d({},(0,o.g)()),e.prev=1,e.next=4,c.e.post("requests-all",t,n).then((function(e){return e.data}));case 4:return r=e.sent,e.abrupt("return",[{count:r.count,rows:r.rows.map(l.UB)},null]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",f(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=(0,i.Z)(u().mark((function e(t){var n,r,a,i,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=(0,o.g)(),e.prev=2,a="requests",n&&(a="".concat(a,"?submit=true"),t.environments=["dev","test","prod"]),e.next=7,c.e.put(a,t,r).then((function(e){return e.data}));case 7:return i=e.sent,e.abrupt("return",[(0,l.UB)(i),null]);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",f(e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,o.g)(),e.prev=1,e.next=4,c.e.delete("requests",d(d({},n),{},{params:{id:t}})).then((function(e){return e.data}));case 4:return r=e.sent,e.abrupt("return",[r,null]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",f(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},83636:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin-dashboard",function(){return n(6279)}])}},function(e){e.O(0,[196,774,888,179],(function(){return t=83636,e(e.s=t);var t}));var t=e.O();_N_E=t}]);