(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{98982:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return oe}});var n=r(85893),i=r(11163),a=r(809),o=r.n(a),u=r(92447),c=r(26265),s=r(67294),l=r(27261),d=r(29163);function p(){var e=(0,l.Z)(["\n  font-weight: lighter;\n  color: #003366;\n"]);return p=function(){return e},e}var f=d.default.h1(p());function h(e){var t=e.formStage,r=e.id,i=["Enter requester information","Req ID: ".concat(r," - Choose providers and provide URLs")];return(0,n.jsx)(f,{children:i[t-1]})}function b(){var e=(0,l.Z)(["\n  width: 100px;\n  margin: 0;\n"]);return b=function(){return e},e}function v(){var e=(0,l.Z)(["\n  height: 40px;\n  width: 40px;\n  text-align: center;\n  line-height: 40px;\n  border-radius: 40px;\n  background-color: white;\n"]);return v=function(){return e},e}function m(){var e=(0,l.Z)(["\n  height: 60px;\n  width: 200px;\n  background-color: #ebf7ff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: bold;\n  border-radius: 5px;\n  padding: 20px;\n\n  border: ",";\n  opacity: ",";\n  color: ",";\n"]);return m=function(){return e},e}var g=d.default.div(m(),(function(e){return e.active?"none":"1px solid #b2d4ed"}),(function(e){return e.active?"1":"0.5"}),(function(e){return!e.active&&"#003366"})),j=d.default.div(v()),x=d.default.p(b());function y(e){var t=e.stageNumber,r=e.title,i=e.active;return(0,n.jsxs)(g,{active:i,children:[(0,n.jsx)(j,{children:t}),(0,n.jsx)(x,{children:r})]})}function w(){var e=(0,l.Z)(["\n  display: flex;\n  margin: 0 0 20px 0;\n\n  & > * {\n    margin-right: 10px;\n  }\n"]);return w=function(){return e},e}var O=d.default.div(w()),P=[{title:"Requester Info",number:1},{title:"Providers and URL's",number:2},{title:"Terms and conditions",number:3},{title:"Review & Submit",number:4}];function D(e){var t=e.currentStage;return(0,n.jsx)(O,{children:P.map((function(e){return(0,n.jsx)(y,{title:e.title,stageNumber:e.number,active:e.number===t},e.number)}))})}var Z=r(24184);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){switch(e){case"checkbox":return"checked";case"file":return"files";default:return"value"}}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C={TextWidget:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=R(t);return function(i){var a=i.value,o=i.onChange,u=i.label,c=i.schema,s=i.options,l=i.required,d=i.disabled,p=c.name,f=void 0===p?u:p,h=c.pattern,b=c.minLength,v=c.maxLength,m=c.id,g=s.enumOptions,j=void 0===g?[]:g,x={onChange:function(e){var t=e.target[r];""===t&&(t=void 0),"true"===t&&(t=!0),"false"===t&&(t=!1),o(t)},label:u,name:f,maxLength:v,id:m,required:l,disabled:d,minLength:b,type:t,pattern:h,value:a||void 0,checked:"undefined"!==typeof a&&a};return"file"===t&&delete x.value,"checkbox"===t&&(x.value=!0),"radio"===t?(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{children:u}),j.map((function(t){return(0,n.jsx)(e,S(S({},x),{},{label:t.label,value:t.value,checked:t.value===a,style:{padding:"2px 0"},size:"small"}),t.value)}))]}):(0,n.jsx)(e,S(S({},x),{},{fullWidth:!0,children:j&&j.map((function(e){var t=e.value,r=e.label;return(0,n.jsx)("option",{value:t,children:r},t)}))}))}}(r(11915).ZP,"input")};function L(e){return(0,n.jsx)(Z.ZP,I(I({},e),{},{widgets:C}))}var U={type:"object",properties:{projectLead:{type:"boolean",title:"Are you the product owner or project admin/team lead?"}},dependencies:{projectLead:{oneOf:[{properties:{projectLead:{enum:[!1]}}},{properties:{projectLead:{enum:[!0]},preferredEmail:{type:"string",title:"Business Email Address"},projectName:{type:"string",title:"Project Name"},newToSSO:{type:"boolean",title:"Are you new to Single Sign-On (Keycloak)?"}}}]}}},N=r(84391);function q(e){e.id;var t=e.classNames,r=(e.label,e.help),i=(e.required,e.description),a=e.errors,o=e.children;return(0,n.jsxs)("div",{className:t,children:[i,o,a,r]})}var F={identityProviders:{"ui:widget":"checkboxes","ui:disabled":"true","ui:help":"Currently we only support the onestopauth realm and IDPs cant be changed."},environments:{"ui:widget":"checkboxes"},projectLead:{"ui:widget":"radio"},newToSSO:{"ui:widget":"radio"},preferredEmail:{"ui:FieldTemplate":q},projectName:{"ui:FieldTemplate":q},realm:{"ui:widget":"radio","ui:enumDisabled":["bceidbasic","bceidbusiness","bceidboth"]}},_=r(4826),T=r(31607);r(44259);function A(){var e=(0,l.Z)(["\n  margin-left: 10px;\n  min-width: 150px;\n"]);return A=function(){return e},e}var B=(0,d.default)(_.ZP)(A());function G(e){var t=e.show,r=e.loading,i=e.text;return(0,n.jsx)(n.Fragment,{children:t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.ZP,{variant:"secondary",type:"button",children:i.back}),(0,n.jsx)(B,{variant:"primary",children:r?(0,n.jsx)(T.Z,{type:"Grid",color:"#FFF",height:18,width:50,visible:!0}):(0,n.jsx)(n.Fragment,{children:i.continue})})]})})}var H=r(69696),z=r(6645),W=r(17625),X=r(51436);function K(){var e=(0,l.Z)(["\n  margin: 0;\n  font-size: 16px;\n  font-weight: lighter;\n  padding-left: 10px;\n  color: #bbbbbb;\n"]);return K=function(){return e},e}function J(){var e=(0,l.Z)(["\n  display: flex;\n  align-items: start;\n  padding: 10px 0 0 10px;\n"]);return J=function(){return e},e}function M(){var e=(0,l.Z)(["\n  display: grid;\n  grid-template-columns: 4fr 1fr;\n"]);return M=function(){return e},e}var Q=d.default.div(M()),V=d.default.div(J()),Y=d.default.p(K());function $(e){var t=e.TitleField,r=e.title;return(0,n.jsxs)("div",{children:[(0,n.jsx)(t,{title:r,children:r}),e.items.map((function(t,r){return r===e.items.length-1?(0,n.jsxs)(Q,{children:[t.children,e.canAdd&&(0,n.jsxs)(V,{children:[(0,n.jsx)(W.G,{style:{color:"#006fc4"},icon:X.KtF,onClick:e.onAddClick,size:"2x"}),(0,n.jsx)(Y,{children:"Add another URL"})]})]},r):(0,n.jsx)(Q,{children:t.children},r)}))]})}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var re=function(e){switch(e){case 1:return U;case 2:return N.Z}};function ne(e){var t=e.currentUser,r=void 0===t?{}:t,i=(0,s.useState)({}),a=i[0],c=i[1],l=(0,s.useState)(2),d=l[0],p=l[1],f=(0,s.useState)(!1),b=f[0],v=f[1];(0,s.useEffect)((function(){a.preferredEmail||c(te(te({},a),{},{preferredEmail:r.email||""}))}),[r]);var m=function(){var e=(0,u.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,(0,z.h)(t.formData);case 4:r=e.sent,n=r.id,p(d+1),c(te(te({},a),{},{id:n})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:v(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h,{formStage:d,id:a.id}),(0,n.jsx)(D,{currentStage:d}),(0,n.jsx)(L,{schema:re(d),uiSchema:F,onSubmit:m,onChange:function(e){c(e.formData),!1===e.formData.projectLead&&(window.location.hash="modal")},formData:a,ArrayFieldTemplate:$,ErrorList:function(){return null},children:(0,n.jsx)(G,{text:{continue:1===d?"Create File":"Next",back:"Cancel"},show:1!==d||a.projectLead,loading:b})}),1===d&&(0,n.jsxs)(H.ZP,{id:"modal",children:[(0,n.jsxs)(H.ZP.Header,{children:["Information ",(0,n.jsx)(H.ZP.Close,{children:"Close"})]}),(0,n.jsx)(H.ZP.Content,{children:"We cannot process realm requests except for individuals with the product owner, project admin or team lead role. Please get in touch with individuals with these roles in your organization to make this request for you."})]})]})}function ie(){var e=(0,l.Z)(["\n  width: 80vw;\n  padding: 5%;\n  margin: auto;\n"]);return ie=function(){return e},e}var ae=d.default.div(ie());var oe=function(e){var t=e.currentUser;return(0,i.useRouter)(),(0,n.jsx)(ae,{children:(0,n.jsx)(ne,{currentUser:t||{}})})}},84391:function(e,t){"use strict";t.Z={type:"object",required:["devRedirectUrls","testRedirectUrls","prodRedirectUrls"],properties:{realm:{type:"string",title:"Identity Providers Required",enum:["onestopauth","bceidbasic","bceidbusiness","bceidboth"],enumNames:["IDIR/GitHub","IDIR/GitHub + BCeID Basic","IDIR/GitHub + BCeID Business","IDIR/GitHub + BCeID Both"],default:"onestopauth"},devRedirectUrls:{type:"array",title:"Dev Redirect Urls",items:{type:"string",format:"url"},additionalItems:{type:"string"},default:[""]},testRedirectUrls:{type:"array",title:"Test Redirect Urls",items:{type:"string",format:"url"},additionalItems:{type:"string"},default:[""]},prodRedirectUrls:{type:"array",title:"Prod Redirect Urls",items:{type:"string",format:"url"},additionalItems:{type:"string"},default:[""]}}}},6645:function(e,t,r){"use strict";r.d(t,{h:function(){return c},X:function(){return s}});var n=r(809),i=r.n(n),a=r(92447),o=r(70513),u=r(9186),c=function(){var e=(0,a.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,u.g)(),e.prev=1,e.next=4,o.e.post("requests",t,r).then((function(e){return e.data}));case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,u.g)(),e.prev=1,e.next=4,o.e.get("requests",t).then((function(e){return e.data}));case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},21916:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/request",function(){return r(98982)}])}},function(e){e.O(0,[523,676,774,888,179],(function(){return t=21916,e(e.s=t);var t}));var t=e.O();_N_E=t}]);