(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{35611:function(e,t,n){"use strict";t.ZP=void 0;var r=n(96282),a=n(69829),i={shared:{label:"\n      display: block;\n      margin-bottom: 0.2777em;\n    ",wrapper:"\n      position: relative;\n      display: flex;\n      background: #fff;\n      overflow: hidden;\n      border: 2px solid #606060;\n      border-radius: 0;\n      padding: 0.3em 0;\n\n      &:after {\n        content: ' ';\n        background-image: "+(0,a.toSvgUrl)(a.ChevronDown)+";\n        background-size: contain;\n        background-repeat: no-repeat;\n        position: absolute;\n        right: 0.2em;\n        width: 1.2em;\n        height: 100%;\n        text-align: center;\n        cursor: pointer;\n        pointer-events: none;\n        -webkit-transition: .25s all ease;\n        -o-transition: .25s all ease;\n        transition: .25s all ease;\n      }\n\n      &:focus-within  {\n        outline: 4px solid #3B99FC;\n        outline-offset: 1px;\n      }\n\n      &:hover::after {}\n  ",input:"\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      -ms-appearance: none;\n      appearance: none;\n      outline: 0;\n      box-shadow: none;\n      border: 0 !important;\n      background: #fff;\n      background-image: none;\n      display: inline-block;\n      flex: 1;\n      padding: 0 .5em;\n      color: #000;\n      cursor: pointer;\n\n      &::-ms-expand {\n        display: none;\n      }\n    "},size:{small:{container:"\n        font-size: 0.8rem;\n      "},medium:{container:"\n        font-size: 1rem;\n      "},large:{container:"\n        font-size: 1.2rem;\n      "}},rounded:{wrapper:"\n      border-radius: 0.25em;\n    "}};var l=(0,r.applyTheme)(i,{defaultProps:{size:"medium",rounded:!0,required:!1},staticProps:["fullWidth"],includeWrapper:!0});t.ZP=l},96282:function(e,t,n){"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.applyTheme=void 0;var a=r(n(22122)),i=r(n(19756)),l=r(n(67294)),s=r(n(86010)),o=n(80927),u=function(e,t){var n=(0,o.processStyle)(e),r=(0,o.createStyleBuilder)(n,t),u=t.as||{},c=r(u.container||"div","container"),d=r("label","label"),p=t.includeWrapper?r(u.wrapper||"div","wrapper"):null,f=r("select","input"),x=(0,o.createBootstrap)(n,"select");return function(e){var t=x(e),n=t.id,r=t.name,o=t.label,u=t.ariaLabel,h=t.styleProps,v=t.children,m=t.className,g=t.rest,j=g.style,b=g.labelStyle,E=g.inputStyle,S=g.wrapperStyle,y=(0,i.default)(g,["style","labelStyle","inputStyle","wrapperStyle"]),w=l.default.createElement(f,(0,a.default)({"aria-label":u},y,{id:n,name:r,style:E,className:"pg-select-input"}),v);return l.default.createElement(c,(0,a.default)({},h,{style:j,className:(0,s.default)("pg-select",m)}),o&&l.default.createElement(d,(0,a.default)({htmlFor:n},h,{style:b,className:"pg-select-label"}),o),p?l.default.createElement(p,(0,a.default)({},h,{style:S,className:"pg-select-wrapper"}),w):w)}};t.applyTheme=u;var c=u({},{staticProps:["fullWidth"]});t.default=c},91745:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return je}});var r=n(85893),a=n(809),i=n.n(a),l=n(39227),s=n(92447),o=n(27261),u=n(67294),c=n(11163),d=n(96486),p=n(31607),f=n(29163),x=n(17625),h=n(51436),v=n(64735),m=n(40602),g=n(11915),j=n(4826),b=n(35611),E=n(22122),S=n(19756),y=n(94184),w=n.n(y),P=n(76792),C=n(84873),Z=["active","disabled","className","style","activeLabel","children"],k=["children"],_=u.forwardRef((function(e,t){var n=e.active,r=e.disabled,a=e.className,i=e.style,l=e.activeLabel,s=e.children,o=(0,S.default)(e,Z),c=n||r?"span":C.Z;return u.createElement("li",{ref:t,style:i,className:w()(a,"page-item",{active:n,disabled:r})},u.createElement(c,(0,E.default)({className:"page-link",disabled:r},o),s,n&&l&&u.createElement("span",{className:"sr-only"},l)))}));_.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},_.displayName="PageItem";var N=_;function F(e,t,n){function r(e){var r=e.children,a=(0,S.default)(e,k);return u.createElement(_,a,u.createElement("span",{"aria-hidden":"true"},r||t),u.createElement("span",{className:"sr-only"},n))}return void 0===n&&(n=e),r.displayName=e,r}var R=F("First","\xab"),A=F("Prev","\u2039","Previous"),U=F("Ellipsis","\u2026","More"),I=F("Next","\u203a"),T=F("Last","\xbb"),L=["bsPrefix","className","children","size"],q=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.children,i=e.size,l=(0,S.default)(e,L),s=(0,P.vE)(n,"pagination");return u.createElement("ul",(0,E.default)({ref:t},l,{className:w()(r,s,i&&s+"-"+i)}),a)}));q.First=R,q.Prev=A,q.Ellipsis=U,q.Item=N,q.Next=I,q.Last=T;var z=q,D=n(23451);function Q(){var e=(0,o.Z)(["\n  min-height: 30px;\n  border-bottom: 1px solid #707070;\n  margin-bottom: 5px;\n  padding-bottom: 5px;\n  overflow: wrap;\n"]);return Q=function(){return e},e}var W=f.default.div(Q());function M(){var e=(0,o.Z)(["\n  padding-left: 5px;\n  line-height: 40px;\n"]);return M=function(){return e},e}function K(){var e=(0,o.Z)(["\n  margin: 0 !important;\n  & li {\n    margin: 0 !important;\n  }\n"]);return K=function(){return e},e}var O=(0,f.default)(z)(K()),B=f.default.span(M()),G=function(e){return(0,r.jsx)(r.Fragment,{children:e.map((function(e){return(0,r.jsx)("option",{value:e.value,children:e.text},e.value)}))})},X=function(e){for(var t=e.rowCount,n=e.limit,a=e.page,i=e.onPage,l=e.onPrev,s=e.onNext,o=parseInt(String((t-1)/n+1)),u=[(0,r.jsx)(z.Item,{disabled:1===a,onClick:function(){return l()},children:"Previous"},"prev")],c=function(e){u.push((0,r.jsx)(z.Item,{active:e===a,onClick:function(){return i(e)},children:e},e)),o===e&&u.push((0,r.jsx)(z.Item,{disabled:a===e,onClick:function(){return s()},children:"Next"},"next"))},d=1;d<=o;d++)c(d);return(0,r.jsx)(r.Fragment,{children:u})},Y=function(e){var t=e.rowCount,n=e.limit,a=e.page,i=e.onPrev,l=e.onNext,s=parseInt(String((t-1)/n+1)),o=parseInt(String((a-1)*n+1)),u=o+n-1;return u>t&&(u=t),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.Item,{disabled:1===a,onClick:function(){return i(a-1)},children:"Previous"},"prev"),(0,r.jsx)(z.Item,{disabled:a===s,onClick:function(){return l(a+1)},children:"Next"},"next"),(0,r.jsx)(B,{children:"".concat(o,"-").concat(u," of ").concat(t)})]})};var H=function(e){var t=e.headers,n=e.children,a=e.onSearch,i=void 0===a?d.noop:a,l=e.onFilter,s=void 0===l?d.noop:l,o=e.onFilter2,c=void 0===o?d.noop:o,p=e.onLimit,f=void 0===p?d.noop:p,x=e.onPage,h=e.onPrev,m=void 0===h?d.noop:h,E=e.onNext,S=void 0===E?d.noop:E,y=e.filterItems,w=e.filterItems2,P=e.pageLimits,C=e.searchKey,Z=void 0===C?"":C,k=e.page,_=void 0===k?1:k,N=e.limit,F=void 0===N?10:N,R=e.rowCount,A=void 0===R?10:R,U=e.filter,I=void 0===U?"":U,T=e.filter2,L=void 0===T?"":T;console.log("page",_);var q=(0,u.useState)(Z),z=q[0],Q=q[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W,{children:(0,r.jsx)(v.ZP,{cols:12,children:(0,r.jsxs)(v.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsxs)(v.ZP.Col,{span:5,children:[(0,r.jsx)(g.ZP,{type:"text",size:"small",placeholder:"Search...",style:{display:"inline-block"},value:z,onChange:function(e){Q(e.target.value)}}),(0,r.jsx)(j.ZP,{type:"button",size:"small",onClick:function(){i(z)},children:"Search"})]}),(0,r.jsxs)(v.ZP.Col,{span:7,style:{textAlign:"right"},children:[y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Status: "}),(0,r.jsx)(b.ZP,{style:{display:"inline-block",width:"160px"},value:I,onChange:function(e){s(e.target.value)},children:G(y)})]}),"\xa0\xa0",w&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(b.ZP,{style:{display:"inline-block",width:"160px"},value:L,onChange:function(e){c(e.target.value)},children:G(w)})})]})]})})}),(0,r.jsxs)(D.Z,{children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:t.map((function(e,t){return(0,r.jsx)("th",{style:e.style||{},children:e.name},t)}))})}),(0,r.jsx)("tbody",{children:n})]}),P&&(0,r.jsx)(v.ZP,{cols:12,children:(0,r.jsxs)(v.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsx)(v.ZP.Col,{span:8,children:(0,r.jsx)(O,{children:x?(0,r.jsx)(X,{rowCount:A,limit:F,page:_,onPage:x}):(0,r.jsx)(Y,{rowCount:A,limit:F,page:_,onPrev:m,onNext:S})})}),(0,r.jsx)(v.ZP.Col,{span:4,style:{textAlign:"right"},children:(0,r.jsx)(b.ZP,{style:{display:"inline-block",width:"160px"},value:String(F),onChange:function(e){f(Number(e.target.value))},children:G(P)})})]})})]})},J=n(6645),$=n(61408),V=n(98806),ee=n(69696),te=n(82401),ne=n(70513),re=function(){var e=(0,s.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.e.post("events",t).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",[{count:n.count,rows:n.rows},null]);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ae=n(30454);function ie(){var e=(0,o.Z)(["\n  text-align: center;\n"]);return ie=function(){return e},e}function le(){var e=(0,o.Z)(["\n  color: #777777;\n  font-size: ",";\n  font-weight: bold;\n  margin-bottom: 0;\n"]);return le=function(){return e},e}var se=f.default.h3(le(),ae.CA),oe=f.default.div(ie()),ue=[{value:"all",text:"All Events"},{value:"request-pr-success",text:"REQUEST_PR_SUCCESS"},{value:"request-pr-failure",text:"REQUEST_PR_FAILURE"},{value:"request-plan-success",text:"REQUEST_PLAN_SUCCESS"},{value:"request-plan-failure",text:"REQUEST_PLAN_FAILURE"},{value:"request-apply-success",text:"REQUEST_APPLY_SUCCESS"},{value:"request-apply-failure",text:"REQUEST_APPLY_FAILURE"},{value:"request-create-success",text:"REQUEST_CREATE_SUCCESS"},{value:"request-create-failure",text:"REQUEST_CREATE_FAILURE"},{value:"request-update-success",text:"REQUEST_UPDATE_SUCCESS"},{value:"request-update-failure",text:"REQUEST_UPDATE_FAILURE"},{value:"request-delete-success",text:"REQUEST_DELETE_SUCCESS"},{value:"request-delete-failure",text:"REQUEST_DELETE_FAILURE"},{value:"email-submission-failure",text:"EMAIL_SUBMISSION_FAILURE"}];function ce(e){var t=e.requestId,n=(0,u.useState)("all"),a=n[0],o=n[1],c=(0,u.useState)([]),d=c[0],f=c[1],x=(0,u.useState)(!1),h=x[0],m=x[1],g=(0,u.useState)(!1),j=g[0],E=g[1],S=function(){var e=(0,s.Z)(i().mark((function e(){var n,r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,re({requestId:t,eventCode:a});case 3:n=e.sent,r=(0,l.Z)(n,2),s=r[0],r[1]?E(!0):s&&f(s.rows),m(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){S()}),[t,a]);var y;return j?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W,{children:(0,r.jsx)(v.ZP,{cols:12,children:(0,r.jsxs)(v.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsx)(v.ZP.Col,{span:5,children:(0,r.jsx)(se,{children:"Events"})}),(0,r.jsx)(v.ZP.Col,{span:7,style:{textAlign:"right"},children:(0,r.jsx)(b.ZP,{style:{display:"inline-block",width:"250px"},value:a,onChange:function(e){o(e.target.value)},children:(y=ue,(0,r.jsx)(r.Fragment,{children:y.map((function(e){return(0,r.jsx)("option",{value:e.value,children:e.text},e.value)}))}))})})]})})}),h?(0,r.jsx)(oe,{children:(0,r.jsx)(p.Z,{type:"Grid",color:"#000",height:45,width:45,visible:h})}):d.map((function(e){r.Fragment,e.eventCode,e.createdAt,e.details}))]})}function de(){var e=(0,o.Z)(["\n  padding-right: 10px;\n"]);return de=function(){return e},e}function pe(){var e=(0,o.Z)(["\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n  & button {\n    min-width: 150px;\n    margin-right: 20px;\n    display: inline-block;\n  }\n"]);return pe=function(){return e},e}var fe=[{value:"all",text:"All"},{value:"draft",text:"Draft"},{value:"submitted",text:"Submitted"},{value:"pr",text:"PR"},{value:"prFailed",text:"PR Failed"},{value:"planned",text:"Planned"},{value:"planFailed",text:"Plan Failed"},{value:"approved",text:"Approved"},{value:"applied",text:"Applied"},{value:"applyFailed",text:"Apply Failed"}],xe=[{value:"all",text:"All"},{value:"active",text:"Active"},{value:"archived",text:"Deleted"}],he=[{value:5,text:"5 per page"},{value:10,text:"10 per page"},{value:15,text:"15 per page"},{value:30,text:"30 per page"},{value:50,text:"50 per page"},{value:100,text:"100 per page"}],ve=[{maxWidth:1280,marginTop:10},{maxWidth:1400,width:1200,marginTop:20},{maxWidth:1700,width:1300,marginTop:20},{width:1600,marginTop:20}],me=f.default.div(pe()),ge=(0,f.default)(x.G)(de());function je(e){e.currentUser;var t=(0,c.useRouter)(),n=(0,u.useState)(!1),a=n[0],o=n[1],f=(0,u.useState)(!1),x=f[0],g=f[1],b=(0,u.useState)(!1),E=b[0],S=b[1],y=(0,u.useState)([]),w=y[0],P=y[1],C=(0,u.useState)(""),Z=C[0],k=C[1],_=(0,u.useState)(0),N=_[0],F=_[1],R=(0,u.useState)(5),A=R[0],U=R[1],I=(0,u.useState)(1),T=I[0],L=I[1],q=(0,u.useState)("all"),z=q[0],D=q[1],Q=(0,u.useState)("active"),W=Q[0],M=Q[1],K=(0,u.useState)(void 0),O=K[0],B=K[1],G=function(){var e=(0,s.Z)(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,(0,J.zD)({searchField:["id","projectName"],searchKey:Z,order:[["createdAt","desc"]],limit:A,page:T,status:z,archiveStatus:W});case 3:t=e.sent,n=(0,l.Z)(t,2),r=n[0],n[1]?S(!0):r&&(P(r.rows),F(r.count)),o(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if((0,u.useEffect)((function(){G()}),[Z,A,T,z,W]),a)return(0,r.jsx)(m.Z,{rules:ve,style:{textAlign:"center"},children:(0,r.jsx)(p.Z,{type:"Grid",color:"#000",height:45,width:45,visible:!0})});if(E)return null;var X=function(e){return["applied"].includes((null===e||void 0===e?void 0:e.status)||"")},Y=function(e){return!["pr","planned","submitted"].includes((null===e||void 0===e?void 0:e.status)||"")},ne=function(e){e.id&&X(e)&&t.push("/edit-request?id=".concat(e.id))},re=function(){var e=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id&&Y(t)){e.next=2;break}return e.abrupt("return");case 2:B(t.id),window.location.hash="delete-modal";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y){e.next=2;break}return e.abrupt("return");case 2:return g(!0),e.next=5,(0,J.Jl)(O);case 5:return g(!1),e.next=8,G();case 8:window.location.hash="#";case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)(m.Z,{rules:ve,children:[(0,r.jsx)(v.ZP,{cols:10,children:(0,r.jsxs)(v.ZP.Row,{collapse:"800",gutter:[15,2],children:[(0,r.jsx)(v.ZP.Col,{span:6,children:(0,r.jsx)(H,{headers:[{name:"Request ID"},{name:"Project Name"},{name:"Request Status"},{name:"File Status"},{name:"Actions",style:{textAlign:"center",minWidth:"140px"}}],filterItems:fe,filterItems2:xe,pageLimits:he,searchKey:Z,limit:A,page:T,rowCount:N,filter:z,filter2:W,onSearch:function(e){k(e),L(1)},onFilter:function(e){D(e),L(1)},onFilter2:function(e){M(e),L(1)},onLimit:function(e){L(1),U(e)},onPrev:L,onNext:L,children:w.length>0?w.map((function(e){return(0,r.jsxs)("tr",{onClick:function(){return B(e.id)},children:[(0,r.jsx)("td",{children:(0,d.padStart)(String(e.id),8,"0")}),(0,r.jsx)("td",{children:e.projectName}),(0,r.jsx)("td",{children:(0,d.startCase)(e.status)}),(0,r.jsx)("td",{children:e.archived?"Deleted":"Active"}),(0,r.jsx)("td",{children:(0,r.jsxs)($.W2,{children:[(0,r.jsx)($.Kk,{icon:h.Mdf,role:"button","aria-label":"edit",onClick:function(){return ne(e)},title:"Edit"}),(0,r.jsx)($.MO,{}),(0,r.jsx)($.Kk,{disabled:!X(e),icon:h.Xcf,role:"button","aria-label":"edit",onClick:function(){return ne(e)},title:"Edit"}),(0,r.jsx)($.MO,{}),(0,r.jsx)($.Kk,{icon:h.$aW,role:"button","aria-label":"delete",onClick:function(){return re(e)},disabled:!Y(e),activeColor:ae.Uo,title:"Delete"})]})})]},e.id)})):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,children:"No clients found."})})})}),(0,r.jsx)(v.ZP.Col,{span:4,children:O&&(0,r.jsx)(ce,{requestId:O})})]})}),(0,r.jsxs)(V.Z,{id:"delete-modal",children:[(0,r.jsxs)(ee.ZP.Header,{children:[(0,r.jsx)(ge,{icon:h.eHv,title:"Information",size:"2x",style:{paddingRight:"10px"}}),"Confirm Deletion"]}),(0,r.jsxs)(ee.ZP.Content,{children:["You are about to delete this integration request. This action cannot be undone.",(0,r.jsxs)(me,{children:[(0,r.jsx)(te.Z,{variant:"secondary",onClick:function(){return window.location.hash="#"},children:"Cancel"}),(0,r.jsx)(j.ZP,{onClick:ie,children:x?(0,r.jsx)(p.Z,{type:"Grid",color:"#FFF",height:18,width:50,visible:!0}):"Delete"})]})]})]})]})}},83636:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin-dashboard",function(){return n(91745)}])}},function(e){e.O(0,[546,962,277,466,774,888,179],(function(){return t=83636,e(e.s=t);var t}));var t=e.O();_N_E=t}]);