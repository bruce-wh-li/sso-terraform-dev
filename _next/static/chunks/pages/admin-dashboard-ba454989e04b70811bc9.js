(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{35611:function(e,n,t){"use strict";n.ZP=void 0;var r=t(96282),a=t(69829),i={shared:{label:"\n      display: block;\n      margin-bottom: 0.2777em;\n    ",wrapper:"\n      position: relative;\n      display: flex;\n      background: #fff;\n      overflow: hidden;\n      border: 2px solid #606060;\n      border-radius: 0;\n      padding: 0.3em 0;\n\n      &:after {\n        content: ' ';\n        background-image: "+(0,a.toSvgUrl)(a.ChevronDown)+";\n        background-size: contain;\n        background-repeat: no-repeat;\n        position: absolute;\n        right: 0.2em;\n        width: 1.2em;\n        height: 100%;\n        text-align: center;\n        cursor: pointer;\n        pointer-events: none;\n        -webkit-transition: .25s all ease;\n        -o-transition: .25s all ease;\n        transition: .25s all ease;\n      }\n\n      &:focus-within  {\n        outline: 4px solid #3B99FC;\n        outline-offset: 1px;\n      }\n\n      &:hover::after {}\n  ",input:"\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      -ms-appearance: none;\n      appearance: none;\n      outline: 0;\n      box-shadow: none;\n      border: 0 !important;\n      background: #fff;\n      background-image: none;\n      display: inline-block;\n      flex: 1;\n      padding: 0 .5em;\n      color: #000;\n      cursor: pointer;\n\n      &::-ms-expand {\n        display: none;\n      }\n    "},size:{small:{container:"\n        font-size: 0.8rem;\n      "},medium:{container:"\n        font-size: 1rem;\n      "},large:{container:"\n        font-size: 1.2rem;\n      "}},rounded:{wrapper:"\n      border-radius: 0.25em;\n    "}};var l=(0,r.applyTheme)(i,{defaultProps:{size:"medium",rounded:!0,required:!1},staticProps:["fullWidth"],includeWrapper:!0});n.ZP=l},96282:function(e,n,t){"use strict";var r=t(95318);Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.applyTheme=void 0;var a=r(t(22122)),i=r(t(19756)),l=r(t(67294)),s=r(t(86010)),o=t(80927),c=function(e,n){var t=(0,o.processStyle)(e),r=(0,o.createStyleBuilder)(t,n),c=n.as||{},u=r(c.container||"div","container"),d=r("label","label"),p=n.includeWrapper?r(c.wrapper||"div","wrapper"):null,f=r("select","input"),h=(0,o.createBootstrap)(t,"select");return function(e){var n=h(e),t=n.id,r=n.name,o=n.label,c=n.ariaLabel,x=n.styleProps,v=n.children,m=n.className,g=n.rest,b=g.style,j=g.labelStyle,y=g.inputStyle,w=g.wrapperStyle,P=(0,i.default)(g,["style","labelStyle","inputStyle","wrapperStyle"]),k=l.default.createElement(f,(0,a.default)({"aria-label":c},P,{id:t,name:r,style:y,className:"pg-select-input"}),v);return l.default.createElement(u,(0,a.default)({},x,{style:b,className:(0,s.default)("pg-select",m)}),o&&l.default.createElement(d,(0,a.default)({htmlFor:t},x,{style:j,className:"pg-select-label"}),o),p?l.default.createElement(p,(0,a.default)({},x,{style:w,className:"pg-select-wrapper"}),k):k)}};n.applyTheme=c;var u=c({},{staticProps:["fullWidth"]});n.default=u},99304:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ce}});var r=t(85893),a=t(809),i=t.n(a),l=t(39227),s=t(92447),o=t(27261),c=t(67294),u=t(11163),d=t(96486),p=t(31607),f=t(29163),h=t(17625),x=t(51436),v=t(64735),m=t(40602),g=t(11915),b=t(4826),j=t(35611),y=t(22122),w=t(19756),P=t(94184),k=t.n(P),Z=t(76792),C=t(84873),S=["active","disabled","className","style","activeLabel","children"],N=["children"],F=c.forwardRef((function(e,n){var t=e.active,r=e.disabled,a=e.className,i=e.style,l=e.activeLabel,s=e.children,o=(0,w.default)(e,S),u=t||r?"span":C.Z;return c.createElement("li",{ref:n,style:i,className:k()(a,"page-item",{active:t,disabled:r})},c.createElement(u,(0,y.default)({className:"page-link",disabled:r},o),s,t&&l&&c.createElement("span",{className:"sr-only"},l)))}));F.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},F.displayName="PageItem";var E=F;function I(e,n,t){function r(e){var r=e.children,a=(0,w.default)(e,N);return c.createElement(F,a,c.createElement("span",{"aria-hidden":"true"},r||n),c.createElement("span",{className:"sr-only"},t))}return void 0===t&&(t=e),r.displayName=e,r}var _=I("First","\xab"),z=I("Prev","\u2039","Previous"),A=I("Ellipsis","\u2026","More"),R=I("Next","\u203a"),L=I("Last","\xbb"),T=["bsPrefix","className","children","size"],W=c.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=e.children,i=e.size,l=(0,w.default)(e,T),s=(0,Z.vE)(t,"pagination");return c.createElement("ul",(0,y.default)({ref:n},l,{className:k()(r,s,i&&s+"-"+i)}),a)}));W.First=_,W.Prev=z,W.Ellipsis=A,W.Item=E,W.Next=R,W.Last=L;var D=W,K=t(23451);function q(){var e=(0,o.Z)(["\n  padding-left: 5px;\n  line-height: 40px;\n"]);return q=function(){return e},e}function M(){var e=(0,o.Z)(["\n  margin: 0 !important;\n  & li {\n    margin: 0 !important;\n  }\n"]);return M=function(){return e},e}var O=(0,f.default)(D)(M()),B=f.default.span(q()),G=function(e){return(0,r.jsx)(r.Fragment,{children:e.map((function(e){return(0,r.jsx)("option",{value:e.value,children:e.text},e.value)}))})},U=function(e){for(var n=e.rowCount,t=e.limit,a=e.page,i=e.onPage,l=e.onPrev,s=e.onNext,o=parseInt(String((n-1)/t+1)),c=[(0,r.jsx)(D.Item,{disabled:1===a,onClick:function(){return l()},children:"Previous"},"prev")],u=function(e){c.push((0,r.jsx)(D.Item,{active:e===a,onClick:function(){return i(e)},children:e},e)),o===e&&c.push((0,r.jsx)(D.Item,{disabled:a===e,onClick:function(){return s()},children:"Next"},"next"))},d=1;d<=o;d++)u(d);return(0,r.jsx)(r.Fragment,{children:c})},X=function(e){var n=e.rowCount,t=e.limit,a=e.page,i=e.onPrev,l=e.onNext,s=parseInt(String((n-1)/t+1)),o=parseInt(String((a-1)*t+1)),c=o+t-1;return c>n&&(c=n),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.Item,{disabled:1===a,onClick:function(){return i(a-1)},children:"Previous"},"prev"),(0,r.jsx)(D.Item,{disabled:a===s,onClick:function(){return l(a+1)},children:"Next"},"next"),(0,r.jsx)(B,{children:"".concat(o,"-").concat(c," of ").concat(n)})]})};var H=function(e){var n=e.headers,t=e.children,a=e.onSearch,i=void 0===a?d.noop:a,l=e.onFilter,s=void 0===l?d.noop:l,o=e.onFilter2,u=void 0===o?d.noop:o,p=e.onLimit,f=void 0===p?d.noop:p,h=e.onPage,x=e.onPrev,m=void 0===x?d.noop:x,y=e.onNext,w=void 0===y?d.noop:y,P=e.filterItems,k=e.filterItems2,Z=e.pageLimits,C=e.searchKey,S=void 0===C?"":C,N=e.page,F=void 0===N?1:N,E=e.limit,I=void 0===E?10:E,_=e.rowCount,z=void 0===_?10:_,A=e.filter,R=void 0===A?"":A,L=e.filter2,T=void 0===L?"":L;console.log("page",F);var W=(0,c.useState)(S),D=W[0],q=W[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.ZP,{cols:12,children:(0,r.jsxs)(v.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsxs)(v.ZP.Col,{span:5,children:[(0,r.jsx)(g.ZP,{type:"text",size:"small",placeholder:"Search...",style:{display:"inline-block"},value:D,onChange:function(e){q(e.target.value)}}),(0,r.jsx)(b.ZP,{type:"button",size:"small",onClick:function(){i(D)},children:"Search"})]}),(0,r.jsxs)(v.ZP.Col,{span:7,style:{textAlign:"right"},children:[P&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Status: "}),(0,r.jsx)(j.ZP,{style:{display:"inline-block",width:"160px"},value:R,onChange:function(e){s(e.target.value)},children:G(P)})]}),"\xa0\xa0",k&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(j.ZP,{style:{display:"inline-block",width:"160px"},value:T,onChange:function(e){u(e.target.value)},children:G(k)})})]})]})}),(0,r.jsxs)(K.Z,{children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:n.map((function(e,n){return(0,r.jsx)("th",{style:e.style||{},children:e.name},n)}))})}),(0,r.jsx)("tbody",{children:t})]}),Z&&(0,r.jsx)(v.ZP,{cols:12,children:(0,r.jsxs)(v.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsx)(v.ZP.Col,{span:8,children:(0,r.jsx)(O,{children:h?(0,r.jsx)(U,{rowCount:z,limit:I,page:F,onPage:h}):(0,r.jsx)(X,{rowCount:z,limit:I,page:F,onPrev:m,onNext:w})})}),(0,r.jsx)(v.ZP.Col,{span:4,style:{textAlign:"right"},children:(0,r.jsx)(j.ZP,{style:{display:"inline-block",width:"160px"},value:String(I),onChange:function(e){f(Number(e.target.value))},children:G(Z)})})]})})]})},J=t(6645),Y=t(61408),$=t(98806),Q=t(69696),V=t(82401),ee=t(30454);function ne(){var e=(0,o.Z)(["\n  padding-right: 10px;\n"]);return ne=function(){return e},e}function te(){var e=(0,o.Z)(["\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n  & button {\n    min-width: 150px;\n    margin-right: 20px;\n    display: inline-block;\n  }\n"]);return te=function(){return e},e}var re=[{value:"all",text:"All"},{value:"draft",text:"Draft"},{value:"submitted",text:"Submitted"},{value:"pr",text:"PR"},{value:"prFailed",text:"PR Failed"},{value:"planned",text:"Planned"},{value:"planFailed",text:"Plan Failed"},{value:"approved",text:"Approved"},{value:"applied",text:"Applied"},{value:"applyFailed",text:"Apply Failed"}],ae=[{value:"all",text:"All"},{value:"active",text:"Active"},{value:"archived",text:"Deleted"}],ie=[{value:5,text:"5 per page"},{value:10,text:"10 per page"},{value:15,text:"15 per page"},{value:30,text:"30 per page"},{value:50,text:"50 per page"},{value:100,text:"100 per page"}],le=[{maxWidth:1280,marginTop:10},{maxWidth:1400,width:1200,marginTop:20},{maxWidth:1700,width:1300,marginTop:20},{width:1600,marginTop:20}],se=f.default.div(te()),oe=(0,f.default)(h.G)(ne());function ce(e){e.currentUser;var n=(0,u.useRouter)(),t=(0,c.useState)(!1),a=t[0],o=t[1],f=(0,c.useState)(!1),h=f[0],g=f[1],j=(0,c.useState)(!1),y=j[0],w=j[1],P=(0,c.useState)([]),k=P[0],Z=P[1],C=(0,c.useState)(""),S=C[0],N=C[1],F=(0,c.useState)(0),E=F[0],I=F[1],_=(0,c.useState)(5),z=_[0],A=_[1],R=(0,c.useState)(1),L=R[0],T=R[1],W=(0,c.useState)("all"),D=W[0],K=W[1],q=(0,c.useState)("active"),M=q[0],O=q[1],B=(0,c.useState)(void 0),G=B[0],U=B[1],X=function(){var e=(0,s.Z)(i().mark((function e(){var n,t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,(0,J.zD)({searchField:["id","projectName"],searchKey:S,order:[["createdAt","desc"]],limit:z,page:L,status:D,archiveStatus:M});case 3:n=e.sent,t=(0,l.Z)(n,2),r=t[0],t[1]?w(!0):r&&(Z(r.rows),I(r.count)),o(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if((0,c.useEffect)((function(){X()}),[S,z,L,D,M]),a)return(0,r.jsx)(m.Z,{rules:le,style:{textAlign:"center"},children:(0,r.jsx)(p.Z,{type:"Grid",color:"#000",height:45,width:45,visible:!0})});if(y)return null;var ne=function(e){return["applied"].includes((null===e||void 0===e?void 0:e.status)||"")},te=function(e){return!["pr","planned","submitted"].includes((null===e||void 0===e?void 0:e.status)||"")},ce=function(e){e.id&&ne(e)&&n.push("/edit-request?id=".concat(e.id))},ue=function(){var e=(0,s.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id&&te(n)){e.next=2;break}return e.abrupt("return");case 2:U(n.id),window.location.hash="delete-modal";case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),de=function(){var e=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te){e.next=2;break}return e.abrupt("return");case 2:return g(!0),e.next=5,(0,J.Jl)(G);case 5:return g(!1),e.next=8,X();case 8:window.location.hash="#";case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)(m.Z,{rules:le,children:[(0,r.jsx)(v.ZP,{cols:10,children:(0,r.jsxs)(v.ZP.Row,{collapse:"800",gutter:[15,2],children:[(0,r.jsx)(v.ZP.Col,{span:6,children:(0,r.jsx)(H,{headers:[{name:"Request ID"},{name:"Project Name"},{name:"Request Status"},{name:"File Status"},{name:"Actions",style:{textAlign:"center",minWidth:"140px"}}],filterItems:re,filterItems2:ae,pageLimits:ie,searchKey:S,limit:z,page:L,rowCount:E,filter:D,filter2:M,onSearch:function(e){N(e),T(1)},onFilter:function(e){K(e),T(1)},onFilter2:function(e){O(e),T(1)},onLimit:function(e){T(1),A(e)},onPrev:T,onNext:T,children:k.length>0?k.map((function(e){return(0,r.jsxs)("tr",{onClick:function(){return U(e.id)},children:[(0,r.jsx)("td",{children:(0,d.padStart)(String(e.id),8,"0")}),(0,r.jsx)("td",{children:e.projectName}),(0,r.jsx)("td",{children:(0,d.startCase)(e.status)}),(0,r.jsx)("td",{children:e.archived?"Deleted":"Active"}),(0,r.jsx)("td",{children:(0,r.jsxs)(Y.W2,{children:[(0,r.jsx)(Y.Kk,{icon:x.Mdf,role:"button","aria-label":"edit",onClick:function(){return ce(e)},title:"Edit"}),(0,r.jsx)(Y.MO,{}),(0,r.jsx)(Y.Kk,{disabled:!ne(e),icon:x.Xcf,role:"button","aria-label":"edit",onClick:function(){return ce(e)},title:"Edit"}),(0,r.jsx)(Y.MO,{}),(0,r.jsx)(Y.Kk,{icon:x.$aW,role:"button","aria-label":"delete",onClick:function(){return ue(e)},disabled:!te(e),activeColor:ee.Uo,title:"Delete"})]})})]},e.id)})):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,children:"No clients found."})})})}),(0,r.jsx)(v.ZP.Col,{span:4})]})}),(0,r.jsxs)($.Z,{id:"delete-modal",children:[(0,r.jsxs)(Q.ZP.Header,{children:[(0,r.jsx)(oe,{icon:x.eHv,title:"Information",size:"2x",style:{paddingRight:"10px"}}),"Confirm Deletion"]}),(0,r.jsxs)(Q.ZP.Content,{children:["You are about to delete this integration request. This action cannot be undone.",(0,r.jsxs)(se,{children:[(0,r.jsx)(V.Z,{variant:"secondary",onClick:function(){return window.location.hash="#"},children:"Cancel"}),(0,r.jsx)(b.ZP,{onClick:de,children:h?(0,r.jsx)(p.Z,{type:"Grid",color:"#FFF",height:18,width:50,visible:!0}):"Delete"})]})]})]})]})}},83636:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin-dashboard",function(){return t(99304)}])}},function(e){e.O(0,[546,962,277,466,774,888,179],(function(){return n=83636,e(e.s=n);var n}));var n=e.O();_N_E=n}]);