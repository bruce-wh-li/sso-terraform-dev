(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{40602:function(e,t,r){"use strict";var n=r(27261);function i(){var e=(0,n.Z)(["\n  display: block;\n  max-width: 100% !important;\n\n  ","\n"]);return i=function(){return e},e}var a=r(29163).default.div(i(),(function(e){return e.rules.map((function(t,r){return 0===r?"@media only screen and (max-width: ".concat(t.maxWidth,"px) {\n          & {\n            width: auto !important;\n            margin-left: 1em !important;\n            margin-right: 1em !important;\n          }\n        }"):r===e.rules.length-1?"@media only screen and (min-width: ".concat((e.rules[r-1].maxWidth||0)+1,"px) {\n          & {\n            width: ").concat(t.width,"px;\n            margin-left: auto !important;\n            margin-right: auto !important;\n          }\n        }"):"@media only screen and (min-width: ".concat((e.rules[r-1].maxWidth||0)+1,"px) and (max-width: ").concat(t.maxWidth,"px) {\n          & {\n            width: ").concat(t.width,"px;\n            margin-left: auto !important;\n            margin-right: auto !important;\n          }\n        }")}))}));t.Z=a},69871:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return be}});var n=r(85893),i=r(11163),a=r(809),o=r.n(a),c=r(92447),u=r(26265),s=r(67294),d=r(27261),l=r(29163);function p(){var e=(0,d.Z)(["\n  font-weight: lighter;\n  color: #003366;\n"]);return p=function(){return e},e}var f=l.default.h1(p());function h(e){var t=e.formStage,r=e.id,i=["Enter requester information","Req ID: ".concat(r," - Choose providers and provide URLs"),"Req ID: ".concat(r," - Terms and Conditions"),"Req ID: ".concat(r," - Review and Submit")];return(0,n.jsx)(f,{children:i[t-1]})}function m(){var e=(0,d.Z)(["\n  width: 100px;\n  margin: 0;\n"]);return m=function(){return e},e}function b(){var e=(0,d.Z)(["\n  height: 40px;\n  width: 40px;\n  text-align: center;\n  line-height: 40px;\n  border-radius: 40px;\n  background-color: white;\n"]);return b=function(){return e},e}function v(){var e=(0,d.Z)(["\n  height: 60px;\n  width: 200px;\n  background-color: #ebf7ff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: bold;\n  border-radius: 5px;\n  padding: 20px;\n\n  border: 1px solid #006fc4;\n  opacity: ",";\n  color: ",";\n"]);return v=function(){return e},e}var x=l.default.div(v(),(function(e){return e.active?"1":"0.5"}),(function(e){return!e.active&&"#003366"})),g=l.default.div(b()),j=l.default.p(m());function y(e){var t=e.stageNumber,r=e.title,i=e.active;return(0,n.jsxs)(x,{active:i,children:[(0,n.jsx)(g,{children:t}),(0,n.jsx)(j,{children:r})]})}function w(){var e=(0,d.Z)(["\n  display: flex;\n  margin: 0 0 20px 0;\n\n  & > * {\n    margin-right: 10px;\n  }\n"]);return w=function(){return e},e}var O=l.default.div(w()),P=[{title:"Requester Info",number:1},{title:"Providers and URL's",number:2},{title:"Terms and conditions",number:3},{title:"Review & Submit",number:4}];function k(e){var t=e.currentStage;return(0,n.jsx)(O,{children:P.map((function(e){return(0,n.jsx)(y,{title:e.title,stageNumber:e.number,active:e.number===t},e.number)}))})}var D=r(24184);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e){switch(e){case"checkbox":return"checked";case"file":return"files";default:return"value"}}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I={TextWidget:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=Z(t);return function(i){var a=i.value,o=i.onChange,c=i.label,u=i.schema,s=i.options,d=i.required,l=i.disabled,p=u.name,f=void 0===p?c:p,h=u.pattern,m=u.minLength,b=u.maxLength,v=u.id,x=s.enumOptions,g=void 0===x?[]:x,j={onChange:function(e){var t=e.target[r];""===t&&(t=void 0),"true"===t&&(t=!0),"false"===t&&(t=!1),o(t)},label:c,name:f,maxLength:b,id:v,required:d,disabled:l,minLength:m,type:t,pattern:h,value:a||void 0,checked:"undefined"!==typeof a&&a};return"file"===t&&delete j.value,"checkbox"===t&&(j.value=!0),"radio"===t?(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{children:c}),g.map((function(t){return(0,n.jsx)(e,S(S({},j),{},{label:t.label,value:t.value,checked:t.value===a,style:{padding:"2px 0"},size:"small"}),t.value)}))]}):(0,n.jsx)(e,S(S({},j),{},{fullWidth:!0,children:g&&g.map((function(e){var t=e.value,r=e.label;return(0,n.jsx)("option",{value:t,children:r},t)}))}))}}(r(11915).ZP,"input")};function U(e){return(0,n.jsx)(D.ZP,E(E({},e),{},{widgets:I}))}var L={type:"object",properties:{projectLead:{type:"boolean",title:"Are you the product owner or project admin/team lead?"}},dependencies:{projectLead:{oneOf:[{properties:{projectLead:{enum:[!1]}}},{properties:{projectLead:{enum:[!0]},preferredEmail:{type:"string",title:"Business Email Address"},projectName:{type:"string",title:"Project Name"},newToSso:{type:"boolean",title:"Are you new to Single Sign-On (Keycloak)?"}}}]}}},N={type:"object",required:["agreeWithTerms"],properties:{agreeWithTerms:{type:"boolean",title:"Do you agree with the terms and conditions?"}}},q=r(84391);function F(e){e.id;var t=e.classNames,r=(e.label,e.help),i=(e.required,e.description),a=e.errors,o=e.children;return(0,n.jsxs)("div",{className:t,children:[i,o,a,r]})}var T={identityProviders:{"ui:widget":"checkboxes","ui:disabled":"true","ui:help":"Currently we only support the onestopauth realm and IDPs cant be changed."},environments:{"ui:widget":"checkboxes"},projectLead:{"ui:widget":"radio"},newToSso:{"ui:widget":"radio"},preferredEmail:{"ui:FieldTemplate":F},projectName:{"ui:FieldTemplate":F},realm:{"ui:widget":"radio","ui:enumDisabled":["bceidbasic","bceidbusiness","bceidboth"]}},W=r(4826),A=r(31607);r(44259);function _(){var e=(0,d.Z)(["\n  margin-left: 10px;\n  min-width: 150px;\n"]);return _=function(){return e},e}var B=(0,l.default)(W.ZP)(_());function G(e){var t=e.show,r=e.loading,i=e.text,a=e.handleSubmit,o=e.handleBackClick;return(0,n.jsx)(n.Fragment,{children:t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(W.ZP,{variant:"secondary",type:"button",onClick:o,children:i.back}),(0,n.jsx)(B,{variant:"primary",onClick:a,children:r?(0,n.jsx)(A.Z,{type:"Grid",color:"#FFF",height:18,width:50,visible:!0}):(0,n.jsx)(n.Fragment,{children:i.continue})})]})})}var z=r(69696),H=r(6645),K=r(17625),X=r(51436);function J(){var e=(0,d.Z)(["\n  margin: 0;\n  font-size: 16px;\n  font-weight: lighter;\n  padding-left: 10px;\n  color: #bbbbbb;\n"]);return J=function(){return e},e}function M(){var e=(0,d.Z)(["\n  padding: 10px 0 0 10px;\n"]);return M=function(){return e},e}function Q(){var e=(0,d.Z)(["\n  display: flex;\n  align-items: start;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return Q=function(){return e},e}function V(){var e=(0,d.Z)(["\n  display: grid;\n  grid-template-columns: 4fr 1fr;\n"]);return V=function(){return e},e}var Y=l.default.div(V()),$=l.default.div(Q()),ee=(0,l.default)($)(M()),te=l.default.p(J());function re(e){var t=e.TitleField,r=e.title;return(0,n.jsxs)("div",{children:[(0,n.jsx)(t,{title:r,children:r}),e.items.map((function(e){return(0,n.jsx)(n.Fragment,{children:e.hasRemove&&(0,n.jsxs)(Y,{children:[e.children,e.index>0&&(0,n.jsxs)(ee,{onClick:e.onDropIndexClick(e.index),children:[(0,n.jsx)(K.G,{style:{color:"red"},icon:X.uMC,size:"2x"}),(0,n.jsx)(te,{children:"Remove URL"})]})]})})})),e.canAdd&&(0,n.jsxs)($,{onClick:e.onAddClick,children:[(0,n.jsx)(K.G,{style:{color:"#006fc4"},icon:X.KtF,onClick:e.onAddClick,size:"2x"}),(0,n.jsx)(te,{children:"Add another URL"})]})]})}var ne=r(95409);function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe=[{index:"projectLead",title:"Are you the product owner or project admin/team lead?"},{index:"preferredEmail",title:"Business Email Address"},{index:"projectName",title:"Project Name"},{index:"newToSso",title:"Are you new to Single Sign-On (Keycloak)?"},{index:"realm",title:"Identity Providers"},{index:"devRedirectUrls",title:"Dev Redirect URLs"},{index:"testRedirectUrls",title:"Test Redirect URLs"},{index:"prodRedirectUrls",title:"Prod Redirect URLs"}];function ce(e){var t=e.formData,r=e.setFormStage,a=(0,s.useState)(!1),u=a[0],d=a[1],l=(0,i.useRouter)(),p=function(){var e=(0,c.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,(0,H.WN)(ae(ae({},t),{},{status:"submitted"}),!0);case 4:d(!1),l.push("/my-requests"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("table",{children:oe.map((function(e){var r=function(e,t){var r=t[e.index];return Array.isArray(r)&&(r=JSON.stringify(r)),"boolean"===typeof r&&(r=String(r)),"realm"===e.index&&(r=(0,ne.LF)(r)),r}(e,t);return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.title}),(0,n.jsx)("td",{children:r})]},e.title)}))}),(0,n.jsx)(G,{text:{continue:"Submit",back:"Cancel"},show:!0,loading:u,handleSubmit:p,handleBackClick:function(){return r(3)}})]})}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de=function(e){switch(e){case 1:return L;case 2:return q.Z;case 3:return N}};function le(e){var t=e.currentUser,r=void 0===t?{}:t,i=(0,s.useState)({}),a=i[0],u=i[1],d=(0,s.useState)(1),l=d[0],p=d[1],f=(0,s.useState)(!1),m=f[0],b=f[1];(0,s.useEffect)((function(){a.preferredEmail||u(se(se({},a),{},{preferredEmail:r.email||""}))}),[r]);var v=function(){var e=(0,c.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,b(!0),1!==l){e.next=10;break}return e.next=5,(0,H.hG)(t.formData);case 5:r=e.sent,n=r.id,u(se(se({},a),{},{id:n})),e.next=12;break;case 10:return e.next=12,(0,H.WN)(t.formData);case 12:p(l+1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:b(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h,{formStage:l,id:a.id}),(0,n.jsx)(k,{currentStage:l}),[1,2,3].includes(l)?(0,n.jsx)(U,{schema:de(l),uiSchema:T,onSubmit:v,onChange:function(e){u(e.formData),!1===e.formData.projectLead&&(window.location.hash="modal")},formData:a,ArrayFieldTemplate:re,ErrorList:function(){return null},children:(0,n.jsx)(G,{text:{continue:1===l?"Create File":"Next",back:"Cancel"},show:1!==l||a.projectLead,loading:m,handleBackClick:function(){l>1&&p(l-1)}})}):(0,n.jsx)(ce,{formData:a,setFormStage:p}),1===l&&(0,n.jsxs)(z.ZP,{id:"modal",children:[(0,n.jsxs)(z.ZP.Header,{children:["Information ",(0,n.jsx)(z.ZP.Close,{children:"Close"})]}),(0,n.jsx)(z.ZP.Content,{children:"We cannot process realm requests except for individuals with the product owner, project admin or team lead role. Please get in touch with individuals with these roles in your organization to make this request for you."})]})]})}function pe(){var e=(0,d.Z)(["\n  width: 80vw;\n  padding: 5%;\n  margin: auto;\n"]);return pe=function(){return e},e}var fe=l.default.div(pe()),he=r(40602),me=[{maxWidth:767},{maxWidth:991,width:723},{maxWidth:1199,width:933},{width:1127}];var be=function(e){var t=e.currentUser;return(0,i.useRouter)(),(0,n.jsx)(he.Z,{rules:me,children:(0,n.jsx)(fe,{children:(0,n.jsx)(le,{currentUser:t||{}})})})}},84391:function(e,t){"use strict";t.Z={type:"object",required:["devRedirectUrls","testRedirectUrls","prodRedirectUrls"],properties:{realm:{type:"string",title:"Identity Providers Required",enum:["onestopauth","bceidbasic","bceidbusiness","bceidboth"],enumNames:["IDIR/GitHub","IDIR/GitHub + BCeID Basic","IDIR/GitHub + BCeID Business","IDIR/GitHub + BCeID Both"],default:"onestopauth"},devRedirectUrls:{type:"array",title:"Dev Redirect Urls",items:{type:"string",format:"url"},additionalItems:{type:"string"},default:[""]},testRedirectUrls:{type:"array",title:"Test Redirect Urls",items:{type:"string",format:"url"},additionalItems:{type:"string"},default:[""]},prodRedirectUrls:{type:"array",title:"Prod Redirect Urls",items:{type:"string",format:"url"},additionalItems:{type:"string"},default:[""]}}}},6645:function(e,t,r){"use strict";r.d(t,{hG:function(){return u},XJ:function(){return s},WN:function(){return d}});var n=r(809),i=r.n(n),a=r(92447),o=r(70513),c=r(9186),u=function(){var e=(0,a.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,c.g)(),e.prev=1,e.next=4,o.e.post("requests",t,r).then((function(e){return e.data}));case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,c.g)(),e.prev=1,e.next=4,o.e.get("requests",t).then((function(e){return e.data}));case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)(i().mark((function e(t){var r,n,a,u,s=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]&&s[1],n=(0,c.g)(),e.prev=2,a=r?"requests?submit=true":"requests",e.next=6,o.e.put(a,t,n).then((function(e){return e.data}));case 6:return u=e.sent,e.abrupt("return",u);case 10:return e.prev=10,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},21916:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/request",function(){return r(69871)}])}},function(e){e.O(0,[523,676,774,888,179],(function(){return t=21916,e(e.s=t);var t}));var t=e.O();_N_E=t}]);