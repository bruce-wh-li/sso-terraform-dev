(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[899],{16530:function(e,n,t){"use strict";var r=t(95318),i=t(20862);n._v=void 0;var o,a=r(t(22122)),c=r(t(19756)),s=r(t(45761)),l=i(t(67294)),u=r(t(86010)),d=r(t(29163)),f=t(80927),h="pg-notification",p="pg-notification-content",x=d.default.input.attrs({type:"checkbox"})(o||(o=(0,s.default)(["\n  position: absolute;\n  left: -100vw;\n\n  &:checked + ."," {\n    display: none;\n  }\n"])),h),m={checkboxId:"",styleProps:{},Sheader:null,Scontent:null,Sgroup:null,Sclose:null},v=l.default.createContext(m),j=function(e,n,t){void 0===t&&(t={});var r=(0,f.processStyle)(e),i=(0,f.processStyle)(t),o=(0,f.createStyleBuilder)(r,n,i),s=n.as||{},d=o(s.container||"aside","container"),m=o(s.header||"header","header"),j=o(s.content||"div","content"),b=o(s.group||"div","group"),g=o("label","close"),y=(0,f.createBootstrap)(r,"notification"),w=function(e){var n=y(e),t=n.id,r=(n.name,n.label,n.ariaLabel,n.styleProps),i=n.children,o=n.className,s=n.rest,f=s.closable,p=(0,c.default)(s,["closable"]),w=t+"-toggle";return l.default.createElement(v.Provider,{value:{checkboxId:w,styleProps:r,Sheader:m,Scontent:j,Sgroup:b,Sclose:g}},f&&l.default.createElement(x,{id:w}),l.default.createElement(d,(0,a.default)({},r,p,{className:(0,u.default)(h,o)}),i))};return w.Header=function(e){var n=e.children,t=e.className,r=(0,c.default)(e,["children","className"]),i=(0,u.default)("pg-notification-header",t),o=(0,l.useContext)(v),s=o.Sheader,d=o.styleProps;return l.default.createElement(s,(0,a.default)({className:i},d,r),n)},w.Content=function(e){var n=e.children,t=e.className,r=(0,c.default)(e,["children","className"]),i=(0,u.default)(p,t),o=(0,l.useContext)(v),s=o.Scontent,d=o.styleProps;return l.default.createElement(s,(0,a.default)({className:i},d,r),n)},w.Group=function(e){var n=e.children,t=e.className,r=(0,c.default)(e,["children","className"]),i=(0,u.default)(p,t),o=(0,l.useContext)(v),s=o.Sgroup,d=o.styleProps;return l.default.createElement(s,(0,a.default)({className:i},d,r),n)},w.Close=function(e){var n=e.children,t=e.className,r=(0,c.default)(e,["children","className"]),i=(0,u.default)("pg-notification-close",t),o=(0,l.useContext)(v),s=o.Sclose,d=o.checkboxId,f=o.styleProps;return l.default.createElement(s,(0,a.default)({className:i,htmlFor:d},f,{role:"button","aria-label":"close"},r),n)},w};n._v=j,j({},{},{})},91814:function(e,n,t){"use strict";t.r(n),t.d(n,{RequestsContext:function(){return $n},default:function(){return Vn}});var r=t(85893),i=t(27261),o=t(67294),a=t(11163),c=t(64735),s=t(29163),l=t(56841),u=t(20374),d=t(40602),f=t(26265);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,f.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var x={},m=function(e,n){switch(n.type){case"setPanelTab":return p(p({},e),{},{panelTab:n.payload});case"setDownloadError":return p(p({},e),{},{downloadError:n.payload});default:return e}},v=t(16530),j=t(69829);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,f.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=(0,v._v)({shared:{container:"\n      line-height: 1.5em;\n      border: 1px solid transparent;\n      border-radius: 0.2222em;\n      padding: 1em 0.5em;\n\n      & a {\n        text-decoration: underline;\n      }\n\n      & .pg-notification-content>svg {\n        overflow: initial;\n      }\n    ",close:"\n      cursor: pointer !important;\n      text-align: center;\n      text-decoration: none;\n      border-radius: 0.2222em;\n      padding: 0.4em 0.5em;\n      margin-right: 20px;\n    "},size:{small:{container:"\n        font-size: 0.8rem;\n      "},medium:{container:"\n        font-size: 1rem;\n      "},large:{container:"\n        font-size: 1.2rem;\n      "}},variant:{success:{container:"\n        background-color: #dff0d8;\n        border-color: #d6e9c6;\n        color: #2d4821;\n\n        & a {\n          color: #2b542c;\n        }\n      ",content:"\n        color: #2d4821;\n      ",close:"\n        color: #2d4821;\n        border: 1px solid #2d4821;\n\n        &:hover {\n          background: #2d4821;\n          color: #fff;\n        }\n      ",group:"\n        color: #2d4821;\n      "},info:{container:"\n        background-color: #d9eaf7;\n        border-color: #afd3ee;\n        color: #313132;\n\n        & a {\n          color: #1a5a96;\n        }\n      ",content:"\n        color: #313132;\n      ",close:"\n        color: #313132;\n        border: 1px solid #313132;\n\n        &:hover {\n          background: #313132;\n          color: #fff;\n        }\n      ",group:"\n        color: #313132;\n      "},warning:{container:"\n        background-color: #f9f1c6;\n        border-color: #faebcc;\n        color: #6c4a00;\n\n        & a {\n          color: #66512c;\n        }\n      ",content:"\n        color: #66512c;\n      ",close:"\n        color: #66512c;\n        border: 1px solid #66512c;\n\n        &:hover {\n          background: #66512c;\n          color: #fff;\n        }\n      ",group:"\n        color: #66512c;\n      "},danger:{container:"\n        background-color: #f2dede;\n        border-color: #ebccd1;\n        color: #a12622;\n\n        & a {\n          color: #843534;\n        }\n      ",content:"\n        color: #a12622;\n      ",close:"\n        color: #a12622;\n        border: 1px solid #a12622;\n\n        &:hover {\n          background: #a12622;\n          color: #fff;\n        }\n      ",group:"\n        color: #a12622;\n      "}},flex:{container:"\n      display: flex;\n    ",group:"\n      margin: auto 0.5rem;\n    "}},{defaultProps:{variant:"info",size:"medium",flex:!0},staticProps:[]},{group:{align:{left:"\n        margin-right: auto;\n    ",right:"\n        margin-left: auto;\n    "}}}),w=function(e){switch(e){case"success":return j.CheckCircle;case"info":return j.InfoCircle;case"warning":return j.ExclamationTriangle;default:return j.ExclamationCircle}};function Z(e){return(0,r.jsxs)(y,g(g({},e),{},{children:[(0,r.jsx)(y.Group,{style:{marginTop:"1px"},children:(0,r.jsx)(j.FaSVG,{children:(0,r.jsx)("path",{fill:"currentColor",d:w(e.variant)})})}),(0,r.jsx)(y.Content,{children:e.content?e.content:e.children}),e.closable&&(0,r.jsx)(y.Group,{align:"right",children:(0,r.jsx)(y.Close,{children:"x"})})]}))}var k=t(809),S=t.n(k),C=t(64121),P=t(92447),O=t(17625),E=t(51436),I=t(31607),D=t(70513),T=function(){var e=(0,P.Z)(S().mark((function e(n,t){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.e.post("installation",{requestId:n,environment:t}).then((function(e){return e.data}));case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),N=function(){var e=(0,P.Z)(S().mark((function e(n,t){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.e.put("installation",{requestId:n,environment:t}).then((function(e){return e.data}));case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),F=t(83024),z=t(30454),R={shared:{button:"\n      border-radius: 0.222em;\n      border-width: 0;\n      padding: 0.6em 1.1em;\n      text-align: center;\n      text-decoration: none;\n      font-weight: 700;\n      letter-spacing: 1px;\n      display: inline-block;\n      cursor: pointer;\n      box-shadow: 0px 0px 0px 2px transparent inset, 0px 0em 0px 0px rgba(34, 36, 38, 0.15) inset;\n    "},size:{xsmall:{button:"\n        font-size: 0.7rem;\n      "},small:{button:"\n        font-size: 0.8rem;\n      "},medium:{button:"\n        font-size: ".concat(z.n5,";\n      ")},large:{button:"\n        font-size: ".concat(z.zA,";\n      ")}},variant:{primary:{button:"\n        background-color: #D5EDFF;\n        box-shadow: 0px 0px 0px 2px #D5EDFF inset !important;\n        color: #3E3E3E;\n\n        &:hover {\n          text-decoration: underline;\n          background-color: #FFF7D5;\n          box-shadow: 0px 0px 0px 2px #FFF7D5 inset !important;\n          opacity: 0.80;\n        }\n\n        &:active {\n          opacity: 1;\n        }\n      "},grey:{button:"\n        background-color: #B2B2B2;\n        box-shadow: 0px 0px 0px 1px #707070 inset !important;\n        color: #F8F8F8;\n        min-width: 110px;\n\n        &:hover {\n          background-color: ".concat(z.TU,";\n          box-shadow: 0px 0px 0px 1px #707070 inset !important;\n        }\n      ")}}},q=(0,F.applyTheme)(R,{defaultProps:{variant:"primary",size:"medium"},breakProps:[],staticProps:["fullHeight","fullWidth"]}),A=function(e){return JSON.stringify(e,void 0,2)},G=function(e){var n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.focus(),n.select();try{return document.execCommand("copy"),document.body.removeChild(n),!0}catch(t){return document.body.removeChild(n),!1}},L=function(e,n){var t=window.URL.createObjectURL(new Blob([e],{type:"application/json"})),r=document.createElement("a");r.href=t,r.setAttribute("download",n),document.body.appendChild(r),r.click(),document.body.removeChild(r)},U=t(6434),M=t(7800),K=t(34605),_=t(74150);function B(){var e=(0,i.Z)(["\n  height: var(--field-top-spacing);\n"]);return B=function(){return e},e}function Y(){var e=(0,i.Z)(["\n  color: #3e3e3e;\n  font-size: 14px;\n  font-weight: 700;\n"]);return Y=function(){return e},e}function H(){var e=(0,i.Z)(["\n  color: #000;\n  font-size: ",";\n  font-weight: bold;\n"]);return H=function(){return e},e}function J(){var e=(0,i.Z)(["\n  text-align: center;\n"]);return J=function(){return e},e}var W=s.default.div(J()),X=s.default.span(H(),z.n5),$=s.default.span(Y()),V=s.default.div(B()),Q=(0,M.h)((function(e){var n=e.selectedRequest,t=e.alert,i=(0,o.useState)(!1),a=i[0],s=i[1],l=function(){var e=(0,P.Z)(S().mark((function e(t){var r,i,o;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,T(n.id,t);case 3:return r=e.sent,i=(0,C.Z)(r,1),o=i[0],s(!1),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,P.Z)(S().mark((function e(n){var r,i,o;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(n);case 2:r=e.sent,G(A(r)),i=r?"success":"danger",o=r?"Installation copied to clipboard":"Failed to download installation",t.show({variant:i,fadeOut:1e4,closable:!0,content:o});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,P.Z)(S().mark((function e(t){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:r=e.sent,L(A(r),"".concat(n.projectName,"-installation-").concat(t,".json"));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return a?(0,r.jsxs)(W,{children:[(0,r.jsx)(V,{}),(0,r.jsx)(I.Z,{type:"Grid",color:"#000",height:45,width:45,visible:!0})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V,{}),(0,r.jsx)(c.ZP,{cols:4,children:(0,U.Dy)(n).map((function(e){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(c.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsx)(c.ZP.Col,{span:1,children:(0,r.jsx)(X,{children:e.display})}),(0,r.jsxs)(c.ZP.Col,{span:3,children:[(0,r.jsx)(q,{size:"medium",variant:"grey",onClick:function(){return u(e.name)},children:"Copy"}),"\xa0",(0,r.jsx)(q,{size:"medium",variant:"grey",onClick:function(){return d(e.name)},children:"Download"}),"\xa0\xa0",(0,r.jsx)(O.G,{color:"green",icon:E.f8k,title:"Ready"}),"\xa0",(0,r.jsx)($,{children:"Ready"})]})]}),(0,r.jsx)("br",{})]},e.name)}))}),(0,r.jsxs)(K.Z,{children:["For more information on how to use these details, or for the public endpoints associated to your client, see"," ",(0,r.jsx)(_.ZP,{href:"https://github.com/bcgov/sso-requests/blob/dev/docs/developer-guide.md#using-your-integration",external:!0,children:"here"}),"."]})]})})),ee=t(4826),ne=t(98806);function te(){var e=(0,i.Z)(["\n  background-color: black;\n"]);return te=function(){return e},e}function re(){var e=(0,i.Z)(["\n  margin-bottom: 5px;\n  display: flex;\n  align-items: center;\n"]);return re=function(){return e},e}function ie(){var e=(0,i.Z)(["\n  margin-right: 20px;\n"]);return ie=function(){return e},e}function oe(){var e=(0,i.Z)(["\n  color: #000;\n  font-size: 1.1rem;\n  font-weight: bold;\n"]);return oe=function(){return e},e}function ae(){var e=(0,i.Z)(["\n  height: var(--field-top-spacing);\n"]);return ae=function(){return e},e}var ce=s.default.div(ae()),se=s.default.span(oe()),le=(0,s.default)(O.G)(ie()),ue=s.default.div(re()),de=s.default.hr(te()),fe=(0,M.h)((function(e){var n=e.selectedRequest,t=e.alert,i=(0,o.useState)(null),a=i[0],c=i[1],s=(0,U.Dy)(n),l=function(){var e=(0,P.Z)(S().mark((function e(){var r,i,o,c,s,l;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(n.id,(null===a||void 0===a?void 0:a.name)||null);case 2:r=e.sent,i=(0,C.Z)(r,2),o=i[0],c=i[1],s=c?"danger":"success",l=c?"Failed to regenerate secret":"Client Secret Successfully Updated",t.show({variant:s,fadeOut:1e4,closable:!0,content:l}),window.location.hash="#",console.log(o,c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ue,{children:[(0,r.jsx)(le,{icon:E.eHv,color:"black",title:"Warning",size:"2x"}),(0,r.jsxs)("strong",{children:["You're About to Change Your Client Secret for Your ",null===a||void 0===a?void 0:a.display," Environment."]})," "]}),(0,r.jsx)(de,{}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Once you change your secret, your previous secret will no longer be valid for any applications using it."}),(0,r.jsx)("li",{children:"This means you will need to update any applications using this client with the new JSON details before they are functional again."})]})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ce,{}),s.map((function(e){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(se,{children:[e.display,": "]}),!n.publicAccess&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)(ee.ZP,{type:"button",onClick:function(){return function(e){c(e),window.location.hash="confirm-new-secret"}(e)},children:"Change your client secret"})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]},e.name)}))]}),(0,r.jsx)(ne.Z,{id:"confirm-new-secret",content:u,onConfirm:l,icon:E.eHv,title:"You're About to Change Your Client Secret",closable:!0})]})})),he=function(e){switch(e){case"draft":return"In Draft";case"applied":return"Completed";default:return"Submitted"}},pe=t(90032),xe=t(87522),me=t(98224),ve=t(25367);function je(e){var n=e.requestId,t=(0,o.useState)(!1),i=t[0],a=t[1],c=(0,o.useState)(!1),s=c[0],l=c[1],u=(0,o.useState)([]),d=u[0],f=u[1],h=function(){var e=(0,P.Z)(S().mark((function e(){var t,r,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return a(!0),e.next=5,(0,xe.v)({requestId:n,eventCode:"request-update-success",clearNotifications:!0});case 5:t=e.sent,r=(0,C.Z)(t,2),i=r[0],r[1]?l(!0):i&&f(i.rows),a(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){h()}),[n]),s?(0,r.jsx)(Z,{variant:"warning",content:"Failed to load details."}):i?(0,r.jsx)(me.Z,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(ve.Z,{events:d})})}var be=t(85330),ge=t(32781),ye=t(51479),we=t(65982);function Ze(){var e=(0,i.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 0;\n\n  & p {\n    max-width: 90%;\n    margin: 5px 0;\n  }\n"]);return Ze=function(){return e},e}function ke(){var e=(0,i.Z)(["\n  height: ",";\n  width: ",";\n  border-radius: ",";\n  margin: ",";\n  margin-left: 0;\n  border: 2px solid #b3b3b3;\n"]);return ke=function(){return e},e}var Se="15px",Ce=s.default.div(ke(),Se,Se,Se,"0"),Pe=s.default.li(Ze());function Oe(e){var n=e.request.updatedAt,t=new Date(n||"").toLocaleString();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ye.Z,{now:50}),(0,r.jsxs)(we.Z,{children:["Last updated at ",t]}),(0,r.jsxs)(ge.Z,{children:[(0,r.jsxs)(Pe,{children:["Requirements email sent to IDIM",(0,r.jsx)(O.G,{icon:E.f8k,color:"#00C45B"})]}),(0,r.jsxs)(Pe,{children:[(0,r.jsxs)("p",{children:["Please reach out to IDIM if you do not hear back within the next 2-3 business days (",(0,r.jsx)(_.ZP,{href:"mailto:IDIM.Consulting@gov.bc.ca",children:"IDIM.Consulting@gov.bc.ca"}),")"]}),(0,r.jsx)(O.G,{icon:E.FU$,color:"#b3b3b3"})]}),(0,r.jsxs)(Pe,{children:[(0,r.jsx)("p",{children:"Access to prod"}),(0,r.jsx)(Ce,{})]})]})]})}var Ee=t(3278),Ie=function(e){return{type:"setDownloadError",payload:e}};function De(){var e=(0,i.Z)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n"]);return De=function(){return e},e}function Te(){var e=(0,i.Z)(["\n  margin-top: 10px;\n"]);return Te=function(){return e},e}var Ne=(0,s.default)(Ee.Z)(Te()),Fe=s.default.div(De());var ze=function(e){var n=e.integration,t=(0,o.useContext)($n),i=t.state,a=t.dispatch,c=i.panelTab;if(!n)return null;var s=n.status,d=n.bceidApproved,f=he(s||"draft"),h=(0,U.Jx)(null===n||void 0===n?void 0:n.realm)&&n.prod&&!d,p=null;return"In Draft"===f?p=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsxs)(Z,{variant:"info",children:[(0,r.jsx)("div",{children:(0,r.jsx)("strong",{children:"Your request has not been submitted."})}),(0,r.jsx)("div",{children:'To complete your request, click "Edit" button.'})]})]}):"Submitted"===f?p=(0,r.jsx)(u.H,{activeKey:"Integration-request-summary",children:(0,r.jsx)(l.Z,{eventKey:"Integration-request-summary",title:"Integration Request Summary",children:(0,r.jsx)(Fe,{children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(be.wk,{number:1,title:"Access to Dev and/or Test environment(s) - approx 20 mins",variant:"secondary",children:[(0,r.jsx)(pe.Z,{selectedRequest:n}),(0,r.jsx)("br",{})]}),(0,r.jsx)(be.wk,{number:2,title:"Access to Prod environment - (TBD)",variant:"secondary",children:(0,r.jsx)(Oe,{request:n})})]}):(0,r.jsx)(pe.Z,{selectedRequest:n,title:"Access to environment(s) - approx 20 mins"})})})}):"Completed"===f&&(p=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.H,{activeKey:c,onSelect:function(e){return a({type:"setPanelTab",payload:e})},children:[(0,r.jsx)(l.Z,{eventKey:"installation-json",title:"Installation JSON",children:(0,r.jsx)(Fe,{children:(0,r.jsx)(Q,{selectedRequest:n})})}),!n.publicAccess&&(0,r.jsx)(l.Z,{eventKey:"configuration-url",title:"Secrets",children:(0,r.jsx)(Fe,{children:(0,r.jsx)(fe,{selectedRequest:n})})}),(0,r.jsx)(l.Z,{eventKey:"history",title:"History",children:(0,r.jsx)(Fe,{children:(0,r.jsx)(je,{requestId:n.id})})})]}),h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ne,{children:"Production Status"}),(0,r.jsx)(Oe,{request:n})]})]})),p},Re=t(23451),qe=t(35611),Ae=t(89779),Ge=t(6645),Le=t(38073),Ue=t(76457),Me=t(61408);function Ke(){var e=(0,i.Z)(["\n  display: grid;\n  grid-template-columns: 1fr 6fr;\n"]);return Ke=function(){return e},e}function _e(){var e=(0,i.Z)(["\n  color: #ff0303;\n"]);return _e=function(){return e},e}var Be=(0,s.default)(O.G)(_e()),Ye=s.default.div(Ke()),He=function(e){var n=e.title,t=e.content;return(0,r.jsxs)(Ye,{children:[(0,r.jsx)(Be,{icon:E.RLE,size:"3x"}),(0,r.jsxs)("div",{children:[n&&(0,r.jsx)("strong",{children:n}),t&&(0,r.jsx)("p",{children:t})]})]})};function Je(){var e=(0,i.Z)(["\n  margin-right: 10px;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return Je=function(){return e},e}function We(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Xe(){var e=(0,i.Z)(["\n  text-align: center !important;\n"]);return Xe=function(){return e},e}function $e(){var e=(0,i.Z)(["\n  border: 3px solid #a6b1c4;\n  padding: 10px;\n"]);return $e=function(){return e},e}function Ve(){var e=(0,i.Z)(["\n  &&& {\n    padding: 0;\n    margin: 20px 0;\n  }\n"]);return Ve=function(){return e},e}function Qe(){var e=(0,i.Z)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n"]);return Qe=function(){return e},e}var en=s.default.div(Qe()),nn=(0,s.default)(be.zx)(Ve()),tn=s.default.div($e()),rn=s.default.td(Xe()),on="add-member-modal",an="delete-member-modal",cn=function(e,n){var t={members:[]};return e.forEach((function(e,n){e.idirEmail||(t.members[n]="Please enter an email")})),0===t.members.length?(n(null),null):(n(t),t)},sn={idirEmail:"",role:"member",pending:!0},ln=function(e){var n=e.onConfirmDelete,t={confirmText:"Delete",buttonStyle:"danger"},i="",o="";switch(e.type){case"allow":i="Once they are deleted, they will no longer have access to the team's integrations.",o="Are you sure that you want to delete this team member?",t.onConfirm=n;break;case"notAllowed":i="Before you delete the last team admin, you must assign a new admin.",t.confirmText="Okay",t.buttonStyle="custom"}return(0,r.jsx)(ne.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?We(Object(t),!0).forEach((function(n){(0,f.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):We(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({title:"Delete Team Member",icon:null,id:an,content:(0,r.jsx)(He,{content:i,title:o}),closable:!0},t))},un=(0,s.default)(O.G)(Je()),dn=function(e){var n=e.status;if(!n)return null;var t=E.RLE,i="black";return"draft"===n?(t=E.Xcf,i="#1a5a96"):"submitted"===n?(t=E.SZw,i="#fcba19"):["prFailed","applyFailed","planFailed"].includes(n)?(t=E.nYk,i="#ff0303"):"applied"===n&&(i="#2e8540",t=E.f8k),(0,r.jsx)(O.G,{icon:t,title:n,style:{color:i}})},fn=function(e){var n=e.pending,t=e.invitationSendTime;if(!t)return null;var i,o,a,c=(new Date).getTime()-new Date(t).getTime();return n&&c/864e5>2?(i=E.RLE,o="#ff0303",a="Invitation Expired"):n?(i=E.SZw,o="#fcba19",a="Invitation Sent"):(o="#2e8540",i=E.f8k,a="Active Member"),(0,r.jsx)(O.G,{icon:i,title:a,style:{color:o}})};var hn=(0,M.h)((function(e){var n=e.alert,t=e.currentUser,i=e.team,c=((0,a.useRouter)(),(0,o.useState)([])),s=c[0],d=c[1],f=(0,o.useState)([]),h=f[0],p=f[1],x=(0,o.useState)(null),m=x[0],v=x[1],j=(0,o.useState)([sn]),b=j[0],g=j[1],y=(0,o.useState)(),w=y[0],Z=y[1],k=(0,o.useState)(!1),O=k[0],I=k[1],D=(0,o.useState)(),T=D[0],N=D[1],F=(0,o.useState)("allow"),z=F[0],R=F[1],q=function(){var e=(0,P.Z)(S().mark((function e(n){var r,i,o,a,c,s,l,u,f,h;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,Promise.all([(0,Le.YY)(n),(0,Ge.H0)(n)]);case 3:r=e.sent,i=(0,C.Z)(r,2),o=i[0],a=i[1],c=(0,C.Z)(o,2),s=c[0],l=c[1],u=(0,C.Z)(a,2),f=u[0],h=u[1],l||h?console.error(l||h):(d(s),v(s.find((function(e){return e.idirEmail===t.email}))),p(f||[])),I(!1);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){q(i.id)}),[null===i||void 0===i?void 0:i.id]);var A=function(){var e=(0,P.Z)(S().mark((function e(){var t,r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!cn(b,Z)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,Le.yG)({members:b,id:i.id});case 5:if(t=e.sent,r=(0,C.Z)(t,2),!r[1]){e.next=12;break}n.show({variant:"danger",fadeOut:1e4,closable:!0,content:"Failed to add new members. Please ensure the emails you have entered are valid,\n        and reach out to the SSO team if the problem persists"}),e.next=17;break;case 12:return e.next=14,q(i.id);case 14:g([sn]),window.location.hash="",n.show({variant:"success",fadeOut:1e4,closable:!0,content:"Invited new members to your team!"});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,P.Z)(S().mark((function e(){var t,r,o,a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T&&i.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,Le.MH)(Number(T),i.id);case 4:t=e.sent,r=(0,C.Z)(t,2),r[1]?n.show({variant:"danger",fadeOut:1e4,closable:!0,content:"Failed to delete team member."}):(d(s.filter((function(e){return e.id!==T}))),a=null===(o=s.find((function(e){return e.id===T})))||void 0===o?void 0:o.idirEmail,n.show({variant:"success",fadeOut:1e4,closable:!0,content:"".concat(a," has successfully been deleted.")}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,P.Z)(S().mark((function e(t){var r,o;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,Le.rU)(t,i.id);case 4:r=e.sent,o=(0,C.Z)(r,2),o[1]?n.show({variant:"danger",fadeOut:1e4,closable:!0,content:"Failed to resend invitation."}):n.show({variant:"success",fadeOut:1e4,closable:!0,content:"Sent new invitation for team member ".concat(t.idirEmail)});case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),M=function(){var e=(0,P.Z)(S().mark((function e(t,r){var o,a,c,l,u;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Le.zZ)(i.id,t,{role:r});case 2:if(o=e.sent,a=(0,C.Z)(o,2),c=a[0],!(l=a[1])){e.next=9;break}return console.error(l),e.abrupt("return");case 9:u=s.map((function(e){return e.id===t?c:e})),d(u),n.show({variant:"success",fadeOut:1e4,closable:!0,content:"Member role updated successfully"});case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return i&&m?(0,r.jsxs)(tn,{children:[(0,r.jsxs)(u.H,{defaultActiveKey:"members",children:[(0,r.jsx)(l.Z,{eventKey:"members",title:"Members",children:(0,r.jsxs)(en,{children:[(0,r.jsx)(nn,{variant:"plainText",onClick:function(){return window.location.hash=on},children:"+ Add new team members"}),(0,r.jsx)(Ue.Z,{type:"text",rows:7,ready:!O,style:{marginTop:"20px"},children:(0,r.jsxs)(Re.Z,{variant:"mini",readOnly:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Status"}),(0,r.jsx)("th",{children:"Email"}),(0,r.jsx)("th",{children:"Role"}),(0,r.jsx)("th",{children:"Actions"})]})}),(0,r.jsx)("tbody",{children:s.map((function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(fn,{pending:e.pending,invitationSendTime:e.createdAt})}),(0,r.jsx)("td",{children:e.idirEmail}),(0,r.jsx)("td",{children:"admin"!==m.role||m.id===e.id||e.pending?(0,U.kC)(e.role):(0,r.jsxs)(qe.ZP,{onChange:function(n){return M(e.id,n.target.value)},value:e.role,children:[(0,r.jsx)("option",{value:"member",children:"Member"}),(0,r.jsx)("option",{value:"admin",children:"Admin"})]})}),(0,r.jsxs)("td",{children:[e.pending&&(0,r.jsx)(un,{icon:E.zBy,size:"lg",title:"Resend Invitation",onClick:function(){return L(e)}}),(0,r.jsx)(un,{icon:E.$aW,onClick:function(){return function(e){if(e){var n=(0,U.Wv)(s,e);R(n?"allow":"notAllowed"),N(e),window.location.hash=an}}(e.id)},size:"lg",title:"Delete User"})]})]},e.id)}))})]})})]})}),(0,r.jsx)(l.Z,{eventKey:"integrations",title:"Integrations",children:(0,r.jsx)(en,{children:(0,r.jsx)(Ue.Z,{type:"text",rows:7,ready:!O,style:{marginTop:"20px"},children:(0,r.jsxs)(Re.Z,{variant:"mini",readOnly:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Status"}),(0,r.jsx)("th",{children:"Request ID"}),(0,r.jsx)("th",{children:"Project Name"}),(0,r.jsx)("th",{children:"Actions"})]})}),(0,r.jsx)("tbody",{children:(null===h||void 0===h?void 0:h.length)>0?null===h||void 0===h?void 0:h.map((function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(dn,{status:null===e||void 0===e?void 0:e.status})}),(0,r.jsx)("td",{children:e.id}),(0,r.jsx)("td",{children:e.projectName}),(0,r.jsx)("td",{children:(0,r.jsx)(Me.ZP,{request:e,onDelete:function(){q(null===i||void 0===i?void 0:i.id)},children:(0,r.jsx)(Me.Kk,{icon:E.Mdf,onClick:function(){return n=e.id,void(window.location.href="/my-dashboard?tab=activeProjects&integr=".concat(n));var n},size:"lg"})})})]},e.id)})):(0,r.jsx)("tr",{children:(0,r.jsx)(rn,{colSpan:5,children:"No integrations found"})})})]})})})})]}),(0,r.jsx)(ne.Z,{title:"Add a New Team Member",icon:null,id:on,content:(0,r.jsx)(Ae.Z,{members:b,setMembers:g,allowDelete:!1,errors:w,currentUser:t}),onConfirm:A,skipCloseOnConfirm:!0,buttonStyle:"custom",closable:!0}),(0,r.jsx)(ln,{onConfirmDelete:G,type:z})]}):null})),pn=t(96486);function xn(){var e=(0,i.Z)(["\n  color: #006fc4;\n  height: 60px;\n  padding-left: 20px;\n  padding-top: 16px;\n  padding-bottom: 22px;\n  weight: 700;\n  background-color: #f8f8f8;\n"]);return xn=function(){return e},e}function mn(){var e=(0,i.Z)(["\n  color: #a12622;\n  height: 60px;\n  padding-left: 20px;\n  padding-top: 16px;\n  padding-bottom: 22px;\n  weight: 700;\n  background-color: #f2dede;\n"]);return mn=function(){return e},e}function vn(){var e=(0,i.Z)(["\n  margin: 0;\n"]);return vn=function(){return e},e}function jn(){var e=(0,i.Z)(["\n  text-align: center;\n  min-width: 100px;\n"]);return jn=function(){return e},e}var bn=s.default.th(jn()),gn=s.default.p(vn()),yn=s.default.div(mn()),wn=s.default.div(xn()),Zn=(0,r.jsxs)(yn,{children:[(0,r.jsx)(O.G,{icon:E.RLE,title:"Unavailable"}),"\xa0 The system is unavailable at this moment. please refresh the page."]}),kn=function(e){var n=e.message;return(0,r.jsxs)(wn,{children:[(0,r.jsx)(O.G,{icon:E.sqG,title:"Information"}),"\xa0 ",n]})},Sn=function(e){var n=e.handleNewIntegrationClick,t=e.integrations;return t&&0!=(null===t||void 0===t?void 0:t.length)?(0,r.jsx)(be.zx,{size:"large",onClick:n,variant:"callout",children:"+ Request SSO Integration"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:(0,r.jsx)("b",{children:"To request an integration for a Standard Realm, you\u2019ll need the following information:"})}),(0,r.jsxs)("div",{style:{background:"#D9EDFD",textAlign:"center",padding:"16px"},children:[(0,r.jsxs)(c.ZP,{cols:2,style:{textAlign:"left"},children:[(0,r.jsxs)(c.ZP.Row,{collapse:"992",gutter:[],align:"top",children:[(0,r.jsxs)(c.ZP.Col,{span:1,children:[(0,r.jsx)(be.wk,{number:1,title:"Project Information",children:null}),(0,r.jsxs)(gn,{children:[(0,r.jsx)(O.G,{icon:E.LEp})," Project Name"]}),(0,r.jsxs)(gn,{children:[(0,r.jsx)(O.G,{icon:E.LEp})," Project Team Members (Optional)"]}),(0,r.jsxs)(gn,{children:[(0,r.jsx)(O.G,{icon:E.LEp})," Product Owner or Technical Contact"]})]}),(0,r.jsxs)(c.ZP.Col,{span:1,children:[(0,r.jsx)(be.wk,{number:2,title:"Technical Info",children:null}),(0,r.jsxs)(gn,{children:[(0,r.jsx)(O.G,{icon:E.LEp})," Client type (",(0,r.jsx)(_.ZP,{href:"https://github.com/bcgov/ocp-sso/wiki/Using-Your-SSO-Client#confidential-vs-private-client",children:"Public or Confidential, learn more"}),")"]}),(0,r.jsxs)(gn,{children:[(0,r.jsx)(O.G,{icon:E.LEp})," Identity Provider (IDIR, Azure, BCeID or Basic)"]}),(0,r.jsxs)(gn,{children:[(0,r.jsx)(O.G,{icon:E.LEp})," Environments (Development, Test, Production)"]}),(0,r.jsxs)(gn,{children:[(0,r.jsx)(O.G,{icon:E.LEp})," Redirect URIs for selected environments"]})]})]}),(0,r.jsx)("p",{style:{marginTop:"1.25rem"},children:"*You\u2019ll be able to save and return your integration request, anytime throughout the request form."})]}),(0,r.jsx)(be.zx,{size:"large",onClick:n,variant:"callout",children:"+ Request SSO Integration"})]})]})};function Cn(e){var n,t=e.setIntegration,i=(0,a.useRouter)(),c=i.query.integr,s=(0,o.useState)(!0),l=s[0],u=s[1],d=(0,o.useState)([]),f=d[0],h=d[1],p=(0,o.useState)(null),x=(p[0],p[1]),m=(0,o.useState)(c&&Number(c)||void 0),v=m[0],j=m[1],b=(0,o.useContext)($n),g=b.state,y=b.dispatch,w=g.downloadError,Z=function(){var e=(0,P.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.push("/request");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){x(e),j(e.id),t(e)},O=function(e){if(h(e||[]),v){var n=e.find((function(e){return(null===e||void 0===e?void 0:e.id)===v}));n?k(n):(null===e||void 0===e?void 0:e.length)>0&&k(e[0])}else(null===e||void 0===e?void 0:e.length)>0&&k(e[0])},E=function(){var e=(0,P.Z)(S().mark((function e(){var n,t,r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,(0,Ge.XJ)();case 3:n=e.sent,t=(0,C.Z)(n,2),r=t[0],t[1]?y(Ie(!0)):O(r||[]),u(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){E(),i.replace("/my-dashboard")}),[]),(0,o.useEffect)((function(){return(0,U.rn)(f||[])&&(clearInterval(n),n=setInterval((0,P.Z)(S().mark((function e(){var t,r,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Ge.XJ)();case 2:t=e.sent,r=(0,C.Z)(t,2),i=r[0],r[1]?clearInterval(n):O(i||[]);case 7:case"end":return e.stop()}}),e)}))),5e3)),function(){n&&clearInterval(n)}}),[f,v]);var I=w?Zn:f&&0!==f.length?(0,r.jsxs)(Re.Z,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Request ID"}),(0,r.jsx)("th",{children:"Project Name"}),(0,r.jsx)("th",{children:"Status"}),(0,r.jsx)(bn,{children:"Actions"})]})}),(0,r.jsx)("tbody",{children:null===f||void 0===f?void 0:f.map((function(e){return(0,r.jsxs)("tr",{className:v===e.id?"active":"",onClick:function(){return k(e)},children:[(0,r.jsx)("td",{children:(0,pn.padStart)(String(e.id),8,"0")}),(0,r.jsx)("td",{children:e.projectName}),(0,r.jsx)("td",{children:he(e.status||"draft")}),(0,r.jsx)("td",{children:(0,r.jsx)(Me.ZP,{request:e,onDelete:function(){E()}})})]},e.id)}))})]}):(0,r.jsx)(kn,{message:"No Requests Submitted"});return l?(0,r.jsx)(me.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)(Sn,{handleNewIntegrationClick:Z,integrations:f}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),I]})}var Pn=t(65764),On=t(11915),En=t(10633);function In(){var e=(0,i.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n  & button {\n    min-width: 180px;\n  }\n"]);return In=function(){return e},e}var Dn=s.default.div(In());function Tn(e){var n=e.onSubmit,t=e.teamId,i=e.initialTeamName,a=(0,o.useState)(""),c=a[0],s=a[1],l=(0,o.useState)(!1),u=l[0],d=l[1],f=(0,o.useState)(),h=f[0],p=f[1];(0,o.useEffect)((function(){s(i)}),[i]);var x=function(e){var n={members:[]},t=!1;return e.name.trim()||(n.name="Please enter a name",t=!0),t?n:(p(void 0),null)},m=function(){var e=(0,P.Z)(S().mark((function e(){var r,i,o,a,s;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={name:c.trim(),id:t},!(i=x(r))){e.next=4;break}return e.abrupt("return",p(i));case 4:return d(!0),e.next=7,(0,Le.w2)(r);case 7:return o=e.sent,a=(0,C.Z)(o,2),(s=a[1])&&console.error(s),e.next=13,n();case 13:d(!1),window.location.hash="#";case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{children:[(0,r.jsx)(On.ZP,{label:"New Team Name",onChange:function(e){s(e.target.value)},value:c}),h&&h.name&&(0,r.jsx)(En.Z,{children:null===h||void 0===h?void 0:h.name}),(0,r.jsx)("br",{}),(0,r.jsxs)(Dn,{children:[(0,r.jsx)(be.zx,{variant:"secondary",onClick:function(){s(i),window.location.hash="#"},style:{marginRight:"20px"},children:"Cancel"}),(0,r.jsx)(be.zx,{type:"button",onClick:m,children:u?(0,r.jsx)(I.Z,{type:"Grid",color:"#FFF",height:18,width:50,visible:u}):"Save"})]})]})}var Nn=t(57120);function Fn(){var e=(0,i.Z)(["\n  &&& {\n    margin: 0;\n  }\n"]);return Fn=function(){return e},e}function zn(){var e=(0,i.Z)(["\n  color: #006fc4;\n  height: 60px;\n  padding-left: 20px;\n  padding-top: 16px;\n  padding-bottom: 22px;\n  weight: 700;\n  background-color: #f8f8f8;\n"]);return zn=function(){return e},e}function Rn(){var e=(0,i.Z)(["\n  color: #a12622;\n  height: 60px;\n  padding-left: 20px;\n  padding-top: 16px;\n  padding-bottom: 22px;\n  weight: 700;\n  background-color: #f2dede;\n"]);return Rn=function(){return e},e}function qn(){var e=(0,i.Z)(["\n  text-align: center;\n  min-width: 100px;\n"]);return qn=function(){return e},e}var An="delete-team-modal",Gn="edit-team-name-modal",Ln=s.default.th(qn()),Un=s.default.div(Rn()),Mn=s.default.div(zn()),Kn=(0,s.default)(be.zx)(Fn()),_n=(0,r.jsxs)(Un,{children:[(0,r.jsx)(O.G,{icon:E.RLE,title:"Unavailable"}),"\xa0 The system is unavailable at this moment. please refresh the page."]}),Bn=function(e){var n=e.message;return(0,r.jsxs)(Mn,{children:[(0,r.jsx)(O.G,{icon:E.sqG,title:"Information"}),"\xa0 ",n]})},Yn=function(e){var n=e.handleNewTeamClick;return(0,r.jsx)(Kn,{size:"large",onClick:n,variant:"callout",children:"+ Create a new Team"})};function Hn(e){var n=e.currentUser,t=e.setTeam,i=((0,a.useRouter)(),(0,o.useState)(!0)),c=i[0],s=i[1],l=(0,o.useState)([]),u=l[0],d=l[1],f=(0,o.useState)(null),h=f[0],p=f[1],x=(0,o.useState)(void 0),m=x[0],v=x[1],j=(0,o.useContext)($n),b=j.state,g=j.dispatch,y=b.downloadError,w=h&&0===Number(h.integrationCount),Z=function(e){p(e),v(e.id),t(e)},k=function(e){d(e||[]),(null===e||void 0===e?void 0:e.length)>0&&Z(e[0])},O=function(){var e=(0,P.Z)(S().mark((function e(){var n,t,r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(0,Le.LK)();case 3:n=e.sent,t=(0,C.Z)(n,2),r=t[0],t[1]?g(Ie(!0)):k(r||[]),s(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){O()}),[]);var I=function(){var e=(0,P.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.location.hash=Nn.zw);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=y?_n:u&&0!==(null===u||void 0===u?void 0:u.length)?(0,r.jsxs)(Re.Z,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Team Name"}),(0,r.jsx)(Ln,{children:"Actions"})]})}),(0,r.jsx)("tbody",{children:u&&u.map((function(e){return(0,r.jsxs)("tr",{className:m===e.id?"active":"",onClick:function(){return Z(e)},children:[(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:(0,r.jsxs)(Me.c4,{children:[(0,r.jsx)(Me.Kk,{icon:E.Xcf,role:"button","aria-label":"edit",title:"Edit",size:"lg",onClick:function(){return function(e){Z(e),window.location.hash=Gn}(e)}}),(0,r.jsx)(Me.Kk,{disabled:Number(e.integrationCount)>0,icon:E.$aW,role:"button","aria-label":"delete",title:"Delete",size:"lg",onClick:function(){return function(e){Z(e),window.location.hash=An}(e)}})]})})]},e.id)}))})]}):(0,r.jsx)(Bn,{message:"You have not been added to any teams yet."}),T=function(){var e=(0,P.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,Le.fC)(m);case 4:return e.next=6,O();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c?(0,r.jsx)(me.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)(Yn,{handleNewTeamClick:I}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),D,(0,r.jsx)(ne.Z,{title:"Create a new team",icon:null,onConfirm:function(){return console.log("confirm")},id:Nn.zw,content:(0,r.jsx)(Pn.Z,{onSubmit:O,currentUser:n}),showCancel:!1,showConfirm:!1,closable:!0}),(0,r.jsx)(ne.Z,{title:"Edit Team Name",icon:null,onConfirm:function(){return console.log("confirm")},id:Gn,content:(0,r.jsx)(Tn,{onSubmit:O,teamId:m,initialTeamName:(null===h||void 0===h?void 0:h.name)||""}),showCancel:!1,showConfirm:!1,closable:!0}),(0,r.jsx)(ne.Z,{title:"Delete team",icon:null,onConfirm:T,id:An,content:(0,r.jsx)(He,{title:"Are you sure that you want to delete this team?",content:w?"Once you delete this team, this action cannot be undone.":"Before you delete this team, you will need to delete the integration(s) the team is responsible for."}),buttonStyle:w?"danger":"custom",confirmText:w?"Delete Team":"Okay",closable:!0})]})}function Jn(){var e=(0,i.Z)(["\n  overflow: auto;\n"]);return Jn=function(){return e},e}var Wn=[{maxWidth:900,marginTop:0,marginLeft:10,marginRight:10,marginUnit:"px",horizontalAlign:"none"},{width:480,marginTop:0,marginLeft:2.5,marginRight:2.5,marginUnit:"rem",horizontalAlign:"none"}],Xn=s.default.div(Jn()),$n=o.createContext({});var Vn=function(e){var n=e.currentUser,t=(0,a.useRouter)(),i=t.query.tab,s=(0,o.useState)(i&&String(i)||"activeProjects"),f=s[0],h=s[1],p=(0,o.useState)(null),v=p[0],j=p[1],b=(0,o.useState)(null),g=b[0],y=b[1],w=(0,o.useReducer)(m,x),Z=w[0],k=w[1],S=(0,o.useMemo)((function(){return{state:Z,dispatch:k}}),[Z,k]);return(0,r.jsx)(d.Z,{rules:Wn,children:(0,r.jsx)($n.Provider,{value:S,children:(0,r.jsx)(c.ZP,{cols:10,children:(0,r.jsxs)(c.ZP.Row,{collapse:"1100",gutter:[15,2],children:[(0,r.jsx)(c.ZP.Col,{span:6,children:(0,r.jsxs)(Xn,{children:[(0,r.jsxs)(u.H,{onSelect:function(e){return function(e){h(e),t.replace("/my-dashboard")}(e)},activeKey:f,children:[(0,r.jsx)(l.Z,{eventKey:"activeProjects",title:"My Projects"}),(0,r.jsx)(l.Z,{eventKey:"activeTeams",title:"My Teams"})]}),"activeProjects"===f?(0,r.jsx)(Cn,{setIntegration:j}):(0,r.jsx)(Hn,{currentUser:n,setTeam:y})]})}),(0,r.jsx)(c.ZP.Col,{span:4,children:"activeProjects"===f?v&&(0,r.jsx)(ze,{integration:v}):g&&(0,r.jsx)(hn,{team:g,currentUser:n})})]})})})})}},60466:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-dashboard",function(){return t(91814)}])},59999:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(75093);var i=t(40355);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[861,320,964,467,774,888,179],(function(){return n=60466,e(e.s=n);var n}));var n=e.O();_N_E=n}]);