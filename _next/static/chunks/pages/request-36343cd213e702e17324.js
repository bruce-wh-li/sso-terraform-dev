(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{38755:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Q}});var n=t(85893),i=t(809),o=t.n(i),a=t(92447),u=t(26265),c=t(67294),s=t(27261),l=t(29163);function d(){var e=(0,s.Z)(["\n  font-weight: lighter;\n  color: #003366;\n"]);return d=function(){return e},e}var p=l.default.h1(d());function f(e){var r=e.formStage,t=e.id,i=["Enter requester information","Req ID: ".concat(t," - Choose providers and provide URLs")];return(0,n.jsx)(p,{children:i[r-1]})}function h(){var e=(0,s.Z)(["\n  width: 100px;\n  margin: 0;\n"]);return h=function(){return e},e}function b(){var e=(0,s.Z)(["\n  height: 40px;\n  width: 40px;\n  text-align: center;\n  line-height: 40px;\n  border-radius: 40px;\n  background-color: white;\n"]);return b=function(){return e},e}function v(){var e=(0,s.Z)(["\n  height: 60px;\n  width: 200px;\n  background-color: #ebf7ff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: bold;\n  border-radius: 5px;\n  padding: 20px;\n\n  border: ",";\n  opacity: ",";\n  color: ",";\n"]);return v=function(){return e},e}var m=l.default.div(v(),(function(e){return e.active?"none":"1px solid #b2d4ed"}),(function(e){return e.active?"1":"0.5"}),(function(e){return!e.active&&"#003366"})),g=l.default.div(b()),j=l.default.p(h());function x(e){var r=e.stageNumber,t=e.title,i=e.active;return(0,n.jsxs)(m,{active:i,children:[(0,n.jsx)(g,{children:r}),(0,n.jsx)(j,{children:t})]})}function w(){var e=(0,s.Z)(["\n  display: flex;\n  margin: 0 0 20px 0;\n\n  & > * {\n    margin-right: 10px;\n  }\n"]);return w=function(){return e},e}var y=l.default.div(w()),O=[{title:"Requester Info",number:1},{title:"Providers and URL's",number:2},{title:"Terms and conditions",number:3},{title:"Review & Submit",number:4}];function P(e){var r=e.currentStage;return(0,n.jsx)(y,{children:O.map((function(e){return(0,n.jsx)(x,{title:e.title,stageNumber:e.number,active:e.number===r},e.number)}))})}var D=t(24184);function k(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?k(Object(t),!0).forEach((function(r){(0,u.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Z(e){switch(e){case"checkbox":return"checked";case"file":return"files";default:return"value"}}function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function I(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){(0,u.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var C={TextWidget:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=Z(r);return function(i){var o=i.value,a=i.onChange,u=i.label,c=i.schema,s=i.options,l=i.required,d=i.disabled,p=c.name,f=void 0===p?u:p,h=c.pattern,b=c.minLength,v=c.maxLength,m=c.id,g=s.enumOptions,j=void 0===g?[]:g,x={onChange:function(e){var r=e.target[t];""===r&&(r=void 0),"true"===r&&(r=!0),"false"===r&&(r=!1),a(r)},label:u,name:f,maxLength:v,id:m,required:l,disabled:d,minLength:b,type:r,pattern:h,value:o||void 0,checked:"undefined"!==typeof o&&o};return"file"===r&&delete x.value,"checkbox"===r&&(x.value=!0),"radio"===r?(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{children:u}),j.map((function(r){return(0,n.jsx)(e,S(S({},x),{},{label:r.label,value:r.value,checked:r.value===o,style:{padding:"2px 0"},size:"small"}),r.value)}))]}):(0,n.jsx)(e,S(S({},x),{},{fullWidth:!0,children:j&&j.map((function(e){var r=e.value,t=e.label;return(0,n.jsx)("option",{value:r,children:t},r)}))}))}}(t(11915).ZP,"input")};function N(e){return(0,n.jsx)(D.ZP,I(I({},e),{},{widgets:C}))}var L={type:"object",properties:{projectLead:{type:"boolean",title:"Are you the product owner or project admin/team lead?"}},dependencies:{projectLead:{oneOf:[{properties:{projectLead:{enum:[!1]}}},{properties:{projectLead:{enum:[!0]},preferredEmail:{type:"string",title:"Business Email Address"},projectName:{type:"string",title:"Project Name"},newToSSO:{type:"boolean",title:"Are you new to Single Sign-On (Keycloak)?"}}}]}}},q={type:"object",properties:{realm:{type:"string",title:"Identity Providers Required",enum:["onestopauth","bceidbasic","bceidbusiness","bceidboth"],enumNames:["IDIR/GitHub","IDIR/GitHub + BCeID Basic","IDIR/GitHub + BCeID Business","IDIR/GitHub + BCeID Both"],default:"onestopauth"}}};function _(e){e.id;var r=e.classNames,t=(e.label,e.help),i=(e.required,e.description),o=e.errors,a=e.children;return(0,n.jsxs)("div",{className:r,children:[i,a,o,t]})}var F={identityProviders:{"ui:widget":"checkboxes","ui:disabled":"true","ui:help":"Currently we only support the onestopauth realm and IDPs cant be changed."},environments:{"ui:widget":"checkboxes"},projectLead:{"ui:widget":"radio"},newToSSO:{"ui:widget":"radio"},preferredEmail:{"ui:FieldTemplate":_},projectName:{"ui:FieldTemplate":_},realm:{"ui:widget":"radio","ui:enumDisabled":["bceidbasic","bceidbusiness","bceidboth"]}},R=t(4826),T=t(31607);t(44259);function B(){var e=(0,s.Z)(["\n  margin-left: 10px;\n  min-width: 150px;\n"]);return B=function(){return e},e}var G=(0,l.default)(R.ZP)(B());function H(e){var r=e.show,t=e.loading,i=e.text;return(0,n.jsx)(n.Fragment,{children:r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(R.ZP,{variant:"secondary",children:i.back}),(0,n.jsx)(G,{variant:"primary",children:t?(0,n.jsx)(T.Z,{type:"Grid",color:"#FFF",height:18,width:50,visible:!0}):(0,n.jsx)(n.Fragment,{children:i.continue})})]})})}var U=t(69696),A=t(6645);function W(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function X(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?W(Object(t),!0).forEach((function(r){(0,u.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var z=function(e){switch(e){case 1:return L;case 2:return q}};function K(e){var r=e.currentUser,t=void 0===r?{}:r,i=(0,c.useState)({}),u=i[0],s=i[1],l=(0,c.useState)(2),d=l[0],p=l[1],h=(0,c.useState)(!1),b=h[0],v=h[1];(0,c.useEffect)((function(){u.preferredEmail||s(X(X({},u),{},{preferredEmail:t.email||""}))}),[t]);var m=function(){var e=(0,a.Z)(o().mark((function e(r){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,(0,A.h)(r.formData);case 4:t=e.sent,n=t.id,p(d+1),s(X(X({},u),{},{id:n})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:v(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f,{formStage:d,id:u.id}),(0,n.jsx)(P,{currentStage:d}),(0,n.jsx)(N,{schema:z(d),uiSchema:F,onSubmit:m,onChange:function(e){s(e.formData),!1===e.formData.projectLead&&(window.location.hash="modal")},formData:u,children:(0,n.jsx)(H,{text:{continue:1===d?"Create File":"Next",back:"Cancel"},show:1!==d||u.projectLead,loading:b})}),1===d&&(0,n.jsxs)(U.ZP,{id:"modal",children:[(0,n.jsxs)(U.ZP.Header,{children:["Information ",(0,n.jsx)(U.ZP.Close,{children:"Close"})]}),(0,n.jsx)(U.ZP.Content,{children:"We cannot process realm requests except for individuals with the product owner, project admin or team lead role. Please get in touch with individuals with these roles in your organization to make this request for you."})]})]})}function J(){var e=(0,s.Z)(["\n  width: 80vw;\n  padding: 5%;\n  margin: auto;\n"]);return J=function(){return e},e}var M=l.default.div(J());var Q=function(e){var r=e.currentUser;return(0,n.jsx)(M,{children:(0,n.jsx)(K,{currentUser:r||{}})})}},6645:function(e,r,t){"use strict";t.d(r,{h:function(){return c},X:function(){return s}});var n=t(809),i=t.n(n),o=t(92447),a=t(70513),u=t(9186),c=function(){var e=(0,o.Z)(i().mark((function e(r){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,u.g)(),e.prev=1,e.next=4,a.e.post("requests",r,t).then((function(e){return e.data}));case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),s=function(){var e=(0,o.Z)(i().mark((function e(){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,u.g)(),e.prev=1,e.next=4,a.e.get("requests",r).then((function(e){return e.data}));case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},21916:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/request",function(){return t(38755)}])}},function(e){e.O(0,[605,774,888,179],(function(){return r=21916,e(e.s=r);var r}));var r=e.O();_N_E=r}]);