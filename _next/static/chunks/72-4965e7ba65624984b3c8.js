(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{92665:function(e,n,t){"use strict";var r=t(85893),i=t(27261),a=t(6434),o=t(29163),s=t(30454);function l(){var e=(0,i.Z)(["\n  margin-top: 10px;\n"]);return l=function(){return e},e}function c(){var e=(0,i.Z)(["\n  list-style: none;\n  margin: 0;\n  & li {\n    margin: 0;\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,i.Z)(["\n  font-weight: 600;\n"]);return d=function(){return e},e}function u(){var e=(0,i.Z)(["\n  margin: 20px 0;\n  max-width: 500px;\n  background-color: #e3e3e3;\n  height: 2px !important;\n"]);return u=function(){return e},e}function h(){var e=(0,i.Z)(["\n  margin-top: ",";\n  font-size: unset;\n  & tr {\n    display: flex;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    & > td {\n      border: none;\n      padding: 0 5px 0 0;\n    }\n  }\n"]);return h=function(){return e},e}var f=o.default.table(h(),s.SI),m=(o.default.hr(u()),o.default.span(d())),p=o.default.ul(c()),v=o.default.h2(l()),x=function(e){var n=e.list,t=e.title,i=e.inline,a=void 0!==i&&i;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:t}),(1===(null===n||void 0===n?void 0:n.length)||a)&&(0,r.jsx)(m,{children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,r.jsxs)("span",{children:[e,t!==n.length-1&&", "," "]},e)}))})]}),!a&&(null===n||void 0===n?void 0:n.length)>1&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{children:(0,r.jsx)(m,{children:(0,r.jsx)(p,{children:null===n||void 0===n?void 0:n.map((function(e){return(0,r.jsx)("li",{children:e},e)}))})})})})]})},g=function(e){return!!e&&(1!==e.length||""!==e[0])};n.Z=function(e){var n,t=e.request,i=e.hasBceid,o=e.isAdmin,s=void 0!==o&&o;return t?(0,r.jsxs)(r.Fragment,{children:[i&&!s&&(0,r.jsx)(v,{children:"Your Dev and/or Test environments are provided by the SSO Pathfinder team\xa0"}),(0,r.jsx)(f,{children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Are you accountable for this project?"}),(0,r.jsx)("td",{children:(0,r.jsx)(m,{children:(n=null===t||void 0===t?void 0:t.projectLead,void 0===n?"":n?"Yes":"No")})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Client Type:"}),(0,r.jsx)("td",{children:(0,r.jsx)(m,{children:null!==t&&void 0!==t&&t.publicAccess?"Public":"Confidential"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Project Name:"}),(0,r.jsx)("td",{children:(0,r.jsx)(m,{children:null===t||void 0===t?void 0:t.projectName})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Default email address:"}),(0,r.jsx)("td",{children:(0,r.jsx)(m,{children:null===t||void 0===t?void 0:t.preferredEmail})})]}),(0,r.jsx)(x,{list:null===t||void 0===t?void 0:t.additionalEmails,title:"Additional Emails:"}),(0,r.jsx)(x,{list:(0,a.LF)(null===t||void 0===t?void 0:t.realm),title:"Identity Providers Required:",inline:!0}),g(null===t||void 0===t?void 0:t.devValidRedirectUris)&&(0,r.jsx)(x,{list:null===t||void 0===t?void 0:t.devValidRedirectUris,title:"Dev Redirect URIs:"}),g(null===t||void 0===t?void 0:t.testValidRedirectUris)&&(0,r.jsx)(x,{list:null===t||void 0===t?void 0:t.testValidRedirectUris,title:"Test Redirect URIs:"}),g(null===t||void 0===t?void 0:t.prodValidRedirectUris)&&(0,r.jsx)(x,{list:null===t||void 0===t?void 0:t.prodValidRedirectUris,title:"Prod Redirect URIs:"})]})})]}):null}},80721:function(e,n,t){"use strict";var r=t(85893),i=t(27261),a=t(29163),o=t(30454),s=t(74150);function l(){var e=(0,i.Z)(["\n  margin-top: ",";\n"]);return l=function(){return e},e}function c(){var e=(0,i.Z)(["\n  &&& {\n    margin-left: 20px;\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,i.Z)(["\n  & li {\n    margin: 0;\n  }\n"]);return d=function(){return e},e}function u(){var e=(0,i.Z)(["\n  text-transform: uppercase;\n  margin-bottom: 0;\n  font-size: ",";\n"]);return u=function(){return e},e}var h=a.default.h2(u(),o.CA),f=a.default.ul(d()),m=a.default.li(c()),p=a.default.div(l(),o.SI);n.Z=function(){return(0,r.jsxs)(p,{children:[(0,r.jsx)(h,{children:"Requirements"}),(0,r.jsxs)(f,{children:[(0,r.jsx)("li",{children:"Keep your email address active, and if you are not using your integration, clean it up"}),(0,r.jsxs)("li",{children:["If you are not using your client app configuration"," ",(0,r.jsx)(s.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"ask us"})," ","for help"]})]}),(0,r.jsx)(h,{children:"We're a Community"}),(0,r.jsxs)(f,{children:[(0,r.jsxs)("li",{children:["As part of a community, we can solve things together and quickly. Please join the"," ",(0,r.jsx)(s.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel on Rocket.Chat"})]}),(0,r.jsxs)("li",{children:["Please follow the",(0,r.jsx)(s.ZP,{external:!0,href:"https://digital.gov.bc.ca/resources/digital-principles",target:"_blank",rel:"noreferrer",children:"BC Government digital standards"})]}),(0,r.jsx)("li",{children:"Coordinate load testing with the Pathfinder SSO Team, and please only use the Test environment"}),(0,r.jsxs)("li",{children:["The SSO Service is multitenancy; meaning you share with others, so please coordinate with us (",(0,r.jsx)(s.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel on Rocket.Chat"})," ","or email at ",(0,r.jsx)(s.ZP,{href:"mailto:bcgov.sso@gov.bc.ca",children:"bcgov.sso@gov.bc.ca"}),") :",(0,r.jsxs)("ul",{children:[(0,r.jsxs)(m,{children:["if you predict moderate or high loads",(0,r.jsx)("br",{}),"OR",(0,r.jsx)("br",{})]}),(0,r.jsx)(m,{children:"if you need to conduct load testing in TEST only"})]})]})]}),(0,r.jsx)(h,{children:"What's included in the service"}),(0,r.jsx)(f,{children:(0,r.jsx)("li",{children:"The Standard realm is configured to meet the general needs of the community. Currently, custom configurations, such as scopes or flows, are not available"})}),(0,r.jsx)(h,{children:"Understanding the service level"}),(0,r.jsxs)(f,{children:[(0,r.jsxs)("li",{children:['We are working towards enterprise service levels and in the interim the SSO Pathfinder service level is "best-effort" during business hours (Monday to Friday, 9am to 5pm), and after-hours resolution time is not guaranteed.',(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:'Please take this into account if you have a "critical" application'})})]}),(0,r.jsx)("li",{children:"From time to time, we may contact you to confirm if your configuration is needed"})]})]})}},45072:function(e,n,t){"use strict";t.d(n,{Z:function(){return Te}});var r=t(85893),i=t(809),a=t.n(i),o=t(39227),s=t(92447),l=t(26265),c=t(27261),d=t(67294),u=t(29163);function h(){var e=(0,c.Z)(["\n  font-weight: lighter;\n  color: #003366;\n  margin: 0;\n"]);return h=function(){return e},e}var f=u.default.h1(h()),m=t(96486);function p(e){var n=e.formStage,t=e.id,i=(0,m.padStart)(String(t),8,"0"),a=["".concat(t?"Req ID: ".concat(i," - "):"","Enter requester information"),"Req ID: ".concat(i," - Choose providers and provide URIs"),"Req ID: ".concat(i," - Terms and Conditions"),"Req ID: ".concat(i," - Review and Submit")];return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f,{children:a[n]})})}var v=t(17625),x=t(51436);function g(){var e=(0,c.Z)(["\n  width: 100px;\n  margin: 0;\n"]);return g=function(){return e},e}function j(){var e=(0,c.Z)(["\n  height: 40px;\n  width: 40px;\n  text-align: center;\n  line-height: 40px;\n  border-radius: 40px;\n  border: 1px solid #b9d8f0;\n  background-color: white;\n  font-weight: bold;\n"]);return j=function(){return e},e}function b(){var e=(0,c.Z)(["\n  height: 60px;\n  width: 200px;\n  background-color: #ebf7ff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 5px;\n  padding: 20px;\n  cursor: pointer;\n  margin: 3px 0;\n  font-weight: ",";\n  color: ",";\n  background-color: ",";\n  border: ",";\n"]);return b=function(){return e},e}var y=u.default.div(b(),(function(e){return e.active&&"bold"}),(function(e){return e.active||e.visited?"#003366":"#B0D4ED"}),(function(e){return e.active||e.visited?"#BCE4FF":"#F5FBFF"}),(function(e){return e.active||e.visited?"1px solid #006fc4":"1px solid #B9D8F0"})),w=u.default.div(j()),Z=u.default.p(g());function S(e){var n=e.stageNumber,t=e.title,i=e.active,a=e.visited,o=e.handleClick,s=e.hasError;return(0,r.jsxs)(y,{active:i||!1,visited:a||!1,onClick:o,children:[(0,r.jsx)(w,{children:s?(0,r.jsx)(v.G,{icon:x.eHv,color:"red",title:"Some additional fields require your attention."}):n}),(0,r.jsx)(Z,{children:t})]})}var k=t(64735);function C(){var e=(0,c.Z)(["\n  width: 824px;\n  max-width: 100%;\n"]);return C=function(){return e},e}var P=u.default.div(C());function q(e){var n=e.currentStage,t=e.setFormStage,i=e.errors,a=e.creatingNewForm,o=e.visited,s=e.stages;return(0,r.jsx)(P,{children:(0,r.jsx)(k.ZP,{cols:4,children:(0,r.jsx)(k.ZP.Row,{collapse:"992",gutter:[],children:null===s||void 0===s?void 0:s.map((function(e){return(0,r.jsx)(k.ZP.Col,{children:(0,r.jsx)(S,{title:e.title,stageNumber:e.number+1,active:e.number===n,hasError:!!i[e.number],visited:o[e.number],handleClick:function(){return function(e){a()||t(e)}(e.number)}},e.number)},e.title)}))})})})}var F=t(17849);function O(e){e.id;var n=e.classNames,t=(e.label,e.help),i=(e.required,e.description),a=e.errors,o=e.children;return(0,r.jsxs)("div",{className:n,children:[i,o,a,t]})}var D=t(60873);function I(){var e=(0,c.Z)(["\n  font-weight: bold;\n  font-size: 1rem;\n  margin: 0;\n"]);return I=function(){return e},e}var T=u.default.legend(I());function E(e){e.id;var n=e.classNames,t=e.label,i=e.help,a=(e.required,e.errors),o=e.children,s=e.schema,l=s.tooltipTitle,c=s.tooltipContent,d=s.hide,u=void 0===d?250:d,h=s.description;return(0,r.jsxs)("div",{className:n,children:[(0,r.jsxs)(T,{children:[t,"\xa0",c&&(0,r.jsx)(D.Z,{tooltipTitle:l,tooltipContent:c,hide:u})]}),h,o,a,i]})}function R(){var e=(0,c.Z)(["\n  font-weight: bold;\n  font-size: 1rem;\n  margin: 0;\n"]);return R=function(){return e},e}var N=u.default.legend(R());function A(e){var n=e.classNames,t=e.help,i=e.errors,a=e.children,o=e.schema,s=o.tooltipTitle,l=o.tooltipContent,c=o.hide,d=void 0===c?250:c,u=o.description;return(0,r.jsxs)("div",{className:n,children:[(0,r.jsxs)(N,{children:["Environments"," ",l&&(0,r.jsx)(D.Z,{tooltipTitle:s,tooltipContent:l,hide:d})]}),(0,r.jsx)("p",{children:"If requesting integration with a BCeID realm, your development and test environments can be created automatically. If requesting a production environment, we will be handing that off to the IDIM team for processing which will take longer."}),u,a,i,t]})}var B=function(e){return{identityProviders:{"ui:widget":"checkboxes","ui:disabled":"true","ui:help":"Currently we only support the onestopauth realm and IDPs cant be changed."},projectLead:{"ui:widget":"radio","ui:readonly":e,"ui:FieldTemplate":E},newToSso:{"ui:widget":"radio","ui:FieldTemplate":E},preferredEmail:{"ui:FieldTemplate":O,"ui:readonly":!0},publicAccess:{"ui:widget":"radio","ui:FieldTemplate":E},projectName:{"ui:FieldTemplate":O,"ui:placeholder":"Project Name"},realm:{"ui:widget":"radio","ui:FieldTemplate":E,"ui:default":"onestopauth"},bceidTo:{"ui:FieldTemplate":O,"ui:readonly":!0},bceidCc:{"ui:FieldTemplate":O},bceidBody:{"ui:widget":"textarea"},dev:{"ui:readonly":!0,"ui:FieldTemplate":A}}},L=t(1993),U=t(98806),G=t(69696),W=t(4826),V=t(6645),z=t(3083),M=t(11163),_=t(6434),H=t(30454),Y=t(25879),$=t(74150),J=t(82401),K=t(92665),Q=t(31607),X={type:"object",required:["comment"],properties:{comment:{type:"string",title:"Comment",fullWidth:!0,rows:4}}},ee={comment:{"ui:FieldTemplate":O,"ui:widget":"textarea"}},ne={type:"object",properties:{projectLead:{type:"boolean",title:"Are you accountable for this project?",tooltipContent:"\n      <p>\n        Only the person who is responsible for this project should be submitting the integration request.\xa0\n        If you are not the one accountable, please refer this request to a team member who will be accountable for this project.\n      </p>"}},required:["projectLead","projectName","preferredEmail"],dependencies:{projectLead:{oneOf:[{properties:{projectLead:{enum:[!1]}}},{properties:{projectLead:{enum:[!0]},projectName:{type:"string",title:"Project Name",maxLength:50},preferredEmail:{type:"string",title:"Default Email Address",format:"email",maxLength:250},additionalEmails:{type:["array","null"],title:"Additional Emails",items:{type:"string",maxLength:250,format:"email"},additionalItems:{type:"string",maxLength:250,format:"email"},deletableIndex:0,maxItems:2,addItemText:"Add Email Address"}}}]}}},te=t(28835),re=[ne,te.ZP,{type:"object",required:["agreeWithTerms"],properties:{agreeWithTerms:{type:"boolean",title:"I agree to the Terms and Conditions",default:null,enum:[null,!0]}}}],ie=[ne,te.ZP,X];function ae(){var e=(0,c.Z)(["\n  margin-top: 10px;\n"]);return ae=function(){return e},e}var oe=u.default.h2(ae());function se(e){e.bceidEmailDetails,e.setBceidEmailDetails;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(oe,{children:"Your Prod environment will be provided by the BCeID Team\xa0"}),(0,r.jsxs)("p",{children:["Once you submit the request, both you and the BCeID team will receive an email with your request details. The BCeID team will reach out to you within ",(0,r.jsx)("strong",{children:"2 business days"})," to schedule an on-boarding meeting.\xa0"]})]})}function le(){var e=(0,c.Z)(["\n  ","\n"]);return le=function(){return e},e}function ce(){var e=(0,c.Z)(["\n  border-left: 1px solid #bcbcbc;\n  height: calc(100% - 60px);\n  margin-left: calc("," / 2);\n"]);return ce=function(){return e},e}function de(){var e=(0,c.Z)(["\n  height: ",";\n  width: ",";\n  text-align: center;\n  line-height: ",";\n  border-radius: ",";\n  background-color: black;\n  color: white;\n  font-weight: bold;\n  margin: ",";\n  margin-left: 0;\n"]);return de=function(){return e},e}function ue(){var e=(0,c.Z)(["\n  margin: 10px;\n"]);return ue=function(){return e},e}function he(){var e=(0,c.Z)(["\n  display: block;\n  margin: 10px;\n  min-width: ",";\n"]);return he=function(){return e},e}function fe(){var e=(0,c.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n"]);return fe=function(){return e},e}var me="40px",pe=u.default.div(fe()),ve=(0,u.default)(W.ZP)(he(),H.I2),xe=(0,u.default)(J.Z)(ue()),ge=u.default.div(de(),me,me,me,me,"10px"),je=u.default.div(ce(),me),be=u.default.div(le(),(function(e){return e.showStepper?"\n  display: grid;\n  grid-template-columns: 50px 1fr;":""}));var ye=(0,Y.l)((function(e){var n=e.formData,t=e.setFormData,i=e.setErrors,l=e.alert,c=e.isAdmin,u=(0,d.useState)(!1),h=u[0],f=u[1],p=(0,d.useState)({}),g=p[0],j=p[1],b=(0,M.useRouter)(),y=(0,_.Jx)(n.realm),w=y&&!c,Z=function(){var e=(0,s.Z)(a().mark((function e(){var t,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,(0,V.WN)(n,!0);case 4:t=e.sent,r=(0,o.Z)(t,2),i=r[1],f(!1),i?l.show({variant:"danger",fadeOut:1e4,closable:!0,content:(0,_.nU)(i).message}):(l.show({variant:"success",fadeOut:1e4,closable:!0,content:"Request ID:".concat((0,m.padStart)(String(n.id),8,"0")," is successfully submitted!")}),b.push({pathname:c?"/admin-dashboard":"/my-requests",query:{id:n.id}})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),S=c?"Cancel":"Save and Close",k=c?"Update":"Submit";return(0,r.jsxs)(be,{showStepper:w,children:[w&&(0,r.jsxs)("div",{children:[(0,r.jsx)(ge,{children:"1"}),(0,r.jsx)(je,{})]}),(0,r.jsx)("div",{children:(0,r.jsx)(K.Z,{request:n,hasBceid:y||!1,isAdmin:c})}),c&&(0,r.jsx)(F.Z,{schema:X,uiSchema:ee,liveValidate:!0,onChange:function(e){t(e.formData)},formData:n,children:(0,r.jsx)(r.Fragment,{})}),w&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:(0,r.jsx)(ge,{children:"2"})}),(0,r.jsx)("div",{children:(0,r.jsx)(se,{bceidEmailDetails:g,setBceidEmailDetails:j})})]}),(0,r.jsx)("div",{}),(0,r.jsx)(L.Z,{text:{continue:k,back:S},show:!0,handleSubmit:function(){var e=c?ie:re,t=(0,_.G$)(n,e);if(Object.keys(t).length>0)return l.show({variant:"danger",fadeOut:1e4,closable:!0,content:"There were errors with your submission. Please see the navigation tabs above for the form pages with errors."}),i(t);window.location.hash="confirmation-modal"},handleBackClick:function(){var e=c?"/admin-dashboard":"/my-requests";b.push(e)}}),(0,r.jsxs)(U.Z,{id:"confirmation-modal",children:[(0,r.jsx)(G.ZP.Header,{children:(0,r.jsx)(v.G,{icon:x.sqG,size:"2x",title:"Information"})}),(0,r.jsxs)(G.ZP.Content,{children:[(0,r.jsx)("p",{children:"Are you sure you're ready to submit your request?"}),!c&&(0,r.jsxs)("p",{children:["If you need to change anything after submitting your request, please contact our"," ",(0,r.jsx)($.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel"})," ","or email ",(0,r.jsx)($.ZP,{href:"mailto:bcgov.sso@gov.bc.ca",children:"bcgov.sso@gov.bc.ca"})]}),(0,r.jsxs)(pe,{children:[(0,r.jsx)(xe,{onClick:function(){return window.location.hash="#"},children:"Cancel"}),(0,r.jsx)(ve,{onClick:Z,children:h?(0,r.jsx)(Q.Z,{type:"Grid",color:"#FFF",height:20,width:20}):"Submit"})]})]})]})]})})),we=t(80721),Ze=t(57120),Se=t(94679);function ke(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ke(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Pe(){var e=(0,c.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 150px;\n"]);return Pe=function(){return e},e}function qe(){var e=(0,c.Z)(["\n  margin: 0;\n"]);return qe=function(){return e},e}function Fe(){var e=(0,c.Z)(["\n  display: block;\n  margin: 10px;\n  margin-left: auto;\n"]);return Fe=function(){return e},e}var Oe=(0,u.default)(W.ZP)(Fe()),De=u.default.p(qe()),Ie=u.default.div(Pe());var Te=(0,Y.l)((function(e){var n,t=e.currentUser,i=void 0===t?{}:t,l=e.request,c=e.alert,u=e.isAdmin,h=(0,d.useState)(l||{}),f=h[0],m=h[1],g=(0,d.useState)(l?1:0),j=g[0],b=g[1],y=(0,d.useState)(!1),w=y[0],Z=y[1],S=(0,d.useState)(void 0),k=S[0],C=S[1],P=(0,d.useState)(!1),O=P[0],D=P[1],I=(0,d.useState)({}),T=I[0],E=I[1],R=(0,d.useState)(l?{0:!0}:{}),N=R[0],A=R[1],W=(0,M.useRouter)(),H=u?ie:re,Y=u?Ze.hO:Ze.w3,J=(null===(n=Y.find((function(e){return e.number===j})))||void 0===n?void 0:n.title)||"";(0,d.useEffect)((function(){f.preferredEmail||m(Ce(Ce({},f),{},{preferredEmail:i.email||""}))}),[i]);var K=function(e){N[j]=!0,3===e&&(N[0]=!0,N[1]=!0,N[2]=!0);var n=(0,_.G$)(f,H,N);E(n),b(e),A(N),c.hide()},Q=function(){return W.route.endsWith("/request")},X=B(!Q()),ee=function(){var e=(0,s.Z)(a().mark((function e(){var n,t,r,i,s,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(!0),e.prev=1,!Q()){e.next=19;break}return e.next=5,(0,V.hG)(f);case 5:if(n=e.sent,t=(0,o.Z)(n,2),r=t[0],i=t[1],s=(r||{}).id,!i&&s){e.next=13;break}return Z(!1),e.abrupt("return");case 13:return l=u?"/admin-dashboard":"/request/".concat(s),e.next=16,W.push({pathname:l});case 16:m(Ce(Ce({},f),{},{id:s})),e.next=22;break;case 19:return e.next=21,(0,V.WN)(f);case 21:ne();case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.error(e.t0);case 27:Z(!1);case 28:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,s.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==j){e.next=5;break}if(!Q()){e.next=5;break}return N[j]=!0,A(N),e.abrupt("return");case 5:K(j+1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,s.Z)(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q()&&!u){e.next=2;break}return e.abrupt("return");case 2:if(!l){e.next=11;break}return D(!0),e.next=6,(0,V.WN)(Ce(Ce({},f),{},{id:l.id}));case 6:r=e.sent,i=(0,o.Z)(r,2),i[1]||C({content:"Last saved at ".concat((new Date).toLocaleString()),error:!1}),D(!1);case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ae=l?"Save and Close":"Cancel";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Ie,{children:[(0,r.jsx)(p,{formStage:j,id:f.id}),(0,r.jsx)(q,{currentStage:j,setFormStage:K,errors:T,creatingNewForm:Q,visited:N,stages:Y}),(0,r.jsxs)(De,{children:["If new to SSO, please visit"," ",(0,r.jsx)($.ZP,{external:!0,href:"https://github.com/bcgov/ocp-sso/wiki/Using-Your-SSO-Client",children:"github"})," ","for more information."]})]}),"Terms and conditions"===J&&(0,r.jsx)(we.Z,{}),Ze.Hg.includes(J)&&(0,r.jsx)(ye,{formData:f,setErrors:E,errors:T,visited:N,saving:O,saveMessage:k,isAdmin:u,setFormData:m}),Ze.al.includes(J)&&(0,r.jsx)(F.Z,{schema:H[j]||{},uiSchema:X,onChange:function(e){m(e.formData),!1===e.formData.projectLead&&(window.location.hash="modal")},onSubmit:ee,formData:f,ArrayFieldTemplate:z.Z,onBlur:te,liveValidate:N[j]||u,validate:Se.M,children:(0,r.jsx)(L.Z,{formSubmission:0===j,text:{continue:"Next",back:ae},show:!u&&(0!==j||f.projectLead),loading:w,handleSubmit:ne,handleBackClick:function(){var e=u?"/admin-dashboard":"/my-requests";W.push({pathname:e})},saving:O,saveMessage:k})}),"Requester Info"===J&&(0,r.jsxs)(U.Z,{id:"modal",children:[(0,r.jsx)(G.ZP.Header,{children:(0,r.jsx)(v.G,{icon:x.sqG,size:"2x",title:"Information"})}),(0,r.jsxs)(G.ZP.Content,{children:["If you are not accountable for this project, please refer this request to someone who is.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Only the person who is responsible for this project can submit the intergration request.",(0,r.jsx)(Oe,{onClick:function(){window.location.hash="#"},children:"Okay"})]})]})]})}))}}]);