(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{69696:function(e,n,r){"use strict";n.ZP=void 0;var t={shared:{container:"\n      position: fixed;\n      top: 0;\n      left: 0;\n      font-size: 1rem;\n      width: 100%;\n      height: 100%;\n      background: rgba(220,220,220,0.8);\n    ",modal:"\n      max-width: 800px;\n      margin: 2rem auto;\n    ",header:"\n      display: flex;\n      color: #fff;\n      background: #38598A;\n      padding: 1.2em;\n    ",content:"\n      min-height: 5em;\n      background: #fff;\n      padding: 1.5em 1.2em;\n    ",close:"\n      margin-left: auto;\n      color: #fff;\n      font-weight: 600;\n\n      &:hover {\n        color: #fff;\n      }\n    "}};var i=(0,r(68985).applyTheme)(t,{defaultProps:{},staticProps:[]});var a=i;n.ZP=a},68985:function(e,n,r){"use strict";var t=r(95318),i=r(20862);Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.applyTheme=void 0;var a,o=t(r(22122)),s=t(r(19756)),l=t(r(45761)),c=i(r(67294)),d=t(r(86010)),u=t(r(29163)),f=r(80927),h={styleProps:{},Sheader:null,Scontent:null,Sfooter:null,Sclose:null},m=c.default.createContext(h),p=function(e,n){var r,t=(0,f.processStyle)(e),i=(0,f.createStyleBuilder)(t,n),h=n.as||{},p=i((r=h.container||"div",u.default[r](a||(a=(0,l.default)(["\n    visibility: hidden;\n\n    &:target {\n      visibility: visible;\n    }\n  "])))),"container"),x=i(h.modal||"div","modal"),v=i(h.header||"header","header"),g=i(h.content||"div","content"),j=i(h.footer||"footer","footer"),b=i("a","close"),y=(0,f.createBootstrap)(t,"modal"),w=function(e){var n=y(e),r=n.id,t=(n.name,n.label,n.ariaLabel,n.styleProps),i=n.children,a=n.className,l=n.rest,u=l.style,f=l.modalStyle,h=(l.onToggle,l.defaultToggled,(0,s.default)(l,["style","modalStyle","onToggle","defaultToggled"]));return c.default.createElement(m.Provider,{value:{styleProps:t,Sheader:v,Scontent:g,Sfooter:j,Sclose:b}},c.default.createElement(p,(0,o.default)({},h,{className:(0,d.default)("pg-modal-container",a),id:r,style:u}),c.default.createElement(x,{className:"pg-modal-main",style:f},i)))};return w.Header=function(e){var n=e.children,r=e.className,t=(0,s.default)(e,["children","className"]),i=(0,d.default)("pg-modal-header",r),a=(0,c.useContext)(m),l=a.Sheader,u=a.styleProps;return c.default.createElement(l,(0,o.default)({className:i},u,t),n)},w.Content=function(e){var n=e.children,r=e.className,t=(0,s.default)(e,["children","className"]),i=(0,d.default)("pg-modal-content",r),a=(0,c.useContext)(m),l=a.Scontent,u=a.styleProps;return c.default.createElement(l,(0,o.default)({className:i},u,t),n)},w.Footer=function(e){var n=e.children,r=e.className,t=(0,s.default)(e,["children","className"]),i=(0,d.default)("pg-modal-footer",r),a=(0,c.useContext)(m),l=a.Sfooter,u=a.styleProps;return c.default.createElement(l,(0,o.default)({className:i},u,t),n)},w.Close=function(e){var n=e.children,r=e.className,t=(0,s.default)(e,["children","className"]),i=(0,d.default)("pg-modal-close",r),a=(0,c.useContext)(m),l=a.Sclose,u=a.styleProps;return c.default.createElement(l,(0,o.default)({className:i},u,{href:"#",role:"button","aria-label":"close"},t),n)},w};n.applyTheme=p;var x=p({},{});n.default=x},80721:function(e,n,r){"use strict";var t=r(85893),i=r(27261),a=r(29163),o=r(30454);function s(){var e=(0,i.Z)(["\n  margin-top: ",";\n"]);return s=function(){return e},e}function l(){var e=(0,i.Z)(["\n  & li {\n    margin: 0;\n  }\n"]);return l=function(){return e},e}function c(){var e=(0,i.Z)(["\n  text-transform: uppercase;\n  margin-bottom: 0;\n  font-size: ",";\n"]);return c=function(){return e},e}var d=a.default.h2(c(),o.n5),u=a.default.ul(l()),f=a.default.div(s(),o.SI);n.Z=function(){return(0,t.jsxs)(f,{children:[(0,t.jsx)(d,{children:"We're a Community"}),(0,t.jsxs)(u,{children:[(0,t.jsx)("li",{children:"As part of a community, we can solve things together and quickly. Please join the #SSO channel on Rocket.Chat"}),(0,t.jsx)("li",{children:"Coordinate load testing with the Pathfinder SSO Team, and please only use the Test environment"}),(0,t.jsx)("li",{children:'The SSO Service is multitenancy, please keep request load levels within "x" requests/second'}),(0,t.jsxs)("li",{children:["Please follow the BC Government digital standards (",(0,t.jsx)("a",{href:"https://digital.gov.bc.ca/resources/digital-principles",children:"link"}),")"]})]}),(0,t.jsx)(d,{children:"Understanding the service level"}),(0,t.jsxs)(u,{children:[(0,t.jsx)("li",{children:'The SSO service level is "best-effort" during business hours (Monday to Friday, 9am to 5pm), and after-hours resolution time is not guaranteed'}),(0,t.jsx)("li",{children:'Please take this into account if you have a "critical" application'}),(0,t.jsx)("li",{children:"From time to time, we may contact you to confirm if your configuration is needed"})]}),(0,t.jsx)(d,{children:"What's included in the service"}),(0,t.jsx)(u,{children:(0,t.jsx)("li",{children:"The Standard realm is configured to meet the general needs of the community. Currently, custom configurations, such as scopes or flows, are not available"})}),(0,t.jsx)(d,{children:"Requirements"}),(0,t.jsxs)(u,{children:[(0,t.jsx)("li",{children:"Keep your email address active, and if you are not using your realm, clean it up"}),(0,t.jsx)("li",{children:"Let us know if you do not need the client app configuration"})]})]})}},99914:function(e,n,r){"use strict";r.d(n,{Z:function(){return xe}});var t=r(85893),i=r(809),a=r.n(i),o=r(39227),s=r(92447),l=r(26265),c=r(27261),d=r(67294),u=r(29163);function f(){var e=(0,c.Z)(["\n  font-weight: lighter;\n  color: #003366;\n"]);return f=function(){return e},e}var h=u.default.h1(f()),m=r(31607),p=r(17625),x=r(51436),v=r(96486);function g(){var e=(0,c.Z)(["\n  width: 30px;\n"]);return g=function(){return e},e}function j(){var e=(0,c.Z)(["\n  display: flex;\n  & p {\n    padding-left: 15px;\n  }\n"]);return j=function(){return e},e}var b=u.default.div(j()),y=u.default.span(g());function w(e){var n=e.formStage,r=e.id,i=e.saveMessage,a=e.saving,o=(0,v.padStart)(String(r),8,"0"),s=["".concat(r?"Req ID: ".concat(o," - "):"","Enter requester information"),"Req ID: ".concat(o," - Choose providers and provide URIs"),"Req ID: ".concat(o," - Terms and Conditions"),"Req ID: ".concat(o," - Review and Submit")];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h,{children:s[n-1]}),(a||i)&&(0,t.jsxs)(b,{children:[(0,t.jsx)(y,{children:a?(0,t.jsx)(m.Z,{type:"TailSpin",color:"#000",height:18,width:50,visible:!0,label:"request-saving"}):(0,t.jsx)(p.G,{style:{color:"#006fc4"},icon:x.LEp,title:"request-saved"})}),(0,t.jsx)("p",{children:i})]})]})}function S(){var e=(0,c.Z)(["\n  width: 100px;\n  margin: 0;\n"]);return S=function(){return e},e}function P(){var e=(0,c.Z)(["\n  height: 40px;\n  width: 40px;\n  text-align: center;\n  line-height: 40px;\n  border-radius: 40px;\n  background-color: white;\n"]);return P=function(){return e},e}function Z(){var e=(0,c.Z)(["\n  height: 60px;\n  width: 200px;\n  background-color: #ebf7ff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: bold;\n  border-radius: 5px;\n  padding: 20px;\n  cursor: pointer;\n  margin: 3px 0;\n\n  border: 1px solid #006fc4;\n  opacity: ",";\n  color: ",";\n"]);return Z=function(){return e},e}var k=u.default.div(Z(),(function(e){return e.active?"1":"0.5"}),(function(e){return!e.active&&"#003366"})),C=u.default.div(P()),N=u.default.p(S());function E(e){var n=e.stageNumber,r=e.title,i=e.active,a=e.handleClick,o=e.hasError;return(0,t.jsxs)(k,{active:i,onClick:a,children:[(0,t.jsx)(C,{children:o?(0,t.jsx)(p.G,{icon:x.eHv,color:"red",title:"error"}):n}),(0,t.jsx)(N,{children:r})]})}var O=r(64735);function q(){var e=(0,c.Z)(["\n  width: 824px;\n  max-width: 100%;\n"]);return q=function(){return e},e}var T=[{title:"Requester Info",number:1,errorKey:"firstPageErrors"},{title:"Providers and URIs",number:2,errorKey:"secondPageErrors"},{title:"Terms and conditions",number:3,errorKey:"thirdPageErrors"},{title:"Review & Submit",number:4,errorKey:"fourthPageErrors"}],D=u.default.div(q());function R(e){var n=e.currentStage,r=e.setFormStage,i=e.errors,a=e.creatingNewForm;return(0,t.jsx)(D,{children:(0,t.jsx)(O.ZP,{cols:4,children:(0,t.jsx)(O.ZP.Row,{collapse:"992",gutter:[],children:T.map((function(e){var o;return(0,t.jsx)(O.ZP.Col,{children:(0,t.jsx)(E,{title:e.title,stageNumber:e.number,active:e.number===n,hasError:(0,v.isObject)(i)&&((null===(o=i[e.errorKey])||void 0===o?void 0:o.length)||0)>0,handleClick:function(){return function(e){a()||r(e)}(e.number)}},e.number)},e.title)}))})})})}var I=r(17849),F=r(55225),L=r(37580),U=r(84391);function G(e){e.id;var n=e.classNames,r=(e.label,e.help),i=(e.required,e.description),a=e.errors,o=e.children;return(0,t.jsxs)("div",{className:n,children:[i,o,a,r]})}var W=function(e){return{identityProviders:{"ui:widget":"checkboxes","ui:disabled":"true","ui:help":"Currently we only support the onestopauth realm and IDPs cant be changed."},environments:{"ui:widget":"checkboxes"},projectLead:{"ui:widget":"radio","ui:readonly":e},newToSso:{"ui:widget":"radio"},preferredEmail:{"ui:FieldTemplate":G},publicAccess:{"ui:widget":"radio"},projectName:{"ui:FieldTemplate":G},realm:{"ui:widget":"radio","ui:enumDisabled":["bceidbasic","bceidbusiness","bceidboth"]}}},_=r(25463),A=r(69696),B=r(4826),K=r(6645),z=r(3083),H=r(15616),M=r(11163),V=r(45624),$=r(30454),Y=r(36028),J=r(8109);function Q(){var e=(0,c.Z)(["\n  font-weight: 600;\n"]);return Q=function(){return e},e}function X(){var e=(0,c.Z)(["\n  margin-top: ",";\n"]);return X=function(){return e},e}function ee(){var e=(0,c.Z)(["\n  margin: 20px 0;\n  max-width: 500px;\n  background-color: #e3e3e3;\n  height: 2px !important;\n"]);return ee=function(){return e},e}function ne(){var e=(0,c.Z)(["\n  margin-top: ",";\n  font-size: unset;\n  & tr {\n    display: flex;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    & > td {\n      border: none;\n      padding: 0 5px 0 0;\n    }\n  }\n"]);return ne=function(){return e},e}var re=u.default.table(ne(),$.SI),te=u.default.hr(ee()),ie=((0,u.default)(V.ZP)(X(),$.SI),u.default.span(Q())),ae=function(e){return void 0===e?"":e?"Yes":"No"},oe=function(e){if(!e)return"";var n="";return e.forEach((function(e){e&&(n+="".concat(e,", "))})),n.slice(0,-2)};function se(e){var n=e.formData,r=e.setErrors,i=e.setSubmitted,o=e.errors,l=e.submitted,c=void 0!==l&&l,u=(0,d.useState)(!1),f=u[0],h=u[1],m=(0,M.useRouter)();console.log(o);var p=o&&!(0===Object.keys(o).length),x=function(){var e=(0,s.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i(!0),!0===(t=(0,H.G$)(n))){e.next=5;break}return e.abrupt("return",r(t));case 5:return h(!0),e.next=8,(0,K.WN)(n,!0);case 8:h(!1),m.push({pathname:"/my-requests",query:{id:n.id}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(re,{children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Are you the product owner or project admin/team lead?"}),(0,t.jsx)("td",{children:(0,t.jsx)(ie,{children:ae(null===n||void 0===n?void 0:n.projectLead)})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Have you requested an SSO project before?"}),(0,t.jsx)("td",{children:(0,t.jsx)(ie,{children:ae(null===n||void 0===n?void 0:n.newToSso)})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Client Type:"}),(0,t.jsx)("td",{children:(0,t.jsx)(ie,{children:null!==n&&void 0!==n&&n.publicAccess?"Public":"Confidential"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Project Name:"}),(0,t.jsx)("td",{children:(0,t.jsx)(ie,{children:null===n||void 0===n?void 0:n.projectName})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Preferred email address:"}),(0,t.jsx)("td",{children:(0,t.jsx)(ie,{children:null===n||void 0===n?void 0:n.preferredEmail})})]})]})}),(0,t.jsx)(te,{}),(0,t.jsx)(re,{children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Identity providers required:"}),(0,t.jsx)("td",{children:(0,t.jsx)(ie,{children:oe((0,H.LF)(null===n||void 0===n?void 0:n.realm))})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Dev redirect URIs:"}),(0,t.jsx)("td",{children:(0,t.jsx)(ie,{children:oe(null===n||void 0===n?void 0:n.devValidRedirectUris)})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Test redirect URIs:"}),(0,t.jsx)("td",{children:(0,t.jsx)(ie,{children:oe(null===n||void 0===n?void 0:n.testValidRedirectUris)})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Prod redirect URIs:"}),(0,t.jsx)("td",{children:(0,t.jsx)(ie,{children:oe(null===n||void 0===n?void 0:n.prodValidRedirectUris)})})]})]})}),(0,t.jsx)(_.Z,{text:{continue:"Submit",back:"Cancel"},show:!0,loading:f,handleSubmit:x,handleBackClick:function(){m.push("/my-requests")}}),c&&p&&(0,t.jsx)(J.Z,{children:(0,t.jsx)(Y.Z,{variant:"danger",fadeOut:1e4,closable:!0,content:"There were errors with your submission. Please see the navigation tabs above for the form pages with errors."})},(new Date).getTime())]})}var le=r(80721);function ce(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function de(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ce(Object(r),!0).forEach((function(n){(0,l.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function ue(){var e=(0,c.Z)(["\n  display: block;\n  margin: 10px;\n  margin-left: auto;\n"]);return ue=function(){return e},e}function fe(){var e=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n\n  & .pg-modal-main {\n    margin: auto;\n  }\n"]);return fe=function(){return e},e}var he=(0,u.default)(A.ZP)(fe()),me=(0,u.default)(B.ZP)(ue()),pe=function(e){switch(e){case 1:return F.Z;case 2:return U.Z;case 3:return L.Z}};function xe(e){var n=e.currentUser,r=void 0===n?{}:n,i=e.request,l=(0,d.useState)(i||{}),c=l[0],u=l[1],f=(0,d.useState)(i?2:1),h=f[0],m=f[1],v=(0,d.useState)(!1),g=v[0],j=v[1],b=(0,d.useState)(void 0),y=b[0],S=b[1],P=(0,d.useState)(!1),Z=P[0],k=P[1],C=(0,d.useState)(null),N=C[0],E=C[1],O=(0,d.useState)(!1),q=O[0],T=O[1],D=(0,M.useRouter)();(0,d.useEffect)((function(){c.preferredEmail||u(de(de({},c),{},{preferredEmail:r.email||""}))}),[r]),(0,d.useEffect)((function(){if(q){var e=(0,H.G$)(c);E(!0===e?null:e)}}),[q,h]);var F=function(){return D.route.endsWith("/request")},L=W(!F()),U=function(){var e=(0,s.Z)(a().mark((function e(n){var r,t,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j(!0),!F()){e.next=15;break}return e.next=5,(0,K.hG)(n.formData);case 5:return r=e.sent,t=(0,o.Z)(r,2),i=t[0],t[1],s=(i||{}).id,e.next=12,D.push({pathname:"/request/".concat(s)});case 12:u(de(de({},c),{},{id:s})),e.next=17;break;case 15:return e.next=17,(0,K.WN)(n.formData);case 17:m(h+1),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error(e.t0);case 23:j(!1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(n){return e.apply(this,arguments)}}(),G=function(){var e=(0,s.Z)(a().mark((function e(n,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F()){e.next=2;break}return e.abrupt("return");case 2:if(!i){e.next=8;break}return k(!0),e.next=6,(0,K.WN)(de(de({},c),{},{id:i.id}));case 6:S("Last saved at ".concat((new Date).toLocaleString())),k(!1);case 8:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),B=function(){D.push("my-requests")};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w,{formStage:h,id:c.id,saveMessage:y,saving:Z}),(0,t.jsx)(R,{currentStage:h,setFormStage:m,errors:N,creatingNewForm:F}),3===h&&(0,t.jsx)(le.Z,{}),[1,2,3].includes(h)?(0,t.jsx)(I.Z,{schema:pe(h),uiSchema:L,onSubmit:U,onChange:function(e){u(e.formData),!1===e.formData.projectLead&&(window.location.hash="modal")},formData:c,ArrayFieldTemplate:z.Z,onBlur:G,liveValidate:q,children:(0,t.jsx)(_.Z,{text:{continue:"Next",back:"Cancel"},show:1!==h||c.projectLead,loading:g,handleBackClick:function(){D.push("/my-requests")}})}):(0,t.jsx)(se,{formData:c,setErrors:E,setSubmitted:T,submitted:q,errors:N}),1===h&&(0,t.jsxs)(he,{id:"modal",children:[(0,t.jsxs)(A.ZP.Header,{children:["Information"," ",(0,t.jsx)(A.ZP.Close,{children:(0,t.jsx)(p.G,{icon:x._Ob,size:"2x",role:"button","aria-label":"close",onClick:B})})]}),(0,t.jsxs)(A.ZP.Content,{children:["We can only process access requests submittted by"," ",(0,t.jsx)("strong",{children:"product owners, project admin or team leads"}),". If you are not acting in one of these roles, please get in touch with these individuals in your organization to make the request for you.",(0,t.jsx)(me,{onClick:B,children:"Okay"})]})]})]})}}}]);